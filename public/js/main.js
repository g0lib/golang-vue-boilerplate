!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static/js",n(n.s=1)}([function(t,e,n){
/* Riot v3.13.2, @license MIT */
!function(t){"use strict";function e(t,e){return(e||document).querySelector(t)}var n,r,i=[],o={},a="yield",s="__global_mixin",u="riot-",l=["ref","data-ref"],c="data-is",f="if",p="each",d="no-reorder",h="show",g="hide",m="key",v="__riot-events__",y="string",_="object",b="undefined",x="function",w="http://www.w3.org/1999/xlink",A="http://www.w3.org/2000/svg",N=/^xlink:(\w+)/,O=typeof window===b?void 0:window,C=/^on/,j=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,k={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},T=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,E=0|(O&&O.document||{}).documentMode;function L(t){return"svg"===t?document.createElementNS(A,t):document.createElement(t)}function M(t,e,n){var r=N.exec(e);r&&r[1]?t.setAttributeNS(w,r[1],n):t.setAttribute(e,n)}var S,P,I={},R=!1;O&&(S=L("style"),P=e("style[type=riot]"),M(S,"type","text/css"),P?(P.id&&(S.id=P.id),P.parentNode.replaceChild(S,P)):document.head.appendChild(S),r=(n=S).styleSheet);var H={styleNode:n,add:function(t,e){I[e]=t,R=!0},inject:function(){if(O&&R){R=!1;var t=Object.keys(I).map(function(t){return I[t]}).join("\n");r?r.cssText=t:n.innerHTML=t}},remove:function(t){delete I[t],R=!0}},V=function(){var t="[{(,;:?=|&!^~>%*/",e=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],n=e.reduce(function(t,e){return t+e.slice(-1)},""),r=/^\/(?=[^*>\/])[^[\/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\\/]*)*?\/[gimuy]*/,i=/[$\w]/;function o(t,e){for(;--e>=0&&/\s/.test(t[e]););return e}return function(a,s){var u=/.*/g,l=u.lastIndex=s++,c=u.exec(a)[0].match(r);if(c){var f=l+c[0].length;l=o(a,l);var p=a[l];if(l<0||~t.indexOf(p))return f;if("."===p)"."===a[l-1]&&(s=f);else if("+"===p||"-"===p)(a[--l]!==p||(l=o(a,l))<0||!i.test(a[l]))&&(s=f);else if(~n.indexOf(p)){for(var d=l+1;--l>=0&&i.test(a[l]););~e.indexOf(a.slice(l+1,d))&&(s=f)}}return s}}(),$=function(t){var e,n,r="g",i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),s=/(?=[[\]()*+?.^$|])/g,u=i.source+"|"+/(\/)(?![*\/])/.source,l={"(":RegExp("([()])|"+u,r),"[":RegExp("([[\\]])|"+u,r),"{":RegExp("([{}])|"+u,r)},c="{ }",f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+u,r),c,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],p=void 0,d=[];function h(t){return t}function g(t,e){return e||(e=d),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function m(t){if(t===c)return f;var e=t.split(" ");if(2!==e.length||a.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(s,"\\").split(" ")))[4]=g(e[1].length>1?/{[\S\s]*?}/:f[4],e),e[5]=g(t.length>3?/\\({|})/g:f[5],e),e[6]=g(f[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+u,r),e[8]=t,e}function v(t){return t instanceof RegExp?e(t):d[t]}function y(t){(t||(t=c))!==d[8]&&(d=m(t),e=t===c?h:g,d[9]=e(f[9])),p=t}return v.split=function(t,e,n){n||(n=d);var r,i,o,a,s,u,c=[],f=n[6],p=[],h="";for(i=o=f.lastIndex=0;r=f.exec(t);){if(u=f.lastIndex,a=r.index,i){if(r[2]){var g=r[2],m=l[g],v=1;for(m.lastIndex=u;r=m.exec(t);)if(r[1]){if(r[1]===g)++v;else if(!--v)break}else m.lastIndex=_(r.index,m.lastIndex,r[2]);f.lastIndex=v?t.length:m.lastIndex;continue}if(!r[3]){f.lastIndex=_(a,u,r[4]);continue}}r[1]||(y(t.slice(o,a)),o=f.lastIndex,(f=n[6+(i^=1)]).lastIndex=o)}return t&&o<t.length&&y(t.slice(o)),c.qblocks=p,c;function y(t){h&&(t=h+t,h=""),e||i?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function _(n,r,i){return i&&(r=V(t,n)),e&&r>n+2&&(s="⁗"+p.length+"~",p.push(t.slice(n,r)),h+=t.slice(o,n)+s,o=r),r}},v.hasExpr=function(t){return d[4].test(t)},v.loopKeys=function(t){var e=t.match(d[9]);return e?{key:e[1],pos:e[2],val:d[0]+e[3].trim()+d[1]}:{val:t.trim()}},v.array=function(t){return t?m(t):d},Object.defineProperty(v,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:y,get:function(){return p},enumerable:!0}),n=t,y(e)},get:function(){return n}}),v.settings="undefined"!=typeof riot&&riot.settings||{},v.set=y,v.skipRegex=V,v.R_STRINGS=i,v.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,v.S_QBLOCKS=o,v.S_QBLOCK2=u,v}(),U=function(){var t={};function e(i,o){return i?(t[i]||(t[i]=function(t){var e=function(t){var e,i=$.split(t.replace(n,'"'),1),o=i.qblocks;if(i.length>2||i[0]){var s,u,l=[];for(s=u=0;s<i.length;++s)(e=i[s])&&(e=1&s?a(e,1,o):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(l[u++]=e);e=u<2?l[0]:"["+l.join(",")+'].join("")'}else e=a(i[1],0,o);return o.length&&(e=e.replace(r,function(t,e){return o[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}(i))).call(o,function(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},e.errorHandler?e.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:o,tmpl:i})):i}e.hasExpr=$.hasExpr,e.loopKeys=$.loopKeys,e.clearCache=function(){t={}},e.errorHandler=null;var n=/\u2057/g,r=/\u2057(\d+)~/g,i=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,o={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function a(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,a=[],s=0;t&&(r=t.match(i))&&!r.index;){var u,l,f=/,|([[{(])|$/g;for(t=RegExp.rightContext,u=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];l=(r=f.exec(t))[1];)p(l,f);l=t.slice(0,r.index),t=RegExp.rightContext,a[s++]=c(l,1,u)}t=s?s>1?"["+a.join(",")+'].join(" ").trim()':a[0]:c(t,e)}return t;function p(e,n){var r,i=1,a=o[e];for(a.lastIndex=n.lastIndex;r=a.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:a.lastIndex}}var s='"in this?this:'+("object"!=typeof window?"global":"window")+").",u=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,l=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function c(t,e,n){var r;return t=t.replace(u,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+s+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!l.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}return e.version=$.version="v3.0.8",e}(),B=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){return t.on(e,function r(){t.off(e,r),n.apply(t,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,s=arguments,u=arguments.length-1,l=new Array(u);for(a=0;a<u;a++)l[a]=s[a+1];for(i=n.call(e[r]||[],0),a=0;o=i[a];++a)o.apply(t,l);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(l)),t},enumerable:!1,writable:!1,configurable:!1}}),t};function z(t,e){return Object.getOwnPropertyDescriptor(t,e)}function D(t){return typeof t===b}function F(t,e){var n=z(t,e);return D(t[e])||n&&n.writable}function q(t){for(var e,n=1,r=arguments,i=r.length;n<i;n++)if(e=r[n])for(var o in e)F(t,o)&&(t[o]=e[o]);return t}function K(t){return Object.create(t)}var W=q(K($.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0});function Z(t,e){return[].slice.call((e||document).querySelectorAll(t))}function G(){return document.createTextNode("")}function Q(t,e){t.style.display=e?"":"none",t.hidden=!e}function J(t,e){return t.getAttribute(e)}function X(t,e){t.removeAttribute(e)}function Y(t,e,n){if(n){var r=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+A+'">'+e+"</svg>","application/xml").documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function tt(t,e){if(t)for(var n;n=j.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function et(){return document.createDocumentFragment()}function nt(t,e,n){t.insertBefore(e,n.parentNode&&n)}function rt(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function it(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,it(t,e,i),t=r}}var ot=Object.freeze({$$:Z,$:e,createDOMPlaceholder:G,mkEl:L,setAttr:M,toggleVisibility:Q,getAttr:J,remAttr:X,setInnerHTML:Y,walkAttrs:tt,createFrag:et,safeInsert:nt,styleObjectToString:rt,walkNodes:it});function at(t){return D(t)||null===t}function st(t){return at(t)||""===t}function ut(t){return typeof t===x}function lt(t){return t&&typeof t===_}function ct(t){var e=t.ownerSVGElement;return!!e||null===e}function ft(t){return Array.isArray(t)||t instanceof Array}function pt(t){return T.test(t)}function dt(t){return typeof t===y}var ht=Object.freeze({isBlank:st,isFunction:ut,isObject:lt,isSvg:ct,isWritable:F,isArray:ft,isBoolAttr:pt,isNil:at,isString:dt,isUndefined:D});function gt(t,e){return-1!==t.indexOf(e)}function mt(t,e){for(var n=t?t.length:0,r=0;r<n;r++)e(t[r],r);return t}function vt(t,e){return t.slice(0,e.length)===e}var yt,_t=(yt=-1,function(){return++yt});function bt(t,e,n,r){return Object.defineProperty(t,e,q({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function xt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function wt(t){console&&console.warn&&console.warn(t)}var At=Object.freeze({contains:gt,each:mt,getPropDescriptor:z,startsWith:vt,uid:_t,defineProperty:bt,objectCreate:K,extend:q,toCamel:xt,warn:wt});function Nt(t,e,n,r,i){var o=t[e],a=ft(o),s=!D(i);if(!o||o!==n)if(!o&&r)t[e]=[n];else if(o)if(a){var u=o.indexOf(n);if(u===i)return;-1!==u&&o.splice(u,1),s?o.splice(i,0,n):o.push(n)}else t[e]=[o,n];else t[e]=n}function Ot(t){return t.tagName&&o[J(t,c)||J(t,c)||t.tagName.toLowerCase()]}function Ct(t,e){var n=Ot(t),r=!e&&J(t,c);return r&&!U.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function jt(){return this.parent?q(K(this),this.parent):this}var kt=/<yield\b/i,Tt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Et=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Lt=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Mt={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},St=E&&E<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Pt="div",It="svg";function Rt(t,n,r){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),a=L(r?It:Pt);return t=function(t,e){if(!kt.test(t))return t;var n={};return e=e&&e.replace(Et,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(Lt,function(t,e,r){return n[e]||r||""}).replace(Tt,function(t,n){return e||n||""})}(t,n),St.test(o)?a=function(t,n,r){var i="o"===r[0],o=i?"select>":"table>";if(t.innerHTML="<"+o+n.trim()+"</"+o,o=t.firstChild,i)o.selectedIndex=-1;else{var a=Mt[r];a&&1===o.childElementCount&&(o=e(a,o))}return o}(a,t,o):Y(a,t,r),a}var Ht=/^on/;function Vt(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function $t(t,e,n,r){var i,o=function(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(F(n,"currentTarget")&&(n.currentTarget=t),F(n,"target")&&(n.target=n.srcElement),F(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),W.autoUpdate&&!n.preventUpdate){var o=Vt(this);o.isMounted&&o.update()}}.bind(r,n,e);n[t]=null,i=t.replace(C,""),gt(r.__.listeners,n)||r.__.listeners.push(n),n[v]||(n[v]={}),n[v][t]&&n.removeEventListener(i,n[v][t]),n[v][t]=o,n.addEventListener(i,o,!1)}function Ut(t,e,n,r){var i=ye(t,e,n),o=e.tagName||Ct(e.root,!0),a=Vt(r);return bt(i,"parent",a),i.__.parent=r,Nt(a.tags,o,i),a!==r&&Nt(r.tags,o,i),i}function Bt(t,e,n,r){if(ft(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else t[e]===n&&delete t[e]}function zt(t,e){var n,r,i=G(),o=G(),a=et();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=r=i,this.__.tail=o;r;)n=r.nextSibling,a.appendChild(r),this.__.virts.push(r),r=n;e?t.insertBefore(a,e.__.head):t.appendChild(a)}function Dt(t,e){if(e.parentNode){var n=et();zt.call(t,n),e.parentNode.replaceChild(n,e)}}function Ft(t){if(!this.root||!J(this.root,"virtualized")){var e,n=t.dom,r=function(t){return t?(t=t.replace(u,""),k[t]&&(t=k[t]),t):null}(t.attr),i=gt([h,g],r),a=t.root&&"VIRTUAL"===t.root.tagName,s=this.__,l=s.isAnonymous,c=n&&(t.parent||n.parentNode),f=W.keepValueAttributes,p="style"===r,d="class"===r,m="value"===r;if(t._riot_id)t.__.wasCreated?t.update():(t.mount(),a&&Dt(t,t.root));else{if(t.update)return t.update();var v=i&&!l?jt.call(this):this,y=!st(e=U(t.expr,v)),_=lt(e);if(_&&(d?e=U(JSON.stringify(e),this):p&&(e=rt(e))),!t.attr||t.wasParsedOnce&&!1!==e&&(y||m&&(!m||f))||X(n,J(n,t.attr)?t.attr:r),t.bool&&(e=!!e&&r),t.isRtag)return function(t,e,n){var r,i=t.tag||t.dom._tag,a=(i?i.__:{}).head,s="VIRTUAL"===t.dom.tagName;i&&t.tagName===n?i.update():(i&&(s&&(r=G(),a.parentNode.insertBefore(r,a)),i.unmount(!0)),dt(n)&&(t.impl=o[n],t.impl&&(t.tag=i=Ut(t.impl,{root:t.dom,parent:e,tagName:n},t.dom.innerHTML,e),mt(t.attrs,function(t){return M(i.root,t.name,t.value)}),t.tagName=n,i.mount(),s&&Dt(i,r||i.root),e.__.onUnmount=function(){var t=i.opts.dataIs;Bt(i.parent.tags,t,i),Bt(i.__.parent.tags,t,i),i.unmount()})))}(t,this,e);if((!t.wasParsedOnce||t.value!==e)&&(t.value=e,t.wasParsedOnce=!0,!_||d||p||i)){if(y||(e=""),!r)return e+="",void(c&&(t.parent=c,"TEXTAREA"===c.tagName?(c.value=e,E||(n.nodeValue=e)):n.nodeValue=e));switch(!0){case ut(e):b=r,Ht.test(b)&&$t(r,e,n,this);break;case i:Q(n,r===g?!e:e);break;default:t.bool&&(n[r]=e),m&&n.value!==e?n.value=e:y&&!1!==e&&M(n,r,e),p&&n.hidden&&Q(n,!1)}var b}}}}function qt(t){mt(t,Ft.bind(this))}function Kt(t,e,n,r,i){if(!t||!n){var o=t?jt.call(this):e||this;mt(i,function(t){t.expr&&Ft.call(o,t.expr),r[xt(t.name).replace(u,"")]=t.expr?t.expr.value:t.value})}}function Wt(t){if(!t){var e=Object.keys(o);return e+Wt(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+c+'="'+n+'"]'},"")}function Zt(t,e){var n=this.name,r=this.tmpl,i=this.css,a=this.attrs,s=this.onCreate;return o[n]||(Gt(n,r,i,a,s),o[n].class=this.constructor),_e(t,n,e,this),i&&H.inject(),this}function Gt(t,e,n,r,i){return ut(r)&&(i=r,/^[\w-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(ut(n)?i=n:H.add(n,t)),t=t.toLowerCase(),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Qt(t,e,n,r,i){return n&&H.add(n,t),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Jt(t,e,n){var r,i,o=[];if(H.inject(),(lt(e)||ut(e))&&(n=e,e=0),dt(t)?(t="*"===t?i=Wt():t+Wt(t.split(/, */)),r=t?Z(t):[]):r=t,"*"===e){if(e=i||Wt(),r.tagName)r=Z(e,r);else{var a=[];mt(r,function(t){return a.push(Z(e,t))}),r=a}e=0}return function t(r){if(r.tagName){var i,a=J(r,c);e&&a!==e&&(a=e,M(r,c,e)),(i=_e(r,a||r.tagName.toLowerCase(),ut(n)?n():n))&&o.push(i)}else r.length&&mt(r,t)}(r),o}var Xt={},Yt=Xt[s]={},te=0;function ee(t,e,n){if(lt(t))ee("__"+te+++"__",t,!0);else{var r=n?Yt:Xt;if(!e){if(D(r[t]))throw new Error("Unregistered mixin: "+t);return r[t]}r[t]=ut(e)?q(e.prototype,r[t]||{})&&e:q(r[t]||{},e)}}function ne(){return mt(i,function(t){return t.update()})}function re(t){return H.remove(t),delete o[t]}var ie=Object.freeze({Tag:Zt,tag:Gt,tag2:Qt,mount:Jt,mixin:ee,update:ne,unregister:re,version:"v3.13.2"});function oe(t,e){var n,r=this.parent;r&&(ft(n=r.tags[t])?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):Nt(r.tags,t,this))}function ae(t,e){for(var n,r=this.__.head,i=et();r;)if(n=r.nextSibling,i.appendChild(r),(r=n)===this.__.tail){i.appendChild(r),t.insertBefore(i,e.__.head);break}}function se(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function ue(t,e){t.splice(e,1),this.unmount(),Bt(this.parent,this,this.__.tagName,!0)}function le(t,e,n){var r=typeof J(t,d)!==y||X(t,d),i=J(t,m),a=!!i&&U.hasExpr(i),s=Ct(t),u=o[s],l=t.parentNode,c=G(),h=Ot(t),g=J(t,f),v=[],b=t.innerHTML,x=!o[s],w="VIRTUAL"===t.tagName,A=[];return X(t,p),X(t,m),(n=U.loopKeys(n)).isLoop=!0,g&&X(t,f),l.insertBefore(c,t),l.removeChild(t),n.update=function(){n.value=U(n.val,e);var o=n.value,l=et(),f=!ft(o)&&!dt(o),p=c.parentNode,d=[],m=f&&!!o;if(p){f&&(o=o?Object.keys(o).map(function(t){return se(n,o[t],t)}):[]);var y=0;mt(o,function(c,N){var O=N-y,C=!m&&n.key?se(n,c,N):c;if(!g||U(g,q(K(e),C))){var j=function(t,e,n,r){return t?r?U(t,n):e[t]:e}(i,c,C,a),k=!f&&r&&typeof c===_||i,T=A.indexOf(j),E=-1===T,L=!E&&k?T:O,M=v[L],S=O>=A.length,P=k&&E||!k&&!M||!v[O];P?((M=ye(u,{parent:e,isLoop:!0,isAnonymous:x,tagName:s,root:t.cloneNode(x),item:C,index:O},b)).mount(),S?function(t,e){e?zt.call(this,t):t.appendChild(this.root)}.apply(M,[l||p,w]):function(t,e,n){n?zt.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(M,[p,v[O],w]),S||A.splice(O,0,C),v.splice(O,0,M),h&&Nt(e.tags,s,M,!0)):L!==O&&k&&((i||gt(o,A[L]))&&(function(t,e,n){n?ae.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(M,[p,v[O],w]),v.splice(O,0,v.splice(L,1)[0]),A.splice(O,0,A.splice(L,1)[0])),n.pos&&(M[n.pos]=O),!h&&M.tags&&function(t){var e=this;mt(Object.keys(this.tags),function(n){oe.apply(e.tags[n],[n,t])})}.call(M,O)),q(M.__,{item:C,index:O,parent:e}),d[O]=j,P||M.update(C)}else y++}),function(t,e,n){for(var r=e.length,i=t.length-n;r>i;)r--,ue.apply(e[r],[e,r])}(o,v,y),A=d.slice(),p.insertBefore(l,c)}},n.unmount=function(){mt(v,function(t){t.unmount()})},n}var ce={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=U.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&Vt(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?U(this.rawValue,this.parent):this.rawValue,!st(t)&&e&&Bt(e.refs,t,n),!st(this.value)&&dt(this.value)?(e&&Nt(e.refs,this.value,n,null,this.parent.__.index),this.value!==t&&M(this.dom,this.attr,this.value)):X(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&Vt(this.parent);!st(this.value)&&e&&Bt(e.refs,this.value,t)}};function fe(t,e,n,r){return K(ce).init(t,e,n,r)}function pe(t){mt(t,function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}var de={init:function(t,e,n){X(t,f),q(this,{tag:e,expr:n,stub:G(),pristine:t});var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=U(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ge.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&qt.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),pe(this.expressions||[])}};function he(t,e,n){return K(de).init(t,e,n)}function ge(t,e){var n=this,r=[];return it(t,function(i){var o,a,s=i.nodeType;if((e||i!==t)&&(3===s&&"STYLE"!==i.parentNode.tagName&&U.hasExpr(i.nodeValue)&&r.push({dom:i,expr:i.nodeValue}),1===s)){var u="VIRTUAL"===i.tagName;if(o=J(i,p))return u&&M(i,"loopVirtual",!0),r.push(le(i,n,o)),!1;if(o=J(i,f))return r.push(he(i,n,o)),!1;if((o=J(i,c))&&U.hasExpr(o))return r.push({isRtag:!0,expr:o,dom:i,attrs:[].slice.call(i.attributes)}),!1;if(a=Ot(i),u&&(J(i,"virtualized")&&i.parentElement.removeChild(i),a||J(i,"virtualized")||J(i,"loopVirtual")||(a={tmpl:i.outerHTML})),a&&(i!==t||e)){var l=J(i,c);if(!u||l)return l&&u&&wt("Virtual tags shouldn't be used together with the \""+c+'" attribute - https://github.com/riot/riot/issues/2511'),r.push(Ut(a,{root:i,parent:n},i.innerHTML,n)),!1;M(i,"virtualized",!0);var d=ye({tmpl:i.outerHTML},{root:i,parent:n},i.innerHTML);r.push(d)}me.apply(n,[i,i.attributes,function(t,e){e&&r.push(e)}])}}),r}function me(t,e,n){var r=this;mt(e,function(e){if(!e)return!1;var i,o=e.name,s=pt(o);gt(l,o)&&t.tagName.toLowerCase()!==a?i=fe(t,r,o,e.value):U.hasExpr(e.value)&&(i={dom:t,expr:e.value,attr:o,bool:s}),n(e,i)})}function ve(t){var e=this.__,n=e.isAnonymous,r=e.skipAnonymous;bt(this,"isMounted",t),n&&r||(t?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function ye(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var r,o=e.context||{},a=e.opts||{},l=e.parent,c=e.isLoop,f=!!e.isAnonymous,p=W.skipAnonymousTags&&f,d=e.item,h=e.index,g=t.tmpl,m=[],y=e.root,_=e.tagName||Ct(y),b="virtual"===_,x=!b&&!g;return x||c&&f?r=y:(b||(y.innerHTML=""),r=Rt(g,n,ct(y))),p||B(o),t.name&&y._tag&&y._tag.unmount(!0),bt(o,"__",{impl:t,root:y,skipAnonymous:p,implAttrs:[],isAnonymous:f,instAttrs:[],innerHTML:n,tagName:_,index:h,isLoop:c,isInline:x,item:d,parent:l,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",_t()],["root",y],["opts",a,{writable:!0,enumerable:!0}],["parent",l||null],["tags",{}],["refs",{}],["update",function(t){return function(t,e,n){var r=t.__,i={},o=t.isMounted&&!r.skipAnonymous;return r.isAnonymous&&r.parent&&q(t,r.parent),q(t,e),Kt.apply(t,[r.isLoop,r.parent,r.isAnonymous,i,r.instAttrs]),o&&t.isMounted&&ut(t.shouldUpdate)&&!t.shouldUpdate(e,i)?t:(q(t.opts,i),o&&t.trigger("update",e),qt.call(t,n),o&&t.trigger("updated"),t)}(o,t,m)}],["mixin",function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return mt(e,function(e){var n,r,i=[],o=["init","__proto__"];e=dt(e)?ee(e):e,n=ut(e)?new e:e;var a=Object.getPrototypeOf(n);do{i=i.concat(Object.getOwnPropertyNames(r||n))}while(r=Object.getPrototypeOf(r||n));mt(i,function(e){if(!gt(o,e)){var r=z(n,e)||z(a,e),i=r&&(r.get||r.set);!t.hasOwnProperty(e)&&i?Object.defineProperty(t,e,r):t[e]=ut(n[e])?n[e].bind(t):n[e]}}),n.init&&n.init.bind(t)(t.opts)}),t}.apply(void 0,[o].concat(t))}],["mount",function(){return function(t,e,n,r){var i=t.__,o=i.root;o._tag=t,me.apply(i.parent,[o,o.attributes,function(e,n){!i.isAnonymous&&ce.isPrototypeOf(n)&&(n.tag=t),e.expr=n,i.instAttrs.push(e)}]),tt(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})}),me.apply(t,[o,i.implAttrs,function(t,e){e?n.push(e):M(o,t.name,t.value)}]),Kt.apply(t,[i.isLoop,i.parent,i.isAnonymous,r,i.instAttrs]);var a=ee(s);if(a&&!i.skipAnonymous)for(var u in a)a.hasOwnProperty(u)&&t.mixin(a[u]);if(i.impl.fn&&i.impl.fn.call(t,r),i.skipAnonymous||t.trigger("before-mount"),mt(ge.apply(t,[e,i.isAnonymous]),function(t){return n.push(t)}),t.update(i.item),!i.isAnonymous&&!i.isInline)for(;e.firstChild;)o.appendChild(e.firstChild);if(bt(t,"root",o),!i.skipAnonymous&&t.parent){var l=Vt(t.parent);l.one(l.isMounted?"updated":"mount",function(){ve.call(t,!0)})}else ve.call(t,!0);return t.__.wasCreated=!0,t}(o,r,m,a)}],["unmount",function(t){return function(t,e,n){var r=t.__,o=r.root,a=i.indexOf(t),s=o.parentNode;if(r.skipAnonymous||t.trigger("before-unmount"),tt(r.impl.attrs,function(t){vt(t,u)&&(t=t.slice(u.length)),X(o,t)}),t.__.listeners.forEach(function(t){Object.keys(t[v]).forEach(function(e){t.removeEventListener(e,t[v][e])})}),-1!==a&&i.splice(a,1),r.parent&&!r.isAnonymous){var l=Vt(r.parent);r.isVirtual?Object.keys(t.tags).forEach(function(e){return Bt(l.tags,e,t.tags[e])}):Bt(l.tags,r.tagName,t)}return t.__.virts&&mt(t.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),pe(n),mt(r.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),e?Y(o,""):s&&s.removeChild(o),r.onUnmount&&r.onUnmount(),t.isMounted||ve.call(t,!0),ve.call(t,!1),delete o._tag,t}(o,t,m)}]].reduce(function(t,e){var n=e[0],r=e[1],i=e[2];return bt(o,n,r,i),t},q(o,d))}function _e(t,e,n,r){var a,s=o[e],u=o[e].class,l=r||(u?K(u.prototype):{}),c=t._innerHTML=t._innerHTML||t.innerHTML,f=q({root:t,opts:n,context:l},{parent:n?n.parent:null});return s&&t&&(a=ye(s,f,c)),a&&a.mount&&(a.mount(!0),gt(i,a)||i.push(a)),a}var be=Object.freeze({arrayishAdd:Nt,getTagName:Ct,inheritParentProps:jt,mountTo:_e,selectTags:Wt,arrayishRemove:Bt,getTag:Ot,initChildTag:Ut,moveChildTag:oe,makeReplaceVirtual:Dt,getImmediateCustomParentTag:Vt,makeVirtual:zt,moveVirtual:ae,unmountAll:pe,createIfDirective:he,createRefDirective:fe}),xe=W,we={tmpl:U,brackets:$,styleManager:H,vdom:i,styleNode:H.styleNode,dom:ot,check:ht,misc:At,tags:be},Ae=Zt,Ne=Gt,Oe=Qt,Ce=Jt,je=ee,ke=ne,Te=re,Ee=B,Le=q({},ie,{observable:B,settings:xe,util:we});t.settings=xe,t.util=we,t.Tag=Ae,t.tag=Ne,t.tag2=Oe,t.mount=Ce,t.mixin=je,t.update=ke,t.unregister=Te,t.version="v3.13.2",t.observable=Ee,t.default=Le,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r);n(2),n(3);i.a.mount("hello-world")},function(t,e,n){!function(t,e){"use strict";var n="isMounted opts".split(" ");function r(t){e.util.styleManager.inject();for(var i=document.querySelectorAll(t+", [data-is="+t+"]"),o=[],a=0;a<i.length;a++){var s,u=i[a],l=u._tag;r.trigger("before-unmount",l),l.unmount(!0),u.innerHTML=l.__.innerHTML,(l.__.instAttrs||[]).map(function(t){u.setAttribute(t.name,t.value)});var c={};for(p in l.opts)c[p]=l.opts[p];c.parent=l.parent,r.trigger("before-mount",c,l);var f=e.mount(u,c)[0];for(var p in l)s=l[p],~n.indexOf(p)||(f[p]=s);f.update(),o.push(f),r.trigger("after-mount",f,l)}return o}e.observable(r),e.reload=r,e.default&&(e.default.reload=r),t.reload=r,t.default=r,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(0))},function(t,e,n){n(0).tag2("hello-world","<h3>Hello from the Hello World Riot Tag!!</h3>","","",function(t){console.log("Hello from the Hello World Riot Tag")})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jpb3QvcmlvdC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jpb3QtaG90LXJlbG9hZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvdGFncy9oZWxsby13b3JsZC50YWciXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCIkIiwic2VsZWN0b3IiLCJjdHgiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZU5vZGUiLCJjc3NUZXh0UHJvcCIsIl9fVEFHU19DQUNIRSIsIl9fVEFHX0lNUEwiLCJZSUVMRF9UQUciLCJHTE9CQUxfTUlYSU4iLCJBVFRSU19QUkVGSVgiLCJSRUZfRElSRUNUSVZFUyIsIklTX0RJUkVDVElWRSIsIkNPTkRJVElPTkFMX0RJUkVDVElWRSIsIkxPT1BfRElSRUNUSVZFIiwiTE9PUF9OT19SRU9SREVSX0RJUkVDVElWRSIsIlNIT1dfRElSRUNUSVZFIiwiSElERV9ESVJFQ1RJVkUiLCJLRVlfRElSRUNUSVZFIiwiUklPVF9FVkVOVFNfS0VZIiwiVF9TVFJJTkciLCJUX09CSkVDVCIsIlRfVU5ERUYiLCJUX0ZVTkNUSU9OIiwiWExJTktfTlMiLCJTVkdfTlMiLCJYTElOS19SRUdFWCIsIldJTiIsIndpbmRvdyIsInVuZGVmaW5lZCIsIlJFX0VWRU5UU19QUkVGSVgiLCJSRV9IVE1MX0FUVFJTIiwiQ0FTRV9TRU5TSVRJVkVfQVRUUklCVVRFUyIsInZpZXdib3giLCJwcmVzZXJ2ZWFzcGVjdHJhdGlvIiwiUkVfQk9PTF9BVFRSUyIsIklFX1ZFUlNJT04iLCJkb2N1bWVudE1vZGUiLCJtYWtlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJkb20iLCJ2YWwiLCJ4bGluayIsImV4ZWMiLCJzZXRBdHRyaWJ1dGVOUyIsIm5ld05vZGUiLCJ1c2VyTm9kZSIsImJ5TmFtZSIsIm5lZWRzSW5qZWN0IiwiaWQiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiaGVhZCIsImFwcGVuZENoaWxkIiwic3R5bGVTaGVldCIsInN0eWxlTWFuYWdlciIsImFkZCIsImNzcyIsImluamVjdCIsInN0eWxlIiwia2V5cyIsIm1hcCIsImsiLCJqb2luIiwiY3NzVGV4dCIsImlubmVySFRNTCIsInJlbW92ZSIsInNraXBSZWdleCIsImJlZm9yZVJlQ2hhcnMiLCJiZWZvcmVSZVdvcmRzIiwid29yZHNMYXN0Q2hhciIsInJlZHVjZSIsInciLCJzbGljZSIsIlJFX1JFR0VYIiwiUkVfVk5fQ0hBUiIsInByZXYiLCJjb2RlIiwicG9zIiwidGVzdCIsInN0YXJ0IiwicmUiLCJsYXN0SW5kZXgiLCJtYXRjaCIsIm5leHQiLCJsZW5ndGgiLCJpbmRleE9mIiwiZW5kIiwiYnJhY2tldHMiLCJVTkRFRiIsIl9yZWdleCIsIl9zZXR0aW5ncyIsIlJFR0xPQiIsIlJfU1RSSU5HUyIsIlNfUUJMT0NLUyIsInNvdXJjZSIsIlVOU1VQUE9SVEVEIiwiUmVnRXhwIiwiTkVFRF9FU0NBUEUiLCJTX1FCTE9DSzIiLCJGSU5EQlJBQ0VTIiwiKCIsIlsiLCJ7IiwiREVGQVVMVCIsIl9wYWlycyIsImNhY2hlZEJyYWNrZXRzIiwiX2NhY2hlIiwiX2xvb3BiYWNrIiwiX3Jld3JpdGUiLCJicCIsInJlcGxhY2UiLCJnbG9iYWwiLCJfY3JlYXRlIiwicGFpciIsImFyciIsInNwbGl0IiwiRXJyb3IiLCJjb25jYXQiLCJfYnJhY2tldHMiLCJyZU9ySWR4IiwiX3Jlc2V0Iiwic3RyIiwidG1wbCIsIl9icCIsImlzZXhwciIsIm1hcmsiLCJwYXJ0cyIsInFibG9ja3MiLCJwcmV2U3RyIiwiaW5kZXgiLCJjaCIsInJlY2giLCJpeCIsInB1c2hRQmxvY2siLCJ1bmVzY2FwZVN0ciIsInB1c2giLCJfcG9zIiwiX2xhc3RJbmRleCIsInNsYXNoIiwiaGFzRXhwciIsImxvb3BLZXlzIiwiZXhwciIsInRyaW0iLCJhcnJheSIsInNldCIsImIiLCJzZXR0aW5ncyIsInJpb3QiLCJSX01MQ09NTVMiLCJfdG1wbCIsImRhdGEiLCJSRV9EUVVPVEUiLCJxc3RyIiwiaiIsImxpc3QiLCJfcGFyc2VFeHByIiwiUkVfUUJNQVJLIiwiXyIsIl9nZXRUbXBsIiwiRnVuY3Rpb24iLCJlcnIiLCJyaW90RGF0YSIsInRhZ05hbWUiLCJfXyIsIl9yaW90X2lkIiwiZXJyb3JIYW5kbGVyIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsImxvZyIsInRoaXMiLCJjbGVhckNhY2hlIiwiUkVfQ1NOQU1FIiwiUkVfQlJFTkQiLCJhc1RleHQiLCJjbnQiLCJqc2IiLCJyaWdodENvbnRleHQiLCJza2lwQnJhY2VzIiwiX3dyYXBFeHByIiwibW0iLCJsdiIsImlyIiwiSlNfQ09OVEVYVCIsIkpTX1ZBUk5BTUUiLCJKU19OT1BST1BTIiwidGIiLCJtdmFyIiwidmVyc2lvbiIsIm9ic2VydmFibGUiLCJlbCIsImNhbGxiYWNrcyIsIkFycmF5IiwiZGVmaW5lUHJvcGVydGllcyIsIm9uIiwiZXZlbnQiLCJmbiIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwib2ZmIiwiY2IiLCJzcGxpY2UiLCJvbmUiLCJhcHBseSIsImFyZ3VtZW50cyIsInRyaWdnZXIiLCJmbnMiLCJhcmd1bWVudHMkMSIsImFyZ2xlbiIsImFyZ3MiLCJnZXRQcm9wRGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImlzVW5kZWZpbmVkIiwiaXNXcml0YWJsZSIsIm9iaiIsImRlc2NyaXB0b3IiLCJleHRlbmQiLCJzcmMiLCJza2lwQW5vbnltb3VzVGFncyIsImtlZXBWYWx1ZUF0dHJpYnV0ZXMiLCJhdXRvVXBkYXRlIiwiJCQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3JlYXRlRE9NUGxhY2Vob2xkZXIiLCJjcmVhdGVUZXh0Tm9kZSIsInRvZ2dsZVZpc2liaWxpdHkiLCJzaG93IiwiZGlzcGxheSIsImhpZGRlbiIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldElubmVySFRNTCIsImNvbnRhaW5lciIsImh0bWwiLCJpc1N2ZyIsIm5vZGUiLCJvd25lckRvY3VtZW50IiwiaW1wb3J0Tm9kZSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRvY3VtZW50RWxlbWVudCIsIndhbGtBdHRyaWJ1dGVzIiwidG9Mb3dlckNhc2UiLCJjcmVhdGVGcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJzYWZlSW5zZXJ0Iiwicm9vdCIsImN1cnIiLCJpbnNlcnRCZWZvcmUiLCJzdHlsZU9iamVjdFRvU3RyaW5nIiwiYWNjIiwicHJvcCIsIndhbGtOb2RlcyIsImNvbnRleHQiLCJyZXMiLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLCJmcmVlemUiLCJta0VsIiwic2V0QXR0ciIsImdldEF0dHIiLCJyZW1BdHRyIiwid2Fsa0F0dHJzIiwiY3JlYXRlRnJhZyIsImlzTmlsIiwiaXNCbGFuayIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsIm93bmVyIiwib3duZXJTVkdFbGVtZW50IiwiaXNBcnJheSIsImlzQm9vbEF0dHIiLCJpc1N0cmluZyIsImNoZWNrIiwiY29udGFpbnMiLCJpdGVtIiwiZWFjaCIsImxlbiIsInN0YXJ0c1dpdGgiLCJ1aWQiLCJkZWZpbmUiLCJvcHRpb25zIiwidG9DYW1lbCIsInRvVXBwZXJDYXNlIiwid2FybiIsIm1pc2MiLCJvYmplY3RDcmVhdGUiLCJhcnJheWlzaEFkZCIsImVuc3VyZUFycmF5IiwiZGVzdCIsImlzQXJyIiwiaGFzSW5kZXgiLCJvbGRJbmRleCIsImdldE5hbWUiLCJza2lwRGF0YUlzIiwiY2hpbGQiLCJuYW1lZFRhZyIsImluaGVyaXRQYXJlbnRQcm9wcyIsInBhcmVudCIsInJlSGFzWWllbGQiLCJyZVlpZWxkQWxsIiwicmVZaWVsZFNyYyIsInJlWWllbGREZXN0Iiwicm9vdEVscyIsInRyIiwidGgiLCJ0ZCIsImNvbCIsInRibFRhZ3MiLCJHRU5FUklDIiwiU1ZHIiwibWtkb20iLCJyZWYiLCJ0ZXh0IiwiZGVmIiwicmVwbGFjZVlpZWxkIiwic2VsZWN0Iiwic2VsZWN0ZWRJbmRleCIsInRuYW1lIiwiY2hpbGRFbGVtZW50Q291bnQiLCJzcGVjaWFsVGFncyIsIkVWRU5UX0FUVFJfUkUiLCJnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQiLCJ0YWciLCJwdGFnIiwiaXNBbm9ueW1vdXMiLCJzZXRFdmVudEhhbmRsZXIiLCJoYW5kbGVyIiwiZXZlbnROYW1lIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJzcmNFbGVtZW50Iiwid2hpY2giLCJjaGFyQ29kZSIsImtleUNvZGUiLCJwcmV2ZW50VXBkYXRlIiwiaXNNb3VudGVkIiwidXBkYXRlIiwibGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0Q2hpbGQiLCJvcHRzIiwiY3JlYXRlVGFnIiwidGFncyIsImFycmF5aXNoUmVtb3ZlIiwibWFrZVZpcnR1YWwiLCJzaWIiLCJ0YWlsIiwiZnJhZyIsInZpcnRzIiwibWFrZVJlcGxhY2VWaXJ0dWFsIiwidXBkYXRlRXhwcmVzc2lvbiIsImF0dHJOYW1lIiwibm9ybWFsaXplQXR0ck5hbWUiLCJhdHRyIiwiaXNUb2dnbGUiLCJpc1ZpcnR1YWwiLCJpc1N0eWxlQXR0ciIsImlzQ2xhc3NBdHRyIiwiaXNWYWx1ZUF0dHIiLCJ3YXNDcmVhdGVkIiwibW91bnQiLCJoYXNWYWx1ZSIsImlzT2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsIndhc1BhcnNlZE9uY2UiLCJib29sIiwiaXNSdGFnIiwiX3RhZyIsInVubW91bnQiLCJpbXBsIiwiYXR0cnMiLCJhIiwib25Vbm1vdW50IiwiZGVsTmFtZSIsImRhdGFJcyIsInVwZGF0ZURhdGFJcyIsIm5vZGVWYWx1ZSIsImF0dHJpYnV0ZSIsImV4cHJlc3Npb25zIiwidXBkYXRlT3B0cyIsImlzTG9vcCIsImluc3RBdHRycyIsInF1ZXJ5IiwiZmlsdGVyIiwiVGFnIiwib25DcmVhdGUiLCJjbGFzcyIsImNvbnN0cnVjdG9yIiwibW91bnQkMSIsInRhZzIiLCJlbGVtIiwiYWxsVGFncyIsIm5vZGVMaXN0IiwiX2VsIiwicHVzaFRhZ3NUbyIsInJpb3RUYWciLCJtaXhpbnMiLCJnbG9iYWxzIiwibWl4aW5zX2lkIiwibWl4aW4iLCJtaXgiLCJnIiwic3RvcmUiLCJ1cGRhdGUkMSIsInVucmVnaXN0ZXIiLCJjb3JlIiwibW92ZUNoaWxkIiwibmV3UG9zIiwibW92ZVZpcnR1YWwiLCJta2l0ZW0iLCJfZWFjaCIsIm11c3RSZW9yZGVyIiwia2V5QXR0ciIsImhhc0tleUF0dHJFeHByIiwicGxhY2Vob2xkZXIiLCJpZkV4cHIiLCJvbGRJdGVtcyIsInJlbW92ZUNoaWxkIiwiaXRlbXMiLCJ0bXBJdGVtcyIsImhhc0tleXMiLCJmaWx0ZXJlZEl0ZW1zQ291bnQiLCJfaXRlbSIsIml0ZW1JZCIsIm9yaWdpbmFsSXRlbSIsImtleWVkSXRlbSIsImdldEl0ZW1JZCIsImRvUmVvcmRlciIsIm9sZFBvcyIsImlzTmV3IiwibXVzdEFwcGVuZCIsIm11c3RDcmVhdGUiLCJjbG9uZU5vZGUiLCJuZXh0VGFnIiwidGhpcyQxIiwidW5tb3VudFJlZHVuZGFudCIsIlJlZkV4cHIiLCJpbml0IiwiYXR0clZhbHVlIiwicmF3VmFsdWUiLCJoYXNFeHAiLCJvbGQiLCJjdXN0b21QYXJlbnQiLCJ0YWdPckRvbSIsIl9fcmVmIiwicmVmcyIsImNyZWF0ZVJlZkRpcmVjdGl2ZSIsInVubW91bnRBbGwiLCJJZkV4cHIiLCJzdHViIiwicHJpc3RpbmUiLCJjdXJyZW50IiwicGFyc2VFeHByZXNzaW9ucyIsImNyZWF0ZUlmRGlyZWN0aXZlIiwibXVzdEluY2x1ZGVSb290IiwidGFnSW1wbCIsInR5cGUiLCJub2RlVHlwZSIsImF0dHJpYnV0ZXMiLCJwYXJlbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwiaGFzSXNEaXJlY3RpdmUiLCJwYXJzZUF0dHJpYnV0ZXMiLCJzZXRNb3VudFN0YXRlIiwic2tpcEFub255bW91cyIsImNvbmYiLCJpc0lubGluZSIsImltcGxBdHRycyIsIm5leHRPcHRzIiwiY2FuVHJpZ2dlciIsInNob3VsZFVwZGF0ZSIsImNvbXBvbmVudFVwZGF0ZSIsInRhZyQkMSIsImluc3RhbmNlIiwicHJvcHMiLCJwcm9wc0JsYWNrbGlzdCIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaGFzR2V0dGVyU2V0dGVyIiwiaXNQcm90b3R5cGVPZiIsInYiLCJnbG9iYWxNaXhpbiIsImNvbXBvbmVudE1vdW50IiwibXVzdEtlZXBSb290IiwidGFnSW5kZXgiLCJmb3JFYWNoIiwidGFnVW5tb3VudCIsImltcGxDbGFzcyIsIl9pbm5lckhUTUwiLCJnZXRUYWdOYW1lIiwibW91bnRUbyIsInNlbGVjdFRhZ3MiLCJnZXRUYWciLCJpbml0Q2hpbGRUYWciLCJtb3ZlQ2hpbGRUYWciLCJnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnRUYWciLCJzZXR0aW5ncyQxIiwidXRpbCIsInZkb20iLCJUYWckMSIsInRhZyQxIiwidGFnMiQxIiwibW91bnQkMiIsIm1peGluJDEiLCJ1cGRhdGUkMiIsInVucmVnaXN0ZXIkMSIsIm9ic2VydmFibGUkMSIsInJpb3QkMSIsImRlZmF1bHQiLCJmYWN0b3J5IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsInJpb3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInJpb3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0Iiwibm9uU3RhdGUiLCJyZWxvYWQiLCJlbGVtcyIsIm9sZFRhZyIsIm5ld09wdHMiLCJuZXdUYWciXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVB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RW5CN2lCLEVBQUE2aUIsU0FDQTdpQixFQUFBLFFBQUE2aUIsRUFFQWppQixPQUFBQyxlQUFBYixFQUFBLGNBQThDbUIsT0FBQSxJQXhEZXFoQixDQUFBeGlCLEVBQW9CRixFQUFRLHFCQ096RkEsRUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvc3RhdGljL2pzXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8qIFJpb3QgdjMuMTMuMiwgQGxpY2Vuc2UgTUlUICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KSA6XG4gIChmYWN0b3J5KChnbG9iYWwucmlvdCA9IHt9KSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBTaG9ydGVyIGFuZCBmYXN0IHdheSB0byBzZWxlY3QgYSBzaW5nbGUgbm9kZSBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gc2VsZWN0b3IgLSB1bmlxdWUgZG9tIHNlbGVjdG9yXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gY3R4IC0gRE9NIG5vZGUgd2hlcmUgdGhlIHRhcmdldCBvZiBvdXIgc2VhcmNoIHdpbGwgaXMgbG9jYXRlZFxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGRvbSBub2RlIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiAkKHNlbGVjdG9yLCBjdHgpIHtcbiAgICByZXR1cm4gKGN0eCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgfVxuXG4gIHZhclxuICAgIC8vIGJlIGF3YXJlLCBpbnRlcm5hbCB1c2FnZVxuICAgIC8vIEFUVEVOVElPTjogcHJlZml4IHRoZSBnbG9iYWwgZHluYW1pYyB2YXJpYWJsZXMgd2l0aCBgX19gXG4gICAgLy8gdGFncyBpbnN0YW5jZXMgY2FjaGVcbiAgICBfX1RBR1NfQ0FDSEUgPSBbXSxcbiAgICAvLyB0YWdzIGltcGxlbWVudGF0aW9uIGNhY2hlXG4gICAgX19UQUdfSU1QTCA9IHt9LFxuICAgIFlJRUxEX1RBRyA9ICd5aWVsZCcsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdFxuICAgICAqL1xuICAgIEdMT0JBTF9NSVhJTiA9ICdfX2dsb2JhbF9taXhpbicsXG5cbiAgICAvLyByaW90IHNwZWNpZmljIHByZWZpeGVzIG9yIGF0dHJpYnV0ZXNcbiAgICBBVFRSU19QUkVGSVggPSAncmlvdC0nLFxuXG4gICAgLy8gUmlvdCBEaXJlY3RpdmVzXG4gICAgUkVGX0RJUkVDVElWRVMgPSBbJ3JlZicsICdkYXRhLXJlZiddLFxuICAgIElTX0RJUkVDVElWRSA9ICdkYXRhLWlzJyxcbiAgICBDT05ESVRJT05BTF9ESVJFQ1RJVkUgPSAnaWYnLFxuICAgIExPT1BfRElSRUNUSVZFID0gJ2VhY2gnLFxuICAgIExPT1BfTk9fUkVPUkRFUl9ESVJFQ1RJVkUgPSAnbm8tcmVvcmRlcicsXG4gICAgU0hPV19ESVJFQ1RJVkUgPSAnc2hvdycsXG4gICAgSElERV9ESVJFQ1RJVkUgPSAnaGlkZScsXG4gICAgS0VZX0RJUkVDVElWRSA9ICdrZXknLFxuICAgIFJJT1RfRVZFTlRTX0tFWSA9ICdfX3Jpb3QtZXZlbnRzX18nLFxuXG4gICAgLy8gZm9yIHR5cGVvZiA9PSAnJyBjb21wYXJpc29uc1xuICAgIFRfU1RSSU5HID0gJ3N0cmluZycsXG4gICAgVF9PQkpFQ1QgPSAnb2JqZWN0JyxcbiAgICBUX1VOREVGICA9ICd1bmRlZmluZWQnLFxuICAgIFRfRlVOQ1RJT04gPSAnZnVuY3Rpb24nLFxuXG4gICAgWExJTktfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG4gICAgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcbiAgICBYTElOS19SRUdFWCA9IC9eeGxpbms6KFxcdyspLyxcblxuICAgIFdJTiA9IHR5cGVvZiB3aW5kb3cgPT09IFRfVU5ERUYgPyAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1bmRlZmluZWQgOiB3aW5kb3csXG5cbiAgICAvLyBzcGVjaWFsIG5hdGl2ZSB0YWdzIHRoYXQgY2Fubm90IGJlIHRyZWF0ZWQgbGlrZSB0aGUgb3RoZXJzXG4gICAgUkVfU1BFQ0lBTF9UQUdTID0gL14oPzp0KD86Ym9keXxoZWFkfGZvb3R8W3JoZF0pfGNhcHRpb258Y29sKD86Z3JvdXApP3xvcHQoPzppb258Z3JvdXApKSQvLFxuICAgIFJFX1NQRUNJQUxfVEFHU19OT19PUFRJT04gPSAvXig/OnQoPzpib2R5fGhlYWR8Zm9vdHxbcmhkXSl8Y2FwdGlvbnxjb2woPzpncm91cCk/KSQvLFxuICAgIFJFX0VWRU5UU19QUkVGSVggPSAvXm9uLyxcbiAgICBSRV9IVE1MX0FUVFJTID0gLyhbLVxcd10rKSA/PSA/KD86XCIoW15cIl0qKXwnKFteJ10qKXwoe1tefV0qfSkpL2csXG4gICAgLy8gc29tZSBET00gYXR0cmlidXRlcyBtdXN0IGJlIG5vcm1hbGl6ZWRcbiAgICBDQVNFX1NFTlNJVElWRV9BVFRSSUJVVEVTID0ge1xuICAgICAgJ3ZpZXdib3gnOiAndmlld0JveCcsXG4gICAgICAncHJlc2VydmVhc3BlY3RyYXRpbyc6ICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJ1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyBib29sZWFuIEhUTUwgYXR0cmlidXRlcyBpbiB0aGUgcmlvdCB0YWcgZGVmaW5pdGlvbi5cbiAgICAgKiBXaXRoIGEgbG9uZyBsaXN0IGxpa2UgdGhpcywgYSByZWdleCBpcyBmYXN0ZXIgdGhhbiBgW10uaW5kZXhPZmAgaW4gbW9zdCBicm93c2Vycy5cbiAgICAgKiBAY29uc3Qge1JlZ0V4cH1cbiAgICAgKiBAc2VlIFthdHRyaWJ1dGVzLm1kXShodHRwczovL2dpdGh1Yi5jb20vcmlvdC9jb21waWxlci9ibG9iL2Rldi9kb2MvYXR0cmlidXRlcy5tZClcbiAgICAgKi9cbiAgICBSRV9CT09MX0FUVFJTID0gL14oPzpkaXNhYmxlZHxjaGVja2VkfHJlYWRvbmx5fHJlcXVpcmVkfGFsbG93ZnVsbHNjcmVlbnxhdXRvKD86Zm9jdXN8cGxheSl8Y29tcGFjdHxjb250cm9sc3xkZWZhdWx0fGZvcm1ub3ZhbGlkYXRlfGhpZGRlbnxpc21hcHxpdGVtc2NvcGV8bG9vcHxtdWx0aXBsZXxtdXRlZHxubyg/OnJlc2l6ZXxzaGFkZXx2YWxpZGF0ZXx3cmFwKT98b3BlbnxyZXZlcnNlZHxzZWFtbGVzc3xzZWxlY3RlZHxzb3J0YWJsZXx0cnVlc3BlZWR8dHlwZW11c3RtYXRjaCkkLyxcbiAgICAvLyB2ZXJzaW9uIyBmb3IgSUUgOC0xMSwgMCBmb3Igb3RoZXJzXG4gICAgSUVfVkVSU0lPTiA9IChXSU4gJiYgV0lOLmRvY3VtZW50IHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHt9KS5kb2N1bWVudE1vZGUgfCAwO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBnZW5lcmljIERPTSBub2RlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gbmFtZSAtIG5hbWUgb2YgdGhlIERPTSBub2RlIHdlIHdhbnQgdG8gY3JlYXRlXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gRE9NIG5vZGUganVzdCBjcmVhdGVkXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlRWxlbWVudChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUgPT09ICdzdmcnID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgbmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpXG4gIH1cblxuICAvKipcbiAgICogU2V0IGFueSBET00gYXR0cmlidXRlXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGRvbSAtIERPTSBub2RlIHdlIHdhbnQgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IG5hbWUgLSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3ZSB3YW50IHRvIHNldFxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSB2YWwgLSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgd2Ugd2FudCB0byBzZXRcbiAgICovXG4gIGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShkb20sIG5hbWUsIHZhbCkge1xuICAgIHZhciB4bGluayA9IFhMSU5LX1JFR0VYLmV4ZWMobmFtZSk7XG4gICAgaWYgKHhsaW5rICYmIHhsaW5rWzFdKVxuICAgICAgeyBkb20uc2V0QXR0cmlidXRlTlMoWExJTktfTlMsIHhsaW5rWzFdLCB2YWwpOyB9XG4gICAgZWxzZVxuICAgICAgeyBkb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbCk7IH1cbiAgfVxuXG4gIHZhciBzdHlsZU5vZGU7XG4gIC8vIENyZWF0ZSBjYWNoZSBhbmQgc2hvcnRjdXQgdG8gdGhlIGNvcnJlY3QgcHJvcGVydHlcbiAgdmFyIGNzc1RleHRQcm9wO1xuICB2YXIgYnlOYW1lID0ge307XG4gIHZhciBuZWVkc0luamVjdCA9IGZhbHNlO1xuXG4gIC8vIHNraXAgdGhlIGZvbGxvd2luZyBjb2RlIG9uIHRoZSBzZXJ2ZXJcbiAgaWYgKFdJTikge1xuICAgIHN0eWxlTm9kZSA9ICgoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY3JlYXRlIGEgbmV3IHN0eWxlIGVsZW1lbnQgd2l0aCB0aGUgY29ycmVjdCB0eXBlXG4gICAgICB2YXIgbmV3Tm9kZSA9IG1ha2VFbGVtZW50KCdzdHlsZScpO1xuICAgICAgLy8gcmVwbGFjZSBhbnkgdXNlciBub2RlIG9yIGluc2VydCB0aGUgbmV3IG9uZSBpbnRvIHRoZSBoZWFkXG4gICAgICB2YXIgdXNlck5vZGUgPSAkKCdzdHlsZVt0eXBlPXJpb3RdJyk7XG5cbiAgICAgIHNldEF0dHJpYnV0ZShuZXdOb2RlLCAndHlwZScsICd0ZXh0L2NzcycpO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmICh1c2VyTm9kZSkge1xuICAgICAgICBpZiAodXNlck5vZGUuaWQpIHsgbmV3Tm9kZS5pZCA9IHVzZXJOb2RlLmlkOyB9XG4gICAgICAgIHVzZXJOb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld05vZGUsIHVzZXJOb2RlKTtcbiAgICAgIH0gZWxzZSB7IGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobmV3Tm9kZSk7IH1cblxuICAgICAgcmV0dXJuIG5ld05vZGVcbiAgICB9KSkoKTtcbiAgICBjc3NUZXh0UHJvcCA9IHN0eWxlTm9kZS5zdHlsZVNoZWV0O1xuICB9XG5cbiAgLyoqXG4gICAqIE9iamVjdCB0aGF0IHdpbGwgYmUgdXNlZCB0byBpbmplY3QgYW5kIG1hbmFnZSB0aGUgY3NzIG9mIGV2ZXJ5IHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgdmFyIHN0eWxlTWFuYWdlciA9IHtcbiAgICBzdHlsZU5vZGU6IHN0eWxlTm9kZSxcbiAgICAvKipcbiAgICAgKiBTYXZlIGEgdGFnIHN0eWxlIHRvIGJlIGxhdGVyIGluamVjdGVkIGludG8gRE9NXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY3NzIC0gY3NzIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG5hbWUgLSBpZiBpdCdzIHBhc3NlZCB3ZSB3aWxsIG1hcCB0aGUgY3NzIHRvIGEgdGFnbmFtZVxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24gYWRkKGNzcywgbmFtZSkge1xuICAgICAgYnlOYW1lW25hbWVdID0gY3NzO1xuICAgICAgbmVlZHNJbmplY3QgPSB0cnVlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogSW5qZWN0IGFsbCBwcmV2aW91c2x5IHNhdmVkIHRhZyBzdHlsZXMgaW50byBET01cbiAgICAgKiBpbm5lckhUTUwgc2VlbXMgc2xvdzogaHR0cDovL2pzcGVyZi5jb20vcmlvdC1pbnNlcnQtc3R5bGVcbiAgICAgKi9cbiAgICBpbmplY3Q6IGZ1bmN0aW9uIGluamVjdCgpIHtcbiAgICAgIGlmICghV0lOIHx8ICFuZWVkc0luamVjdCkgeyByZXR1cm4gfVxuICAgICAgbmVlZHNJbmplY3QgPSBmYWxzZTtcbiAgICAgIHZhciBzdHlsZSA9IE9iamVjdC5rZXlzKGJ5TmFtZSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gYnlOYW1lW2tdOyB9KVxuICAgICAgICAuam9pbignXFxuJyk7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGNzc1RleHRQcm9wKSB7IGNzc1RleHRQcm9wLmNzc1RleHQgPSBzdHlsZTsgfVxuICAgICAgZWxzZSB7IHN0eWxlTm9kZS5pbm5lckhUTUwgPSBzdHlsZTsgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSB0YWcgc3R5bGUgb2YgaW5qZWN0ZWQgRE9NIGxhdGVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGEgcmVnaXN0ZXJlZCB0YWduYW1lXG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgZGVsZXRlIGJ5TmFtZVtuYW1lXTtcbiAgICAgIG5lZWRzSW5qZWN0ID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSByaW90IHRlbXBsYXRlIGVuZ2luZVxuICAgKiBAdmVyc2lvbiB2My4wLjhcbiAgICovXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmFyIHNraXBSZWdleCA9IChmdW5jdGlvbiAoKSB7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgdmFyIGJlZm9yZVJlQ2hhcnMgPSAnW3soLDs6Pz18JiFefj4lKi8nO1xuXG4gICAgdmFyIGJlZm9yZVJlV29yZHMgPSBbXG4gICAgICAnY2FzZScsXG4gICAgICAnZGVmYXVsdCcsXG4gICAgICAnZG8nLFxuICAgICAgJ2Vsc2UnLFxuICAgICAgJ2luJyxcbiAgICAgICdpbnN0YW5jZW9mJyxcbiAgICAgICdwcmVmaXgnLFxuICAgICAgJ3JldHVybicsXG4gICAgICAndHlwZW9mJyxcbiAgICAgICd2b2lkJyxcbiAgICAgICd5aWVsZCdcbiAgICBdO1xuXG4gICAgdmFyIHdvcmRzTGFzdENoYXIgPSBiZWZvcmVSZVdvcmRzLnJlZHVjZShmdW5jdGlvbiAocywgdykge1xuICAgICAgcmV0dXJuIHMgKyB3LnNsaWNlKC0xKVxuICAgIH0sICcnKTtcblxuICAgIHZhciBSRV9SRUdFWCA9IC9eXFwvKD89W14qPi9dKVteWy9cXFxcXSooPzooPzpcXFxcLnxcXFsoPzpcXFxcLnxbXlxcXVxcXFxdKikqXFxdKVteW1xcXFwvXSopKj9cXC9bZ2ltdXldKi87XG4gICAgdmFyIFJFX1ZOX0NIQVIgPSAvWyRcXHddLztcblxuICAgIGZ1bmN0aW9uIHByZXYgKGNvZGUsIHBvcykge1xuICAgICAgd2hpbGUgKC0tcG9zID49IDAgJiYgL1xccy8udGVzdChjb2RlW3Bvc10pKXsgfVxuICAgICAgcmV0dXJuIHBvc1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9za2lwUmVnZXggKGNvZGUsIHN0YXJ0KSB7XG5cbiAgICAgIHZhciByZSA9IC8uKi9nO1xuICAgICAgdmFyIHBvcyA9IHJlLmxhc3RJbmRleCA9IHN0YXJ0Kys7XG4gICAgICB2YXIgbWF0Y2ggPSByZS5leGVjKGNvZGUpWzBdLm1hdGNoKFJFX1JFR0VYKTtcblxuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHZhciBuZXh0ID0gcG9zICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXG4gICAgICAgIHBvcyA9IHByZXYoY29kZSwgcG9zKTtcbiAgICAgICAgdmFyIGMgPSBjb2RlW3Bvc107XG5cbiAgICAgICAgaWYgKHBvcyA8IDAgfHwgfmJlZm9yZVJlQ2hhcnMuaW5kZXhPZihjKSkge1xuICAgICAgICAgIHJldHVybiBuZXh0XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA9PT0gJy4nKSB7XG5cbiAgICAgICAgICBpZiAoY29kZVtwb3MgLSAxXSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBzdGFydCA9IG5leHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJysnIHx8IGMgPT09ICctJykge1xuXG4gICAgICAgICAgaWYgKGNvZGVbLS1wb3NdICE9PSBjIHx8XG4gICAgICAgICAgICAgIChwb3MgPSBwcmV2KGNvZGUsIHBvcykpIDwgMCB8fFxuICAgICAgICAgICAgICAhUkVfVk5fQ0hBUi50ZXN0KGNvZGVbcG9zXSkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gbmV4dDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmICh+d29yZHNMYXN0Q2hhci5pbmRleE9mKGMpKSB7XG5cbiAgICAgICAgICB2YXIgZW5kID0gcG9zICsgMTtcblxuICAgICAgICAgIHdoaWxlICgtLXBvcyA+PSAwICYmIFJFX1ZOX0NIQVIudGVzdChjb2RlW3Bvc10pKXsgfVxuICAgICAgICAgIGlmICh+YmVmb3JlUmVXb3Jkcy5pbmRleE9mKGNvZGUuc2xpY2UocG9zICsgMSwgZW5kKSkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gbmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0XG4gICAgfVxuXG4gICAgcmV0dXJuIF9za2lwUmVnZXhcblxuICB9KSgpO1xuXG4gIC8qKlxuICAgKiByaW90LnV0aWwuYnJhY2tldHNcbiAgICpcbiAgICogLSBgYnJhY2tldHMgICAgYCAtIFJldHVybnMgYSBzdHJpbmcgb3IgcmVnZXggYmFzZWQgb24gaXRzIHBhcmFtZXRlclxuICAgKiAtIGBicmFja2V0cy5zZXRgIC0gQ2hhbmdlIHRoZSBjdXJyZW50IHJpb3QgYnJhY2tldHNcbiAgICpcbiAgICogQG1vZHVsZVxuICAgKi9cblxuICAvKiBnbG9iYWwgcmlvdCAqL1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHZhciBicmFja2V0cyA9IChmdW5jdGlvbiAoVU5ERUYpIHtcblxuICAgIHZhclxuICAgICAgUkVHTE9CID0gJ2cnLFxuXG4gICAgICBSX01MQ09NTVMgPSAvXFwvXFwqW14qXSpcXCorKD86W14qXFwvXVteKl0qXFwqKykqXFwvL2csXG5cbiAgICAgIFJfU1RSSU5HUyA9IC9cIlteXCJcXFxcXSooPzpcXFxcW1xcU1xcc11bXlwiXFxcXF0qKSpcInwnW14nXFxcXF0qKD86XFxcXFtcXFNcXHNdW14nXFxcXF0qKSonfGBbXmBcXFxcXSooPzpcXFxcW1xcU1xcc11bXmBcXFxcXSopKmAvZyxcblxuICAgICAgU19RQkxPQ0tTID0gUl9TVFJJTkdTLnNvdXJjZSArICd8JyArXG4gICAgICAgIC8oPzpcXGJyZXR1cm5cXHMrfCg/OlskXFx3XFwpXFxdXXxcXCtcXCt8LS0pXFxzKihcXC8pKD8hWypcXC9dKSkvLnNvdXJjZSArICd8JyArXG4gICAgICAgIC9cXC8oPz1bXipcXC9dKVteW1xcL1xcXFxdKig/Oig/OlxcWyg/OlxcXFwufFteXFxdXFxcXF0qKSpcXF18XFxcXC4pW15bXFwvXFxcXF0qKSo/KFtePF1cXC8pW2dpbV0qLy5zb3VyY2UsXG5cbiAgICAgIFVOU1VQUE9SVEVEID0gUmVnRXhwKCdbXFxcXCcgKyAneDAwLVxcXFx4MUY8PmEtekEtWjAtOVxcJ1wiLDtcXFxcXFxcXF0nKSxcblxuICAgICAgTkVFRF9FU0NBUEUgPSAvKD89W1tcXF0oKSorPy5eJHxdKS9nLFxuXG4gICAgICBTX1FCTE9DSzIgPSBSX1NUUklOR1Muc291cmNlICsgJ3wnICsgLyhcXC8pKD8hWypcXC9dKS8uc291cmNlLFxuXG4gICAgICBGSU5EQlJBQ0VTID0ge1xuICAgICAgICAnKCc6IFJlZ0V4cCgnKFsoKV0pfCcgICArIFNfUUJMT0NLMiwgUkVHTE9CKSxcbiAgICAgICAgJ1snOiBSZWdFeHAoJyhbW1xcXFxdXSl8JyArIFNfUUJMT0NLMiwgUkVHTE9CKSxcbiAgICAgICAgJ3snOiBSZWdFeHAoJyhbe31dKXwnICAgKyBTX1FCTE9DSzIsIFJFR0xPQilcbiAgICAgIH0sXG5cbiAgICAgIERFRkFVTFQgPSAneyB9JztcblxuICAgIHZhciBfcGFpcnMgPSBbXG4gICAgICAneycsICd9JyxcbiAgICAgICd7JywgJ30nLFxuICAgICAgL3tbXn1dKn0vLFxuICAgICAgL1xcXFwoW3t9XSkvZyxcbiAgICAgIC9cXFxcKHspfHsvZyxcbiAgICAgIFJlZ0V4cCgnXFxcXFxcXFwofSl8KFtbKHtdKXwofSl8JyArIFNfUUJMT0NLMiwgUkVHTE9CKSxcbiAgICAgIERFRkFVTFQsXG4gICAgICAvXlxccyp7XFxeP1xccyooWyRcXHddKykoPzpcXHMqLFxccyooXFxTKykpP1xccytpblxccysoXFxTLiopXFxzKn0vLFxuICAgICAgLyhefFteXFxcXF0pez1bXFxTXFxzXSo/fS9cbiAgICBdO1xuXG4gICAgdmFyXG4gICAgICBjYWNoZWRCcmFja2V0cyA9IFVOREVGLFxuICAgICAgX3JlZ2V4LFxuICAgICAgX2NhY2hlID0gW10sXG4gICAgICBfc2V0dGluZ3M7XG5cbiAgICBmdW5jdGlvbiBfbG9vcGJhY2sgKHJlKSB7IHJldHVybiByZSB9XG5cbiAgICBmdW5jdGlvbiBfcmV3cml0ZSAocmUsIGJwKSB7XG4gICAgICBpZiAoIWJwKSB7IGJwID0gX2NhY2hlOyB9XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChcbiAgICAgICAgcmUuc291cmNlLnJlcGxhY2UoL3svZywgYnBbMl0pLnJlcGxhY2UoL30vZywgYnBbM10pLCByZS5nbG9iYWwgPyBSRUdMT0IgOiAnJ1xuICAgICAgKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jcmVhdGUgKHBhaXIpIHtcbiAgICAgIGlmIChwYWlyID09PSBERUZBVUxUKSB7IHJldHVybiBfcGFpcnMgfVxuXG4gICAgICB2YXIgYXJyID0gcGFpci5zcGxpdCgnICcpO1xuXG4gICAgICBpZiAoYXJyLmxlbmd0aCAhPT0gMiB8fCBVTlNVUFBPUlRFRC50ZXN0KHBhaXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgYnJhY2tldHMgXCInICsgcGFpciArICdcIicpXG4gICAgICB9XG4gICAgICBhcnIgPSBhcnIuY29uY2F0KHBhaXIucmVwbGFjZShORUVEX0VTQ0FQRSwgJ1xcXFwnKS5zcGxpdCgnICcpKTtcblxuICAgICAgYXJyWzRdID0gX3Jld3JpdGUoYXJyWzFdLmxlbmd0aCA+IDEgPyAve1tcXFNcXHNdKj99LyA6IF9wYWlyc1s0XSwgYXJyKTtcbiAgICAgIGFycls1XSA9IF9yZXdyaXRlKHBhaXIubGVuZ3RoID4gMyA/IC9cXFxcKHt8fSkvZyA6IF9wYWlyc1s1XSwgYXJyKTtcbiAgICAgIGFycls2XSA9IF9yZXdyaXRlKF9wYWlyc1s2XSwgYXJyKTtcbiAgICAgIGFycls3XSA9IFJlZ0V4cCgnXFxcXFxcXFwoJyArIGFyclszXSArICcpfChbWyh7XSl8KCcgKyBhcnJbM10gKyAnKXwnICsgU19RQkxPQ0syLCBSRUdMT0IpO1xuICAgICAgYXJyWzhdID0gcGFpcjtcbiAgICAgIHJldHVybiBhcnJcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYnJhY2tldHMgKHJlT3JJZHgpIHtcbiAgICAgIHJldHVybiByZU9ySWR4IGluc3RhbmNlb2YgUmVnRXhwID8gX3JlZ2V4KHJlT3JJZHgpIDogX2NhY2hlW3JlT3JJZHhdXG4gICAgfVxuXG4gICAgX2JyYWNrZXRzLnNwbGl0ID0gZnVuY3Rpb24gc3BsaXQgKHN0ciwgdG1wbCwgX2JwKSB7XG4gICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogX2JwIGlzIGZvciB0aGUgY29tcGlsZXJcbiAgICAgIGlmICghX2JwKSB7IF9icCA9IF9jYWNoZTsgfVxuXG4gICAgICB2YXJcbiAgICAgICAgcGFydHMgPSBbXSxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIGlzZXhwcixcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIHBvcyxcbiAgICAgICAgcmUgPSBfYnBbNl07XG5cbiAgICAgIHZhciBxYmxvY2tzID0gW107XG4gICAgICB2YXIgcHJldlN0ciA9ICcnO1xuICAgICAgdmFyIG1hcmssIGxhc3RJbmRleDtcblxuICAgICAgaXNleHByID0gc3RhcnQgPSByZS5sYXN0SW5kZXggPSAwO1xuXG4gICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhzdHIpKSkge1xuXG4gICAgICAgIGxhc3RJbmRleCA9IHJlLmxhc3RJbmRleDtcbiAgICAgICAgcG9zID0gbWF0Y2guaW5kZXg7XG5cbiAgICAgICAgaWYgKGlzZXhwcikge1xuXG4gICAgICAgICAgaWYgKG1hdGNoWzJdKSB7XG5cbiAgICAgICAgICAgIHZhciBjaCA9IG1hdGNoWzJdO1xuICAgICAgICAgICAgdmFyIHJlY2ggPSBGSU5EQlJBQ0VTW2NoXTtcbiAgICAgICAgICAgIHZhciBpeCA9IDE7XG5cbiAgICAgICAgICAgIHJlY2gubGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHJlY2guZXhlYyhzdHIpKSkge1xuICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0gPT09IGNoKSB7ICsraXg7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghLS1peCkgeyBicmVhayB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjaC5sYXN0SW5kZXggPSBwdXNoUUJsb2NrKG1hdGNoLmluZGV4LCByZWNoLmxhc3RJbmRleCwgbWF0Y2hbMl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZS5sYXN0SW5kZXggPSBpeCA/IHN0ci5sZW5ndGggOiByZWNoLmxhc3RJbmRleDtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFtYXRjaFszXSkge1xuICAgICAgICAgICAgcmUubGFzdEluZGV4ID0gcHVzaFFCbG9jayhwb3MsIGxhc3RJbmRleCwgbWF0Y2hbNF0pO1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1hdGNoWzFdKSB7XG4gICAgICAgICAgdW5lc2NhcGVTdHIoc3RyLnNsaWNlKHN0YXJ0LCBwb3MpKTtcbiAgICAgICAgICBzdGFydCA9IHJlLmxhc3RJbmRleDtcbiAgICAgICAgICByZSA9IF9icFs2ICsgKGlzZXhwciBePSAxKV07XG4gICAgICAgICAgcmUubGFzdEluZGV4ID0gc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0ciAmJiBzdGFydCA8IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgdW5lc2NhcGVTdHIoc3RyLnNsaWNlKHN0YXJ0KSk7XG4gICAgICB9XG5cbiAgICAgIHBhcnRzLnFibG9ja3MgPSBxYmxvY2tzO1xuXG4gICAgICByZXR1cm4gcGFydHNcblxuICAgICAgZnVuY3Rpb24gdW5lc2NhcGVTdHIgKHMpIHtcbiAgICAgICAgaWYgKHByZXZTdHIpIHtcbiAgICAgICAgICBzID0gcHJldlN0ciArIHM7XG4gICAgICAgICAgcHJldlN0ciA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0bXBsIHx8IGlzZXhwcikge1xuICAgICAgICAgIHBhcnRzLnB1c2gocyAmJiBzLnJlcGxhY2UoX2JwWzVdLCAnJDEnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFydHMucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwdXNoUUJsb2NrKF9wb3MsIF9sYXN0SW5kZXgsIHNsYXNoKSB7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICBpZiAoc2xhc2gpIHtcbiAgICAgICAgICBfbGFzdEluZGV4ID0gc2tpcFJlZ2V4KHN0ciwgX3Bvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG1wbCAmJiBfbGFzdEluZGV4ID4gX3BvcyArIDIpIHtcbiAgICAgICAgICBtYXJrID0gJ1xcdTIwNTcnICsgcWJsb2Nrcy5sZW5ndGggKyAnfic7XG4gICAgICAgICAgcWJsb2Nrcy5wdXNoKHN0ci5zbGljZShfcG9zLCBfbGFzdEluZGV4KSk7XG4gICAgICAgICAgcHJldlN0ciArPSBzdHIuc2xpY2Uoc3RhcnQsIF9wb3MpICsgbWFyaztcbiAgICAgICAgICBzdGFydCA9IF9sYXN0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9sYXN0SW5kZXhcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX2JyYWNrZXRzLmhhc0V4cHIgPSBmdW5jdGlvbiBoYXNFeHByIChzdHIpIHtcbiAgICAgIHJldHVybiBfY2FjaGVbNF0udGVzdChzdHIpXG4gICAgfTtcblxuICAgIF9icmFja2V0cy5sb29wS2V5cyA9IGZ1bmN0aW9uIGxvb3BLZXlzIChleHByKSB7XG4gICAgICB2YXIgbSA9IGV4cHIubWF0Y2goX2NhY2hlWzldKTtcblxuICAgICAgcmV0dXJuIG1cbiAgICAgICAgPyB7IGtleTogbVsxXSwgcG9zOiBtWzJdLCB2YWw6IF9jYWNoZVswXSArIG1bM10udHJpbSgpICsgX2NhY2hlWzFdIH1cbiAgICAgICAgOiB7IHZhbDogZXhwci50cmltKCkgfVxuICAgIH07XG5cbiAgICBfYnJhY2tldHMuYXJyYXkgPSBmdW5jdGlvbiBhcnJheSAocGFpcikge1xuICAgICAgcmV0dXJuIHBhaXIgPyBfY3JlYXRlKHBhaXIpIDogX2NhY2hlXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9yZXNldCAocGFpcikge1xuICAgICAgaWYgKChwYWlyIHx8IChwYWlyID0gREVGQVVMVCkpICE9PSBfY2FjaGVbOF0pIHtcbiAgICAgICAgX2NhY2hlID0gX2NyZWF0ZShwYWlyKTtcbiAgICAgICAgX3JlZ2V4ID0gcGFpciA9PT0gREVGQVVMVCA/IF9sb29wYmFjayA6IF9yZXdyaXRlO1xuICAgICAgICBfY2FjaGVbOV0gPSBfcmVnZXgoX3BhaXJzWzldKTtcbiAgICAgIH1cbiAgICAgIGNhY2hlZEJyYWNrZXRzID0gcGFpcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc2V0U2V0dGluZ3MgKG8pIHtcbiAgICAgIHZhciBiO1xuXG4gICAgICBvID0gbyB8fCB7fTtcbiAgICAgIGIgPSBvLmJyYWNrZXRzO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sICdicmFja2V0cycsIHtcbiAgICAgICAgc2V0OiBfcmVzZXQsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FjaGVkQnJhY2tldHMgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBfc2V0dGluZ3MgPSBvO1xuICAgICAgX3Jlc2V0KGIpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYnJhY2tldHMsICdzZXR0aW5ncycsIHtcbiAgICAgIHNldDogX3NldFNldHRpbmdzLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfc2V0dGluZ3MgfVxuICAgIH0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGluIHRoZSBicm93c2VyIHJpb3QgaXMgYWx3YXlzIGluIHRoZSBzY29wZSAqL1xuICAgIF9icmFja2V0cy5zZXR0aW5ncyA9IHR5cGVvZiByaW90ICE9PSAndW5kZWZpbmVkJyAmJiByaW90LnNldHRpbmdzIHx8IHt9O1xuICAgIF9icmFja2V0cy5zZXQgPSBfcmVzZXQ7XG4gICAgX2JyYWNrZXRzLnNraXBSZWdleCA9IHNraXBSZWdleDtcblxuICAgIF9icmFja2V0cy5SX1NUUklOR1MgPSBSX1NUUklOR1M7XG4gICAgX2JyYWNrZXRzLlJfTUxDT01NUyA9IFJfTUxDT01NUztcbiAgICBfYnJhY2tldHMuU19RQkxPQ0tTID0gU19RQkxPQ0tTO1xuICAgIF9icmFja2V0cy5TX1FCTE9DSzIgPSBTX1FCTE9DSzI7XG5cbiAgICByZXR1cm4gX2JyYWNrZXRzXG5cbiAgfSkoKTtcblxuICAvKipcbiAgICogQG1vZHVsZSB0bXBsXG4gICAqXG4gICAqIHRtcGwgICAgICAgICAgLSBSb290IGZ1bmN0aW9uLCByZXR1cm5zIHRoZSB0ZW1wbGF0ZSB2YWx1ZSwgcmVuZGVyIHdpdGggZGF0YVxuICAgKiB0bXBsLmhhc0V4cHIgIC0gVGVzdCB0aGUgZXhpc3RlbmNlIG9mIGEgZXhwcmVzc2lvbiBpbnNpZGUgYSBzdHJpbmdcbiAgICogdG1wbC5sb29wS2V5cyAtIEdldCB0aGUga2V5cyBmb3IgYW4gJ2VhY2gnIGxvb3AgKHVzZWQgYnkgYF9lYWNoYClcbiAgICovXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmFyIHRtcGwgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIF9jYWNoZSA9IHt9O1xuXG4gICAgZnVuY3Rpb24gX3RtcGwgKHN0ciwgZGF0YSkge1xuICAgICAgaWYgKCFzdHIpIHsgcmV0dXJuIHN0ciB9XG5cbiAgICAgIHJldHVybiAoX2NhY2hlW3N0cl0gfHwgKF9jYWNoZVtzdHJdID0gX2NyZWF0ZShzdHIpKSkuY2FsbChcbiAgICAgICAgZGF0YSwgX2xvZ0Vyci5iaW5kKHtcbiAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgIHRtcGw6IHN0clxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1cblxuICAgIF90bXBsLmhhc0V4cHIgPSBicmFja2V0cy5oYXNFeHByO1xuXG4gICAgX3RtcGwubG9vcEtleXMgPSBicmFja2V0cy5sb29wS2V5cztcblxuICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgX3RtcGwuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uICgpIHsgX2NhY2hlID0ge307IH07XG5cbiAgICBfdG1wbC5lcnJvckhhbmRsZXIgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gX2xvZ0VyciAoZXJyLCBjdHgpIHtcblxuICAgICAgZXJyLnJpb3REYXRhID0ge1xuICAgICAgICB0YWdOYW1lOiBjdHggJiYgY3R4Ll9fICYmIGN0eC5fXy50YWdOYW1lLFxuICAgICAgICBfcmlvdF9pZDogY3R4ICYmIGN0eC5fcmlvdF9pZCAgLy9lc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZVxuICAgICAgfTtcblxuICAgICAgaWYgKF90bXBsLmVycm9ySGFuZGxlcikgeyBfdG1wbC5lcnJvckhhbmRsZXIoZXJyKTsgfVxuICAgICAgZWxzZSBpZiAoXG4gICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnPCVzPiAlcycsIGVyci5yaW90RGF0YS50YWdOYW1lIHx8ICdVbmtub3duIHRhZycsIHRoaXMudG1wbCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jcmVhdGUgKHN0cikge1xuICAgICAgdmFyIGV4cHIgPSBfZ2V0VG1wbChzdHIpO1xuXG4gICAgICBpZiAoZXhwci5zbGljZSgwLCAxMSkgIT09ICd0cnl7cmV0dXJuICcpIHsgZXhwciA9ICdyZXR1cm4gJyArIGV4cHI7IH1cblxuICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignRScsIGV4cHIgKyAnOycpICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LWZ1bmNcbiAgICB9XG5cbiAgICB2YXIgUkVfRFFVT1RFID0gL1xcdTIwNTcvZztcbiAgICB2YXIgUkVfUUJNQVJLID0gL1xcdTIwNTcoXFxkKyl+L2c7XG5cbiAgICBmdW5jdGlvbiBfZ2V0VG1wbCAoc3RyKSB7XG4gICAgICB2YXIgcGFydHMgPSBicmFja2V0cy5zcGxpdChzdHIucmVwbGFjZShSRV9EUVVPVEUsICdcIicpLCAxKTtcbiAgICAgIHZhciBxc3RyID0gcGFydHMucWJsb2NrcztcbiAgICAgIHZhciBleHByO1xuXG4gICAgICBpZiAocGFydHMubGVuZ3RoID4gMiB8fCBwYXJ0c1swXSkge1xuICAgICAgICB2YXIgaSwgaiwgbGlzdCA9IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IGogPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgIGV4cHIgPSBwYXJ0c1tpXTtcblxuICAgICAgICAgIGlmIChleHByICYmIChleHByID0gaSAmIDFcblxuICAgICAgICAgICAgICA/IF9wYXJzZUV4cHIoZXhwciwgMSwgcXN0cilcblxuICAgICAgICAgICAgICA6ICdcIicgKyBleHByXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKVxuICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcclxcbj98XFxuL2csICdcXFxcbicpXG4gICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpICtcbiAgICAgICAgICAgICAgICAnXCInXG5cbiAgICAgICAgICAgICkpIHsgbGlzdFtqKytdID0gZXhwcjsgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBleHByID0gaiA8IDIgPyBsaXN0WzBdXG4gICAgICAgICAgICAgOiAnWycgKyBsaXN0LmpvaW4oJywnKSArICddLmpvaW4oXCJcIiknO1xuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIGV4cHIgPSBfcGFyc2VFeHByKHBhcnRzWzFdLCAwLCBxc3RyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHFzdHIubGVuZ3RoKSB7XG4gICAgICAgIGV4cHIgPSBleHByLnJlcGxhY2UoUkVfUUJNQVJLLCBmdW5jdGlvbiAoXywgcG9zKSB7XG4gICAgICAgICAgcmV0dXJuIHFzdHJbcG9zXVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBleHByXG4gICAgfVxuXG4gICAgdmFyIFJFX0NTTkFNRSA9IC9eKD86KC0/W19BLVphLXpcXHhBMC1cXHhGRl1bLVxcd1xceEEwLVxceEZGXSopfFxcdTIwNTcoXFxkKyl+KTovO1xuICAgIHZhclxuICAgICAgUkVfQlJFTkQgPSB7XG4gICAgICAgICcoJzogL1soKV0vZyxcbiAgICAgICAgJ1snOiAvW1tcXF1dL2csXG4gICAgICAgICd7JzogL1t7fV0vZ1xuICAgICAgfTtcblxuICAgIGZ1bmN0aW9uIF9wYXJzZUV4cHIgKGV4cHIsIGFzVGV4dCwgcXN0cikge1xuXG4gICAgICBleHByID0gZXhwclxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXFwgPyhbW1xcKHt9LD9cXC46XSlcXCA/L2csICckMScpO1xuXG4gICAgICBpZiAoZXhwcikge1xuICAgICAgICB2YXJcbiAgICAgICAgICBsaXN0ID0gW10sXG4gICAgICAgICAgY250ID0gMCxcbiAgICAgICAgICBtYXRjaDtcblxuICAgICAgICB3aGlsZSAoZXhwciAmJlxuICAgICAgICAgICAgICAobWF0Y2ggPSBleHByLm1hdGNoKFJFX0NTTkFNRSkpICYmXG4gICAgICAgICAgICAgICFtYXRjaC5pbmRleFxuICAgICAgICAgICkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAganNiLFxuICAgICAgICAgICAgcmUgPSAvLHwoW1t7KF0pfCQvZztcblxuICAgICAgICAgIGV4cHIgPSBSZWdFeHAucmlnaHRDb250ZXh0O1xuICAgICAgICAgIGtleSAgPSBtYXRjaFsyXSA/IHFzdHJbbWF0Y2hbMl1dLnNsaWNlKDEsIC0xKS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpIDogbWF0Y2hbMV07XG5cbiAgICAgICAgICB3aGlsZSAoanNiID0gKG1hdGNoID0gcmUuZXhlYyhleHByKSlbMV0pIHsgc2tpcEJyYWNlcyhqc2IsIHJlKTsgfVxuXG4gICAgICAgICAganNiICA9IGV4cHIuc2xpY2UoMCwgbWF0Y2guaW5kZXgpO1xuICAgICAgICAgIGV4cHIgPSBSZWdFeHAucmlnaHRDb250ZXh0O1xuXG4gICAgICAgICAgbGlzdFtjbnQrK10gPSBfd3JhcEV4cHIoanNiLCAxLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXhwciA9ICFjbnQgPyBfd3JhcEV4cHIoZXhwciwgYXNUZXh0KVxuICAgICAgICAgICAgIDogY250ID4gMSA/ICdbJyArIGxpc3Quam9pbignLCcpICsgJ10uam9pbihcIiBcIikudHJpbSgpJyA6IGxpc3RbMF07XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhwclxuXG4gICAgICBmdW5jdGlvbiBza2lwQnJhY2VzIChjaCwgcmUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgbW0sXG4gICAgICAgICAgbHYgPSAxLFxuICAgICAgICAgIGlyID0gUkVfQlJFTkRbY2hdO1xuXG4gICAgICAgIGlyLmxhc3RJbmRleCA9IHJlLmxhc3RJbmRleDtcbiAgICAgICAgd2hpbGUgKG1tID0gaXIuZXhlYyhleHByKSkge1xuICAgICAgICAgIGlmIChtbVswXSA9PT0gY2gpIHsgKytsdjsgfVxuICAgICAgICAgIGVsc2UgaWYgKCEtLWx2KSB7IGJyZWFrIH1cbiAgICAgICAgfVxuICAgICAgICByZS5sYXN0SW5kZXggPSBsdiA/IGV4cHIubGVuZ3RoIDogaXIubGFzdEluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBub3QgYm90aFxuICAgIHZhciAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgSlNfQ09OVEVYVCA9ICdcImluIHRoaXM/dGhpczonICsgKHR5cGVvZiB3aW5kb3cgIT09ICdvYmplY3QnID8gJ2dsb2JhbCcgOiAnd2luZG93JykgKyAnKS4nLFxuICAgICAgSlNfVkFSTkFNRSA9IC9bLHtdW1xcJFxcd10rKD89Oil8KF4gKnxbXiRcXHdcXC57XSkoPyEoPzp0eXBlb2Z8dHJ1ZXxmYWxzZXxudWxsfHVuZGVmaW5lZHxpbnxpbnN0YW5jZW9mfGlzKD86RmluaXRlfE5hTil8dm9pZHxOYU58bmV3fERhdGV8UmVnRXhwfE1hdGgpKD8hWyRcXHddKSkoWyRfQS1aYS16XVskXFx3XSopL2csXG4gICAgICBKU19OT1BST1BTID0gL14oPz0oXFwuWyRcXHddKykpXFwxKD86W14uWyhdfCQpLztcblxuICAgIGZ1bmN0aW9uIF93cmFwRXhwciAoZXhwciwgYXNUZXh0LCBrZXkpIHtcbiAgICAgIHZhciB0YjtcblxuICAgICAgZXhwciA9IGV4cHIucmVwbGFjZShKU19WQVJOQU1FLCBmdW5jdGlvbiAobWF0Y2gsIHAsIG12YXIsIHBvcywgcykge1xuICAgICAgICBpZiAobXZhcikge1xuICAgICAgICAgIHBvcyA9IHRiID8gMCA6IHBvcyArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgICAgIGlmIChtdmFyICE9PSAndGhpcycgJiYgbXZhciAhPT0gJ2dsb2JhbCcgJiYgbXZhciAhPT0gJ3dpbmRvdycpIHtcbiAgICAgICAgICAgIG1hdGNoID0gcCArICcoXCInICsgbXZhciArIEpTX0NPTlRFWFQgKyBtdmFyO1xuICAgICAgICAgICAgaWYgKHBvcykgeyB0YiA9IChzID0gc1twb3NdKSA9PT0gJy4nIHx8IHMgPT09ICcoJyB8fCBzID09PSAnWyc7IH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHBvcykge1xuICAgICAgICAgICAgdGIgPSAhSlNfTk9QUk9QUy50ZXN0KHMuc2xpY2UocG9zKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0Yikge1xuICAgICAgICBleHByID0gJ3RyeXtyZXR1cm4gJyArIGV4cHIgKyAnfWNhdGNoKGUpe0UoZSx0aGlzKX0nO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5KSB7XG5cbiAgICAgICAgZXhwciA9ICh0YlxuICAgICAgICAgICAgPyAnZnVuY3Rpb24oKXsnICsgZXhwciArICd9LmNhbGwodGhpcyknIDogJygnICsgZXhwciArICcpJ1xuICAgICAgICAgICkgKyAnP1wiJyArIGtleSArICdcIjpcIlwiJztcblxuICAgICAgfSBlbHNlIGlmIChhc1RleHQpIHtcblxuICAgICAgICBleHByID0gJ2Z1bmN0aW9uKHYpeycgKyAodGJcbiAgICAgICAgICAgID8gZXhwci5yZXBsYWNlKCdyZXR1cm4gJywgJ3Y9JykgOiAndj0oJyArIGV4cHIgKyAnKSdcbiAgICAgICAgICApICsgJztyZXR1cm4gdnx8dj09PTA/djpcIlwifS5jYWxsKHRoaXMpJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV4cHJcbiAgICB9XG5cbiAgICBfdG1wbC52ZXJzaW9uID0gYnJhY2tldHMudmVyc2lvbiA9ICd2My4wLjgnO1xuXG4gICAgcmV0dXJuIF90bXBsXG5cbiAgfSkoKTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB2YXIgb2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGVsKSB7XG5cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgdGhlIG9yaWdpbmFsIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgZW1wdHkgb25lXG4gICAgICogQHR5cGUgeyBPYmplY3QgfVxuICAgICAqL1xuXG4gICAgZWwgPSBlbCB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIFByaXZhdGUgdmFyaWFibGVzXG4gICAgICovXG4gICAgdmFyIGNhbGxiYWNrcyA9IHt9LFxuICAgICAgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaWMgQXBpXG4gICAgICovXG5cbiAgICAvLyBleHRlbmQgdGhlIGVsIG9iamVjdCBhZGRpbmcgdGhlIG9ic2VydmFibGUgbWV0aG9kc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGVsLCB7XG4gICAgICAvKipcbiAgICAgICAqIExpc3RlbiB0byB0aGUgZ2l2ZW4gYGV2ZW50YCBhbmRzXG4gICAgICAgKiBleGVjdXRlIHRoZSBgY2FsbGJhY2tgIGVhY2ggdGltZSBhbiBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICAgKiBAcGFyYW0gIHsgU3RyaW5nIH0gZXZlbnQgLSBldmVudCBpZFxuICAgICAgICogQHBhcmFtICB7IEZ1bmN0aW9uIH0gZm4gLSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICogQHJldHVybnMgeyBPYmplY3QgfSBlbFxuICAgICAgICovXG4gICAgICBvbjoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZXZlbnQsIGZuKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgeyAoY2FsbGJhY2tzW2V2ZW50XSA9IGNhbGxiYWNrc1tldmVudF0gfHwgW10pLnB1c2goZm4pOyB9XG4gICAgICAgICAgcmV0dXJuIGVsXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gYGV2ZW50YCBsaXN0ZW5lcnNcbiAgICAgICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gZXZlbnQgLSBldmVudCBpZFxuICAgICAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZWxcbiAgICAgICAqL1xuICAgICAgb2ZmOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbihldmVudCwgZm4pIHtcbiAgICAgICAgICBpZiAoZXZlbnQgPT0gJyonICYmICFmbikgeyBjYWxsYmFja3MgPSB7fTsgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgIHZhciBhcnIgPSBjYWxsYmFja3NbZXZlbnRdO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2I7IGNiID0gYXJyICYmIGFycltpXTsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNiID09IGZuKSB7IGFyci5zcGxpY2UoaS0tLCAxKTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgeyBkZWxldGUgY2FsbGJhY2tzW2V2ZW50XTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWxcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBMaXN0ZW4gdG8gdGhlIGdpdmVuIGBldmVudGAgYW5kXG4gICAgICAgKiBleGVjdXRlIHRoZSBgY2FsbGJhY2tgIGF0IG1vc3Qgb25jZVxuICAgICAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBldmVudCAtIGV2ZW50IGlkXG4gICAgICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICogQHJldHVybnMgeyBPYmplY3QgfSBlbFxuICAgICAgICovXG4gICAgICBvbmU6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xuICAgICAgICAgIGZ1bmN0aW9uIG9uKCkge1xuICAgICAgICAgICAgZWwub2ZmKGV2ZW50LCBvbik7XG4gICAgICAgICAgICBmbi5hcHBseShlbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLm9uKGV2ZW50LCBvbilcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBFeGVjdXRlIGFsbCBjYWxsYmFjayBmdW5jdGlvbnMgdGhhdCBsaXN0ZW4gdG9cbiAgICAgICAqIHRoZSBnaXZlbiBgZXZlbnRgXG4gICAgICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGV2ZW50IC0gZXZlbnQgaWRcbiAgICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZWxcbiAgICAgICAqL1xuICAgICAgdHJpZ2dlcjoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cblxuICAgICAgICAgIC8vIGdldHRpbmcgdGhlIGFyZ3VtZW50c1xuICAgICAgICAgIHZhciBhcmdsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkoYXJnbGVuKSxcbiAgICAgICAgICAgIGZucyxcbiAgICAgICAgICAgIGZuLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcmdsZW47IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50cyQxW2kgKyAxXTsgLy8gc2tpcCBmaXJzdCBhcmd1bWVudFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZucyA9IHNsaWNlLmNhbGwoY2FsbGJhY2tzW2V2ZW50XSB8fCBbXSwgMCk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBmbiA9IGZuc1tpXTsgKytpKSB7XG4gICAgICAgICAgICBmbi5hcHBseShlbCwgYXJncyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNhbGxiYWNrc1snKiddICYmIGV2ZW50ICE9ICcqJylcbiAgICAgICAgICAgIHsgZWwudHJpZ2dlci5hcHBseShlbCwgWycqJywgZXZlbnRdLmNvbmNhdChhcmdzKSk7IH1cblxuICAgICAgICAgIHJldHVybiBlbFxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZWxcblxuICB9O1xuXG4gIC8qKlxuICAgKiBTaG9ydCBhbGlhcyBmb3IgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvclxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UHJvcERlc2NyaXB0b3IgKG8sIGspIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLCBrKVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBhcmd1bWVudCBpcyB1bmRlZmluZWRcbiAgICogQHBhcmFtICAgeyAqIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFRfVU5ERUZcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIG9iamVjdCdzIHByb3BlcnR5IGNvdWxkIGJlIG92ZXJyaWRkZW5cbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAgb2JqIC0gc291cmNlIG9iamVjdFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICBrZXkgLSBvYmplY3QgcHJvcGVydHlcbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gdHJ1ZSBpZiB3cml0YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNXcml0YWJsZShvYmosIGtleSkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0UHJvcERlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICAgIHJldHVybiBpc1VuZGVmaW5lZChvYmpba2V5XSkgfHwgZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLndyaXRhYmxlXG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kIGFueSBvYmplY3Qgd2l0aCBvdGhlciBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gc3JjIC0gc291cmNlIG9iamVjdFxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IHRoZSByZXN1bHRpbmcgZXh0ZW5kZWQgb2JqZWN0XG4gICAqXG4gICAqIHZhciBvYmogPSB7IGZvbzogJ2JheicgfVxuICAgKiBleHRlbmQob2JqLCB7YmFyOiAnYmFyJywgZm9vOiAnYmFyJ30pXG4gICAqIGNvbnNvbGUubG9nKG9iaikgPT4ge2JhcjogJ2JhcicsIGZvbzogJ2Jhcid9XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBleHRlbmQoc3JjKSB7XG4gICAgdmFyIG9iajtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIGwgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAob2JqID0gYXJnc1tpXSkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBwcm9wZXJ0eSBvZiB0aGUgc291cmNlIG9iamVjdCBjb3VsZCBiZSBvdmVycmlkZGVuXG4gICAgICAgICAgaWYgKGlzV3JpdGFibGUoc3JjLCBrZXkpKVxuICAgICAgICAgICAgeyBzcmNba2V5XSA9IG9ialtrZXldOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNyY1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBPYmplY3QuY3JlYXRlXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGUoc3JjKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoc3JjKVxuICB9XG5cbiAgdmFyIHNldHRpbmdzID0gZXh0ZW5kKGNyZWF0ZShicmFja2V0cy5zZXR0aW5ncyksIHtcbiAgICBza2lwQW5vbnltb3VzVGFnczogdHJ1ZSxcbiAgICAvLyB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZXMgd2lsbCBiZSBwcmVzZXJ2ZWRcbiAgICBrZWVwVmFsdWVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAvLyBoYW5kbGUgdGhlIGF1dG8gdXBkYXRlcyBvbiBhbnkgRE9NIGV2ZW50XG4gICAgYXV0b1VwZGF0ZTogdHJ1ZVxuICB9KTtcblxuICAvKipcbiAgICogU2hvcnRlciBhbmQgZmFzdCB3YXkgdG8gc2VsZWN0IG11bHRpcGxlIG5vZGVzIGluIHRoZSBET01cbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBzZWxlY3RvciAtIERPTSBzZWxlY3RvclxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGN0eCAtIERPTSBub2RlIHdoZXJlIHRoZSB0YXJnZXRzIG9mIG91ciBzZWFyY2ggd2lsbCBpcyBsb2NhdGVkXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZG9tIG5vZGVzIGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiAkJChzZWxlY3RvciwgY3R4KSB7XG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoKGN0eCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgZG9jdW1lbnQgdGV4dCBub2RlXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gY3JlYXRlIGEgdGV4dCBub2RlIHRvIHVzZSBhcyBwbGFjZWhvbGRlclxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlRE9NUGxhY2Vob2xkZXIoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiBhbnkgRE9NIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAgZG9tIC0gRE9NIG5vZGUgd2Ugd2FudCB0byBoaWRlXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IHNob3cgLSBkbyB3ZSB3YW50IHRvIHNob3cgaXQ/XG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZVZpc2liaWxpdHkoZG9tLCBzaG93KSB7XG4gICAgZG9tLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gJycgOiAnbm9uZSc7XG4gICAgZG9tLmhpZGRlbiA9IHNob3cgPyBmYWxzZSA6IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBhbnkgRE9NIGF0dHJpYnV0ZSBvbiBhIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBkb20gLSBET00gbm9kZSB3ZSB3YW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gbmFtZSAtIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB3ZSB3YW50IHRvIGdldFxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB8IHVuZGVmaW5lZCB9IG5hbWUgb2YgdGhlIG5vZGUgYXR0cmlidXRlIHdoZXRoZXIgaXQgZXhpc3RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUoZG9tLCBuYW1lKSB7XG4gICAgcmV0dXJuIGRvbS5nZXRBdHRyaWJ1dGUobmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW55IERPTSBhdHRyaWJ1dGUgZnJvbSBhIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBkb20gLSBET00gbm9kZSB3ZSB3YW50IHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IG5hbWUgLSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3ZSB3YW50IHRvIHJlbW92ZVxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlQXR0cmlidXRlKGRvbSwgbmFtZSkge1xuICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbm5lciBodG1sIG9mIGFueSBET00gbm9kZSBTVkdzIGluY2x1ZGVkXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGNvbnRhaW5lciAtIERPTSBub2RlIHdoZXJlIHdlJ2xsIGluamVjdCBuZXcgaHRtbFxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSBodG1sIC0gaHRtbCB0byBpbmplY3RcbiAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGlzU3ZnIC0gc3ZnIHRhZ3Mgc2hvdWxkIGJlIHRyZWF0ZWQgYSBiaXQgZGlmZmVyZW50bHlcbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIHNldElubmVySFRNTChjb250YWluZXIsIGh0bWwsIGlzU3ZnKSB7XG4gICAgLy8gaW5uZXJIVE1MIGlzIG5vdCBzdXBwb3J0ZWQgb24gc3ZnIHRhZ3Mgc28gd2UgbmVldCB0byB0cmVhdCB0aGVtIGRpZmZlcmVudGx5XG4gICAgaWYgKGlzU3ZnKSB7XG4gICAgICB2YXIgbm9kZSA9IGNvbnRhaW5lci5vd25lckRvY3VtZW50LmltcG9ydE5vZGUoXG4gICAgICAgIG5ldyBET01QYXJzZXIoKVxuICAgICAgICAgIC5wYXJzZUZyb21TdHJpbmcoKFwiPHN2ZyB4bWxucz1cXFwiXCIgKyBTVkdfTlMgKyBcIlxcXCI+XCIgKyBodG1sICsgXCI8L3N2Zz5cIiksICdhcHBsaWNhdGlvbi94bWwnKVxuICAgICAgICAgIC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG5cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1pbmltaXplIHJpc2s6IG9ubHkgemVybyBvciBvbmUgX3NwYWNlXyBiZXR3ZWVuIGF0dHIgJiB2YWx1ZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgaHRtbCAtIGh0bWwgc3RyaW5nIHdlIHdhbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYXBwbHkgb24gYW55IGF0dHJpYnV0ZSBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gd2Fsa0F0dHJpYnV0ZXMoaHRtbCwgZm4pIHtcbiAgICBpZiAoIWh0bWwpIHsgcmV0dXJuIH1cbiAgICB2YXIgbTtcbiAgICB3aGlsZSAobSA9IFJFX0hUTUxfQVRUUlMuZXhlYyhodG1sKSlcbiAgICAgIHsgZm4obVsxXS50b0xvd2VyQ2FzZSgpLCBtWzJdIHx8IG1bM10gfHwgbVs0XSk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBkb2N1bWVudCBmcmFnbWVudFxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGRvY3VtZW50IGZyYWdtZW50XG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVGcmFnbWVudCgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0IHNhZmVseSBhIHRhZyB0byBmaXggIzE5NjIgIzE2NDlcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IHJvb3QgLSBjaGlsZHJlbiBjb250YWluZXJcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IGN1cnIgLSBub2RlIHRvIGluc2VydFxuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gbmV4dCAtIG5vZGUgdGhhdCBzaG91bGQgcHJlY2VlZCB0aGUgY3VycmVudCBub2RlIGluc2VydGVkXG4gICAqL1xuICBmdW5jdGlvbiBzYWZlSW5zZXJ0KHJvb3QsIGN1cnIsIG5leHQpIHtcbiAgICByb290Lmluc2VydEJlZm9yZShjdXJyLCBuZXh0LnBhcmVudE5vZGUgJiYgbmV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhIHN0eWxlIG9iamVjdCB0byBhIHN0cmluZ1xuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IHN0eWxlIC0gc3R5bGUgb2JqZWN0IHdlIG5lZWQgdG8gcGFyc2VcbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSByZXN1bHRpbmcgY3NzIHN0cmluZ1xuICAgKiBAZXhhbXBsZVxuICAgKiBzdHlsZU9iamVjdFRvU3RyaW5nKHsgY29sb3I6ICdyZWQnLCBoZWlnaHQ6ICcxMHB4J30pIC8vID0+ICdjb2xvcjogcmVkOyBoZWlnaHQ6IDEwcHgnXG4gICAqL1xuICBmdW5jdGlvbiBzdHlsZU9iamVjdFRvU3RyaW5nKHN0eWxlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0eWxlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcHJvcCkge1xuICAgICAgcmV0dXJuIChhY2MgKyBcIiBcIiArIHByb3AgKyBcIjogXCIgKyAoc3R5bGVbcHJvcF0pICsgXCI7XCIpXG4gICAgfSwgJycpXG4gIH1cblxuICAvKipcbiAgICogV2FsayBkb3duIHJlY3Vyc2l2ZWx5IGFsbCB0aGUgY2hpbGRyZW4gdGFncyBzdGFydGluZyBkb20gbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICAgZG9tIC0gc3RhcnRpbmcgbm9kZSB3aGVyZSB3ZSB3aWxsIHN0YXJ0IHRoZSByZWN1cnNpb25cbiAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gY2FsbGJhY2sgdG8gdHJhbnNmb3JtIHRoZSBjaGlsZCBub2RlIGp1c3QgZm91bmRcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAgIGNvbnRleHQgLSBmbiBjYW4gb3B0aW9uYWxseSByZXR1cm4gYW4gb2JqZWN0LCB3aGljaCBpcyBwYXNzZWQgdG8gY2hpbGRyZW5cbiAgICovXG4gIGZ1bmN0aW9uIHdhbGtOb2Rlcyhkb20sIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKGRvbSkge1xuICAgICAgdmFyIHJlcyA9IGZuKGRvbSwgY29udGV4dCk7XG4gICAgICB2YXIgbmV4dDtcbiAgICAgIC8vIHN0b3AgdGhlIHJlY3Vyc2lvblxuICAgICAgaWYgKHJlcyA9PT0gZmFsc2UpIHsgcmV0dXJuIH1cblxuICAgICAgZG9tID0gZG9tLmZpcnN0Q2hpbGQ7XG5cbiAgICAgIHdoaWxlIChkb20pIHtcbiAgICAgICAgbmV4dCA9IGRvbS5uZXh0U2libGluZztcbiAgICAgICAgd2Fsa05vZGVzKGRvbSwgZm4sIHJlcyk7XG4gICAgICAgIGRvbSA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuXG4gIHZhciBkb20gPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgJCQ6ICQkLFxuICAgICQ6ICQsXG4gICAgY3JlYXRlRE9NUGxhY2Vob2xkZXI6IGNyZWF0ZURPTVBsYWNlaG9sZGVyLFxuICAgIG1rRWw6IG1ha2VFbGVtZW50LFxuICAgIHNldEF0dHI6IHNldEF0dHJpYnV0ZSxcbiAgICB0b2dnbGVWaXNpYmlsaXR5OiB0b2dnbGVWaXNpYmlsaXR5LFxuICAgIGdldEF0dHI6IGdldEF0dHJpYnV0ZSxcbiAgICByZW1BdHRyOiByZW1vdmVBdHRyaWJ1dGUsXG4gICAgc2V0SW5uZXJIVE1MOiBzZXRJbm5lckhUTUwsXG4gICAgd2Fsa0F0dHJzOiB3YWxrQXR0cmlidXRlcyxcbiAgICBjcmVhdGVGcmFnOiBjcmVhdGVGcmFnbWVudCxcbiAgICBzYWZlSW5zZXJ0OiBzYWZlSW5zZXJ0LFxuICAgIHN0eWxlT2JqZWN0VG9TdHJpbmc6IHN0eWxlT2JqZWN0VG9TdHJpbmcsXG4gICAgd2Fsa05vZGVzOiB3YWxrTm9kZXNcbiAgfSk7XG5cbiAgLyoqXG4gICAqIENoZWNrIGFnYWluc3QgdGhlIG51bGwgYW5kIHVuZGVmaW5lZCB2YWx1ZXNcbiAgICogQHBhcmFtICAgeyAqIH0gIHZhbHVlIC1cbiAgICogQHJldHVybnMge0Jvb2xlYW59IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBhcmd1bWVudCBpcyBlbXB0eS4gRGlmZmVyZW50IGZyb20gZmFsc3ksIGJlY2F1c2Ugd2UgZG9udCBjb25zaWRlciAwIG9yIGZhbHNlIHRvIGJlIGJsYW5rXG4gICAqIEBwYXJhbSB7ICogfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzQmxhbmsodmFsdWUpIHtcbiAgICByZXR1cm4gaXNOaWwodmFsdWUpIHx8IHZhbHVlID09PSAnJ1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFRfRlVOQ1RJT05cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgYXJndW1lbnQgaXMgYW4gb2JqZWN0LCBleGNsdWRlIG51bGxcbiAgICogTk9URTogdXNlIGlzT2JqZWN0KHgpICYmICFpc0FycmF5KHgpIHRvIGV4Y2x1ZGVzIGFycmF5cy5cbiAgICogQHBhcmFtICAgeyAqIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFRfT0JKRUNUIC8vIHR5cGVvZiBudWxsIGlzICdvYmplY3QnXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBET00gbm9kZSBpcyBhbiBzdmcgdGFnIG9yIHBhcnQgb2YgYW4gc3ZnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSAgZWwgLSBub2RlIHdlIHdhbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBpdCdzIGFuIHN2ZyBub2RlXG4gICAqL1xuICBmdW5jdGlvbiBpc1N2ZyhlbCkge1xuICAgIHZhciBvd25lciA9IGVsLm93bmVyU1ZHRWxlbWVudDtcbiAgICByZXR1cm4gISFvd25lciB8fCBvd25lciA9PT0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBhcmd1bWVudCBpcyBhIGtpbmQgb2YgYXJyYXlcbiAgICogQHBhcmFtICAgeyAqIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgQXJyYXlcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgcGFzc2VkIGFyZ3VtZW50IGlzIGEgYm9vbGVhbiBhdHRyaWJ1dGVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzQm9vbEF0dHIodmFsdWUpIHtcbiAgICByZXR1cm4gUkVfQk9PTF9BVFRSUy50ZXN0KHZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBhcmd1bWVudCBpcyBhIHN0cmluZ1xuICAgKiBAcGFyYW0gICB7ICogfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gVF9TVFJJTkdcbiAgfVxuXG5cblxuICB2YXIgY2hlY2sgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgaXNCbGFuazogaXNCbGFuayxcbiAgICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICAgIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgICBpc1N2ZzogaXNTdmcsXG4gICAgaXNXcml0YWJsZTogaXNXcml0YWJsZSxcbiAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgIGlzQm9vbEF0dHI6IGlzQm9vbEF0dHIsXG4gICAgaXNOaWw6IGlzTmlsLFxuICAgIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWRcbiAgfSk7XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgYW4gYXJyYXkgY29udGFpbnMgYW4gaXRlbVxuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gYXJyYXkgLSB0YXJnZXQgYXJyYXlcbiAgICogQHBhcmFtICAgeyAqIH0gaXRlbSAtIGl0ZW0gdG8gdGVzdFxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBjb250YWlucyhhcnJheSwgaXRlbSkge1xuICAgIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMVxuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpYWxpemVkIGZ1bmN0aW9uIGZvciBsb29waW5nIGFuIGFycmF5LWxpa2UgY29sbGVjdGlvbiB3aXRoIGBlYWNoPXt9YFxuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gbGlzdCAtIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAgICogQHBhcmFtICAge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHsgQXJyYXkgfSB0aGUgYXJyYXkgbG9vcGVkXG4gICAqL1xuICBmdW5jdGlvbiBlYWNoKGxpc3QsIGZuKSB7XG4gICAgdmFyIGxlbiA9IGxpc3QgPyBsaXN0Lmxlbmd0aCA6IDA7XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHsgZm4obGlzdFtpXSwgaSk7IH1cbiAgICByZXR1cm4gbGlzdFxuICB9XG5cbiAgLyoqXG4gICAqIEZhc3RlciBTdHJpbmcgc3RhcnRzV2l0aCBhbHRlcm5hdGl2ZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHN0ciAtIHNvdXJjZSBzdHJpbmdcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSB2YWx1ZSAtIHRlc3Qgc3RyaW5nXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyLCB2YWx1ZSkge1xuICAgIHJldHVybiBzdHIuc2xpY2UoMCwgdmFsdWUubGVuZ3RoKSA9PT0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXR1cm5pbmcgYWx3YXlzIGEgdW5pcXVlIGlkZW50aWZpZXJcbiAgICogQHJldHVybnMgeyBOdW1iZXIgfSAtIG51bWJlciBmcm9tIDAuLi5uXG4gICAqL1xuICB2YXIgdWlkID0gKGZ1bmN0aW9uIHVpZCgpIHtcbiAgICB2YXIgaSA9IC0xO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiArK2k7IH1cbiAgfSkoKTtcblxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHNldCBhbiBpbW11dGFibGUgcHJvcGVydHlcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBlbCAtIG9iamVjdCB3aGVyZSB0aGUgbmV3IHByb3BlcnR5IHdpbGwgYmUgc2V0XG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0ga2V5IC0gb2JqZWN0IGtleSB3aGVyZSB0aGUgbmV3IHByb3BlcnR5IHdpbGwgYmUgc3RvcmVkXG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbHVlIC0gdmFsdWUgb2YgdGhlIG5ldyBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IG9wdGlvbnMgLSBzZXQgdGhlIHByb3Blcnkgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gLSB0aGUgaW5pdGlhbCBvYmplY3RcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmluZShlbCwga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwga2V5LCBleHRlbmQoe1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9LCBvcHRpb25zKSk7XG4gICAgcmV0dXJuIGVsXG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhIHN0cmluZyBjb250YWluaW5nIGRhc2hlcyB0byBjYW1lbCBjYXNlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gc3RyIC0gaW5wdXQgc3RyaW5nXG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gbXktc3RyaW5nIC0+IG15U3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiB0b0NhbWVsKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvLShcXHcpL2csIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjLnRvVXBwZXJDYXNlKCk7IH0pXG4gIH1cblxuICAvKipcbiAgICogV2FybiBhIG1lc3NhZ2UgdmlhIGNvbnNvbGVcbiAgICogQHBhcmFtICAge1N0cmluZ30gbWVzc2FnZSAtIHdhcm5pbmcgbWVzc2FnZVxuICAgKi9cbiAgZnVuY3Rpb24gd2FybihtZXNzYWdlKSB7XG4gICAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSB7IGNvbnNvbGUud2FybihtZXNzYWdlKTsgfVxuICB9XG5cblxuXG4gIHZhciBtaXNjID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGNvbnRhaW5zOiBjb250YWlucyxcbiAgICBlYWNoOiBlYWNoLFxuICAgIGdldFByb3BEZXNjcmlwdG9yOiBnZXRQcm9wRGVzY3JpcHRvcixcbiAgICBzdGFydHNXaXRoOiBzdGFydHNXaXRoLFxuICAgIHVpZDogdWlkLFxuICAgIGRlZmluZVByb3BlcnR5OiBkZWZpbmUsXG4gICAgb2JqZWN0Q3JlYXRlOiBjcmVhdGUsXG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgdG9DYW1lbDogdG9DYW1lbCxcbiAgICB3YXJuOiB3YXJuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHByb3BlcnR5IG9mIGFuIG9iamVjdCBmb3IgYSBnaXZlbiBrZXkuIElmIHNvbWV0aGluZyBhbHJlYWR5XG4gICAqIGV4aXN0cyB0aGVyZSwgdGhlbiBpdCBiZWNvbWVzIGFuIGFycmF5IGNvbnRhaW5pbmcgYm90aCB0aGUgb2xkIGFuZCBuZXcgdmFsdWUuXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAtIG9iamVjdCBvbiB3aGljaCB0byBzZXQgdGhlIHByb3BlcnR5XG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IGtleSAtIHByb3BlcnR5IG5hbWVcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gdmFsdWUgLSB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIHNldFxuICAgKiBAcGFyYW0geyBCb29sZWFuIH0gZW5zdXJlQXJyYXkgLSBlbnN1cmUgdGhhdCB0aGUgcHJvcGVydHkgcmVtYWlucyBhbiBhcnJheVxuICAgKiBAcGFyYW0geyBOdW1iZXIgfSBpbmRleCAtIGFkZCB0aGUgbmV3IGl0ZW0gaW4gYSBjZXJ0YWluIGFycmF5IHBvc2l0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheWlzaEFkZChvYmosIGtleSwgdmFsdWUsIGVuc3VyZUFycmF5LCBpbmRleCkge1xuICAgIHZhciBkZXN0ID0gb2JqW2tleV07XG4gICAgdmFyIGlzQXJyID0gaXNBcnJheShkZXN0KTtcbiAgICB2YXIgaGFzSW5kZXggPSAhaXNVbmRlZmluZWQoaW5kZXgpO1xuXG4gICAgaWYgKGRlc3QgJiYgZGVzdCA9PT0gdmFsdWUpIHsgcmV0dXJuIH1cblxuICAgIC8vIGlmIHRoZSBrZXkgd2FzIG5ldmVyIHNldCwgc2V0IGl0IG9uY2VcbiAgICBpZiAoIWRlc3QgJiYgZW5zdXJlQXJyYXkpIHsgb2JqW2tleV0gPSBbdmFsdWVdOyB9XG4gICAgZWxzZSBpZiAoIWRlc3QpIHsgb2JqW2tleV0gPSB2YWx1ZTsgfVxuICAgIC8vIGlmIGl0IHdhcyBhbiBhcnJheSBhbmQgbm90IHlldCBzZXRcbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICB2YXIgb2xkSW5kZXggPSBkZXN0LmluZGV4T2YodmFsdWUpO1xuICAgICAgICAvLyB0aGlzIGl0ZW0gbmV2ZXIgY2hhbmdlZCBpdHMgcG9zaXRpb25cbiAgICAgICAgaWYgKG9sZEluZGV4ID09PSBpbmRleCkgeyByZXR1cm4gfVxuICAgICAgICAvLyByZW1vdmUgdGhlIGl0ZW0gZnJvbSBpdHMgb2xkIHBvc2l0aW9uXG4gICAgICAgIGlmIChvbGRJbmRleCAhPT0gLTEpIHsgZGVzdC5zcGxpY2Uob2xkSW5kZXgsIDEpOyB9XG4gICAgICAgIC8vIG1vdmUgb3IgYWRkIHRoZSBpdGVtXG4gICAgICAgIGlmIChoYXNJbmRleCkge1xuICAgICAgICAgIGRlc3Quc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVzdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgb2JqW2tleV0gPSBbZGVzdCwgdmFsdWVdOyB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCB0aGUgdGFnIGltcGxlbWVudGF0aW9uIGJ5IGEgRE9NIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBkb20gLSBET00gbm9kZSB3ZSBuZWVkIHRvIHBhcnNlIHRvIGdldCBpdHMgdGFnIGltcGxlbWVudGF0aW9uXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gaXQgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgaW1wbGVtZW50YXRpb24gb2YgYSBjdXN0b20gdGFnICh0ZW1wbGF0ZSBhbmQgYm9vdCBmdW5jdGlvbilcbiAgICovXG4gIGZ1bmN0aW9uIGdldChkb20pIHtcbiAgICByZXR1cm4gZG9tLnRhZ05hbWUgJiYgX19UQUdfSU1QTFtnZXRBdHRyaWJ1dGUoZG9tLCBJU19ESVJFQ1RJVkUpIHx8XG4gICAgICBnZXRBdHRyaWJ1dGUoZG9tLCBJU19ESVJFQ1RJVkUpIHx8IGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCldXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0YWcgbmFtZSBvZiBhbnkgRE9NIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBkb20gLSBET00gbm9kZSB3ZSB3YW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IHNraXBEYXRhSXMgLSBoYWNrIHRvIGlnbm9yZSB0aGUgZGF0YS1pcyBhdHRyaWJ1dGUgd2hlbiBhdHRhY2hpbmcgdG8gcGFyZW50XG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gbmFtZSB0byBpZGVudGlmeSB0aGlzIGRvbSBub2RlIGluIHJpb3RcbiAgICovXG4gIGZ1bmN0aW9uIGdldE5hbWUoZG9tLCBza2lwRGF0YUlzKSB7XG4gICAgdmFyIGNoaWxkID0gZ2V0KGRvbSk7XG4gICAgdmFyIG5hbWVkVGFnID0gIXNraXBEYXRhSXMgJiYgZ2V0QXR0cmlidXRlKGRvbSwgSVNfRElSRUNUSVZFKTtcbiAgICByZXR1cm4gbmFtZWRUYWcgJiYgIXRtcGwuaGFzRXhwcihuYW1lZFRhZykgP1xuICAgICAgbmFtZWRUYWcgOiBjaGlsZCA/IGNoaWxkLm5hbWUgOiBkb20udGFnTmFtZS50b0xvd2VyQ2FzZSgpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgdGVtcG9yYXJ5IGNvbnRleHQgY29udGFpbmluZyBhbHNvIHRoZSBwYXJlbnQgcHJvcGVydGllc1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgVGFnIH0gLSB0ZW1wb3JhcnkgdGFnIGNvbnRleHQgY29udGFpbmluZyBhbGwgdGhlIHBhcmVudCBwcm9wZXJ0aWVzXG4gICAqL1xuICBmdW5jdGlvbiBpbmhlcml0UGFyZW50UHJvcHMoKSB7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7IHJldHVybiBleHRlbmQoY3JlYXRlKHRoaXMpLCB0aGlzLnBhcmVudCkgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKlxuICAgIEluY2x1ZGVzIGhhY2tzIG5lZWRlZCBmb3IgdGhlIEludGVybmV0IEV4cGxvcmVyIHZlcnNpb24gOSBhbmQgYmVsb3dcbiAgICBTZWU6IGh0dHA6Ly9rYW5nYXguZ2l0aHViLmlvL2NvbXBhdC10YWJsZS9lczUvI2llOFxuICAgICAgICAgaHR0cDovL2NvZGVwbGFuZXQuaW8vZHJvcHBpbmctaWU4L1xuICAqL1xuXG4gIHZhclxuICAgIHJlSGFzWWllbGQgID0gLzx5aWVsZFxcYi9pLFxuICAgIHJlWWllbGRBbGwgID0gLzx5aWVsZFxccyooPzpcXC8+fD4oW1xcU1xcc10qPyk8XFwveWllbGRcXHMqPnw+KS9pZyxcbiAgICByZVlpZWxkU3JjICA9IC88eWllbGRcXHMrdG89WydcIl0oW14nXCI+XSopWydcIl1cXHMqPihbXFxTXFxzXSo/KTxcXC95aWVsZFxccyo+L2lnLFxuICAgIHJlWWllbGREZXN0ID0gLzx5aWVsZFxccytmcm9tPVsnXCJdPyhbLVxcd10rKVsnXCJdP1xccyooPzpcXC8+fD4oW1xcU1xcc10qPyk8XFwveWllbGRcXHMqPikvaWcsXG4gICAgcm9vdEVscyA9IHsgdHI6ICd0Ym9keScsIHRoOiAndHInLCB0ZDogJ3RyJywgY29sOiAnY29sZ3JvdXAnIH0sXG4gICAgdGJsVGFncyA9IElFX1ZFUlNJT04gJiYgSUVfVkVSU0lPTiA8IDEwID8gUkVfU1BFQ0lBTF9UQUdTIDogUkVfU1BFQ0lBTF9UQUdTX05PX09QVElPTixcbiAgICBHRU5FUklDID0gJ2RpdicsXG4gICAgU1ZHID0gJ3N2Zyc7XG5cblxuICAvKlxuICAgIENyZWF0ZXMgdGhlIHJvb3QgZWxlbWVudCBmb3IgdGFibGUgb3Igc2VsZWN0IGNoaWxkIGVsZW1lbnRzOlxuICAgIHRyL3RoL3RkL3RoZWFkL3Rmb290L3Rib2R5L2NhcHRpb24vY29sL2NvbGdyb3VwL29wdGlvbi9vcHRncm91cFxuICAqL1xuICBmdW5jdGlvbiBzcGVjaWFsVGFncyhlbCwgdG1wbCwgdGFnTmFtZSkge1xuXG4gICAgdmFyXG4gICAgICBzZWxlY3QgPSB0YWdOYW1lWzBdID09PSAnbycsXG4gICAgICBwYXJlbnQgPSBzZWxlY3QgPyAnc2VsZWN0PicgOiAndGFibGU+JztcblxuICAgIC8vIHRyaW0oKSBpcyBpbXBvcnRhbnQgaGVyZSwgdGhpcyBlbnN1cmVzIHdlIGRvbid0IGhhdmUgYXJ0aWZhY3RzLFxuICAgIC8vIHNvIHdlIGNhbiBjaGVjayBpZiB3ZSBoYXZlIG9ubHkgb25lIGVsZW1lbnQgaW5zaWRlIHRoZSBwYXJlbnRcbiAgICBlbC5pbm5lckhUTUwgPSAnPCcgKyBwYXJlbnQgKyB0bXBsLnRyaW0oKSArICc8LycgKyBwYXJlbnQ7XG4gICAgcGFyZW50ID0gZWwuZmlyc3RDaGlsZDtcblxuICAgIC8vIHJldHVybnMgdGhlIGltbWVkaWF0ZSBwYXJlbnQgaWYgdHIvdGgvdGQvY29sIGlzIHRoZSBvbmx5IGVsZW1lbnQsIGlmIG5vdFxuICAgIC8vIHJldHVybnMgdGhlIHdob2xlIHRyZWUsIGFzIHRoaXMgY2FuIGluY2x1ZGUgYWRkaXRpb25hbCBlbGVtZW50c1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHNlbGVjdCkge1xuICAgICAgcGFyZW50LnNlbGVjdGVkSW5kZXggPSAtMTsgIC8vIGZvciBJRTksIGNvbXBhdGlibGUgdy9jdXJyZW50IHJpb3QgYmVoYXZpb3JcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXZvaWRzIGluc2VydGlvbiBvZiBjb2ludGFpbmVyIGluc2lkZSBjb250YWluZXIgKGV4OiB0Ym9keSBpbnNpZGUgdGJvZHkpXG4gICAgICB2YXIgdG5hbWUgPSByb290RWxzW3RhZ05hbWVdO1xuICAgICAgaWYgKHRuYW1lICYmIHBhcmVudC5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMSkgeyBwYXJlbnQgPSAkKHRuYW1lLCBwYXJlbnQpOyB9XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRcbiAgfVxuXG4gIC8qXG4gICAgUmVwbGFjZSB0aGUgeWllbGQgdGFnIGZyb20gYW55IHRhZyB0ZW1wbGF0ZSB3aXRoIHRoZSBpbm5lckhUTUwgb2YgdGhlXG4gICAgb3JpZ2luYWwgdGFnIGluIHRoZSBwYWdlXG4gICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VZaWVsZCh0bXBsLCBodG1sKSB7XG4gICAgLy8gZG8gbm90aGluZyBpZiBubyB5aWVsZFxuICAgIGlmICghcmVIYXNZaWVsZC50ZXN0KHRtcGwpKSB7IHJldHVybiB0bXBsIH1cblxuICAgIC8vIGJlIGNhcmVmdWwgd2l0aCAjMTM0MyAtIHN0cmluZyBvbiB0aGUgc291cmNlIGhhdmluZyBgJDFgXG4gICAgdmFyIHNyYyA9IHt9O1xuXG4gICAgaHRtbCA9IGh0bWwgJiYgaHRtbC5yZXBsYWNlKHJlWWllbGRTcmMsIGZ1bmN0aW9uIChfLCByZWYsIHRleHQpIHtcbiAgICAgIHNyY1tyZWZdID0gc3JjW3JlZl0gfHwgdGV4dDsgICAvLyBwcmVzZXJ2ZSBmaXJzdCBkZWZpbml0aW9uXG4gICAgICByZXR1cm4gJydcbiAgICB9KS50cmltKCk7XG5cbiAgICByZXR1cm4gdG1wbFxuICAgICAgLnJlcGxhY2UocmVZaWVsZERlc3QsIGZ1bmN0aW9uIChfLCByZWYsIGRlZikgeyAgLy8geWllbGQgd2l0aCBmcm9tIC0gdG8gYXR0cnNcbiAgICAgICAgcmV0dXJuIHNyY1tyZWZdIHx8IGRlZiB8fCAnJ1xuICAgICAgfSlcbiAgICAgIC5yZXBsYWNlKHJlWWllbGRBbGwsIGZ1bmN0aW9uIChfLCBkZWYpIHsgICAgICAgIC8vIHlpZWxkIHdpdGhvdXQgYW55IFwiZnJvbVwiXG4gICAgICAgIHJldHVybiBodG1sIHx8IGRlZiB8fCAnJ1xuICAgICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgdG8gd3JhcCB0aGUgZ2l2ZW4gY29udGVudC4gTm9ybWFsbHkgYW4gYERJVmAsIGJ1dCBjYW4gYmVcbiAgICogYWxzbyBhIGBUQUJMRWAsIGBTRUxFQ1RgLCBgVEJPRFlgLCBgVFJgLCBvciBgQ09MR1JPVVBgIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gdG1wbCAgLSBUaGUgdGVtcGxhdGUgY29taW5nIGZyb20gdGhlIGN1c3RvbSB0YWcgZGVmaW5pdGlvblxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGh0bWwgLSBIVE1MIGNvbnRlbnQgdGhhdCBjb21lcyBmcm9tIHRoZSBET00gZWxlbWVudCB3aGVyZSB5b3VcbiAgICogICAgICAgICAgIHdpbGwgbW91bnQgdGhlIHRhZywgbW9zdGx5IHRoZSBvcmlnaW5hbCB0YWcgaW4gdGhlIHBhZ2VcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gaXNTdmcgLSB0cnVlIGlmIHRoZSByb290IG5vZGUgaXMgYW4gc3ZnXG4gICAqIEByZXR1cm5zIHsgSFRNTEVsZW1lbnQgfSBET00gZWxlbWVudCB3aXRoIF90bXBsXyBtZXJnZWQgdGhyb3VnaCBgWUlFTERgIHdpdGggdGhlIF9odG1sXy5cbiAgICovXG4gIGZ1bmN0aW9uIG1rZG9tKHRtcGwsIGh0bWwsIGlzU3ZnKSB7XG4gICAgdmFyIG1hdGNoICAgPSB0bXBsICYmIHRtcGwubWF0Y2goL15cXHMqPChbLVxcd10rKS8pO1xuICAgIHZhciAgdGFnTmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIGVsID0gbWFrZUVsZW1lbnQoaXNTdmcgPyBTVkcgOiBHRU5FUklDKTtcblxuICAgIC8vIHJlcGxhY2UgYWxsIHRoZSB5aWVsZCB0YWdzIHdpdGggdGhlIHRhZyBpbm5lciBodG1sXG4gICAgdG1wbCA9IHJlcGxhY2VZaWVsZCh0bXBsLCBodG1sKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHRibFRhZ3MudGVzdCh0YWdOYW1lKSlcbiAgICAgIHsgZWwgPSBzcGVjaWFsVGFncyhlbCwgdG1wbCwgdGFnTmFtZSk7IH1cbiAgICBlbHNlXG4gICAgICB7IHNldElubmVySFRNTChlbCwgdG1wbCwgaXNTdmcpOyB9XG5cbiAgICByZXR1cm4gZWxcbiAgfVxuXG4gIHZhciBFVkVOVF9BVFRSX1JFID0gL15vbi87XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIGV2ZW50IGF0dHJpYnV0ZSBzdGFydHMgd2l0aCAnb24nXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gYXR0cmlidXRlIC0gZXZlbnQgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9XG4gICAqL1xuICBmdW5jdGlvbiBpc0V2ZW50QXR0cmlidXRlKGF0dHJpYnV0ZSkge1xuICAgIHJldHVybiBFVkVOVF9BVFRSX1JFLnRlc3QoYXR0cmlidXRlKVxuICB9XG5cbiAgLyoqXG4gICAqIExvb3AgYmFja3dhcmQgYWxsIHRoZSBwYXJlbnRzIHRyZWUgdG8gZGV0ZWN0IHRoZSBmaXJzdCBjdXN0b20gcGFyZW50IHRhZ1xuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IHRhZyAtIGEgVGFnIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gdGhlIGluc3RhbmNlIG9mIHRoZSBmaXJzdCBjdXN0b20gcGFyZW50IHRhZyBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KHRhZykge1xuICAgIHZhciBwdGFnID0gdGFnO1xuICAgIHdoaWxlIChwdGFnLl9fLmlzQW5vbnltb3VzKSB7XG4gICAgICBpZiAoIXB0YWcucGFyZW50KSB7IGJyZWFrIH1cbiAgICAgIHB0YWcgPSBwdGFnLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIHB0YWdcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIERPTSBldmVudHNcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IGRvbSAtIGRvbSBlbGVtZW50IHRhcmdldCBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGhhbmRsZXIgLSB1c2VyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZSAtIGV2ZW50IG9iamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoZG9tLCBoYW5kbGVyLCBlKSB7XG4gICAgdmFyIHB0YWcgPSB0aGlzLl9fLnBhcmVudDtcbiAgICB2YXIgaXRlbSA9IHRoaXMuX18uaXRlbTtcblxuICAgIGlmICghaXRlbSlcbiAgICAgIHsgd2hpbGUgKHB0YWcgJiYgIWl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IHB0YWcuX18uaXRlbTtcbiAgICAgICAgcHRhZyA9IHB0YWcuX18ucGFyZW50O1xuICAgICAgfSB9XG5cbiAgICAvLyBvdmVycmlkZSB0aGUgZXZlbnQgcHJvcGVydGllc1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGlzV3JpdGFibGUoZSwgJ2N1cnJlbnRUYXJnZXQnKSkgeyBlLmN1cnJlbnRUYXJnZXQgPSBkb207IH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChpc1dyaXRhYmxlKGUsICd0YXJnZXQnKSkgeyBlLnRhcmdldCA9IGUuc3JjRWxlbWVudDsgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGlzV3JpdGFibGUoZSwgJ3doaWNoJykpIHsgZS53aGljaCA9IGUuY2hhckNvZGUgfHwgZS5rZXlDb2RlOyB9XG5cbiAgICBlLml0ZW0gPSBpdGVtO1xuXG4gICAgaGFuZGxlci5jYWxsKHRoaXMsIGUpO1xuXG4gICAgLy8gYXZvaWQgYXV0byB1cGRhdGVzXG4gICAgaWYgKCFzZXR0aW5ncy5hdXRvVXBkYXRlKSB7IHJldHVybiB9XG5cbiAgICBpZiAoIWUucHJldmVudFVwZGF0ZSkge1xuICAgICAgdmFyIHAgPSBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQodGhpcyk7XG4gICAgICAvLyBmaXhlcyAjMjA4M1xuICAgICAgaWYgKHAuaXNNb3VudGVkKSB7IHAudXBkYXRlKCk7IH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoIGFuIGV2ZW50IHRvIGEgRE9NIG5vZGVcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0gbmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBoYW5kbGVyIC0gZXZlbnQgY2FsbGJhY2tcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gZG9tIC0gZG9tIG5vZGVcbiAgICogQHBhcmFtIHsgVGFnIH0gdGFnIC0gdGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBzZXRFdmVudEhhbmRsZXIobmFtZSwgaGFuZGxlciwgZG9tLCB0YWcpIHtcbiAgICB2YXIgZXZlbnROYW1lO1xuICAgIHZhciBjYiA9IGhhbmRsZUV2ZW50LmJpbmQodGFnLCBkb20sIGhhbmRsZXIpO1xuXG4gICAgLy8gYXZvaWQgdG8gYmluZCB0d2ljZSB0aGUgc2FtZSBldmVudFxuICAgIC8vIHBvc3NpYmxlIGZpeCBmb3IgIzIzMzJcbiAgICBkb21bbmFtZV0gPSBudWxsO1xuXG4gICAgLy8gbm9ybWFsaXplIGV2ZW50IG5hbWVcbiAgICBldmVudE5hbWUgPSBuYW1lLnJlcGxhY2UoUkVfRVZFTlRTX1BSRUZJWCwgJycpO1xuXG4gICAgLy8gY2FjaGUgdGhlIGxpc3RlbmVyIGludG8gdGhlIGxpc3RlbmVycyBhcnJheVxuICAgIGlmICghY29udGFpbnModGFnLl9fLmxpc3RlbmVycywgZG9tKSkgeyB0YWcuX18ubGlzdGVuZXJzLnB1c2goZG9tKTsgfVxuICAgIGlmICghZG9tW1JJT1RfRVZFTlRTX0tFWV0pIHsgZG9tW1JJT1RfRVZFTlRTX0tFWV0gPSB7fTsgfVxuICAgIGlmIChkb21bUklPVF9FVkVOVFNfS0VZXVtuYW1lXSkgeyBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGRvbVtSSU9UX0VWRU5UU19LRVldW25hbWVdKTsgfVxuXG4gICAgZG9tW1JJT1RfRVZFTlRTX0tFWV1bbmFtZV0gPSBjYjtcbiAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNiLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNoaWxkIHRhZyBpbmNsdWRpbmcgaXQgY29ycmVjdGx5IGludG8gaXRzIHBhcmVudFxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGNoaWxkIC0gY2hpbGQgdGFnIGltcGxlbWVudGF0aW9uXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gb3B0cyAtIHRhZyBvcHRpb25zIGNvbnRhaW5pbmcgdGhlIERPTSBub2RlIHdoZXJlIHRoZSB0YWcgd2lsbCBiZSBtb3VudGVkXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gaW5uZXJIVE1MIC0gaW5uZXIgaHRtbCBvZiB0aGUgY2hpbGQgbm9kZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IHBhcmVudCAtIGluc3RhbmNlIG9mIHRoZSBwYXJlbnQgdGFnIGluY2x1ZGluZyB0aGUgY2hpbGQgY3VzdG9tIHRhZ1xuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGluc3RhbmNlIG9mIHRoZSBuZXcgY2hpbGQgdGFnIGp1c3QgY3JlYXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdENoaWxkKGNoaWxkLCBvcHRzLCBpbm5lckhUTUwsIHBhcmVudCkge1xuICAgIHZhciB0YWcgPSBjcmVhdGVUYWcoY2hpbGQsIG9wdHMsIGlubmVySFRNTCk7XG4gICAgdmFyIHRhZ05hbWUgPSBvcHRzLnRhZ05hbWUgfHwgZ2V0TmFtZShvcHRzLnJvb3QsIHRydWUpO1xuICAgIHZhciBwdGFnID0gZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KHBhcmVudCk7XG4gICAgLy8gZml4IGZvciB0aGUgcGFyZW50IGF0dHJpYnV0ZSBpbiB0aGUgbG9vcGVkIGVsZW1lbnRzXG4gICAgZGVmaW5lKHRhZywgJ3BhcmVudCcsIHB0YWcpO1xuICAgIC8vIHN0b3JlIHRoZSByZWFsIHBhcmVudCB0YWdcbiAgICAvLyBpbiBzb21lIGNhc2VzIHRoaXMgY291bGQgYmUgZGlmZmVyZW50IGZyb20gdGhlIGN1c3RvbSBwYXJlbnQgdGFnXG4gICAgLy8gZm9yIGV4YW1wbGUgaW4gbmVzdGVkIGxvb3BzXG4gICAgdGFnLl9fLnBhcmVudCA9IHBhcmVudDtcblxuICAgIC8vIGFkZCB0aGlzIHRhZyB0byB0aGUgY3VzdG9tIHBhcmVudCB0YWdcbiAgICBhcnJheWlzaEFkZChwdGFnLnRhZ3MsIHRhZ05hbWUsIHRhZyk7XG5cbiAgICAvLyBhbmQgYWxzbyB0byB0aGUgcmVhbCBwYXJlbnQgdGFnXG4gICAgaWYgKHB0YWcgIT09IHBhcmVudClcbiAgICAgIHsgYXJyYXlpc2hBZGQocGFyZW50LnRhZ3MsIHRhZ05hbWUsIHRhZyk7IH1cblxuICAgIHJldHVybiB0YWdcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBvYmplY3QgYXQgYSBnaXZlbiBrZXkuIElmIHRoZSBrZXkgcG9pbnRzIHRvIGFuIGFycmF5LFxuICAgKiB0aGVuIHRoZSBpdGVtIGlzIGp1c3QgcmVtb3ZlZCBmcm9tIHRoZSBhcnJheS5cbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2JqIC0gb2JqZWN0IG9uIHdoaWNoIHRvIHJlbW92ZSB0aGUgcHJvcGVydHlcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0ga2V5IC0gcHJvcGVydHkgbmFtZVxuICAgKiBAcGFyYW0geyBPYmplY3QgfSB2YWx1ZSAtIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgdG8gYmUgcmVtb3ZlZFxuICAgKiBAcGFyYW0geyBCb29sZWFuIH0gZW5zdXJlQXJyYXkgLSBlbnN1cmUgdGhhdCB0aGUgcHJvcGVydHkgcmVtYWlucyBhbiBhcnJheVxuICAqL1xuICBmdW5jdGlvbiBhcnJheWlzaFJlbW92ZShvYmosIGtleSwgdmFsdWUsIGVuc3VyZUFycmF5KSB7XG4gICAgaWYgKGlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICB2YXIgaW5kZXggPSBvYmpba2V5XS5pbmRleE9mKHZhbHVlKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsgb2JqW2tleV0uc3BsaWNlKGluZGV4LCAxKTsgfVxuICAgICAgaWYgKCFvYmpba2V5XS5sZW5ndGgpIHsgZGVsZXRlIG9ialtrZXldOyB9XG4gICAgICBlbHNlIGlmIChvYmpba2V5XS5sZW5ndGggPT09IDEgJiYgIWVuc3VyZUFycmF5KSB7IG9ialtrZXldID0gb2JqW2tleV1bMF07IH1cbiAgICB9IGVsc2UgaWYgKG9ialtrZXldID09PSB2YWx1ZSlcbiAgICAgIHsgZGVsZXRlIG9ialtrZXldOyB9IC8vIG90aGVyd2lzZSBqdXN0IGRlbGV0ZSB0aGUga2V5XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZWxlbWVudHMgZm9yIGEgdmlydHVhbCB0YWdcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IE5vZGUgfSBzcmMgLSB0aGUgbm9kZSB0aGF0IHdpbGwgZG8gdGhlIGluc2VydGluZyBvciBhcHBlbmRpbmdcbiAgICogQHBhcmFtIHsgVGFnIH0gdGFyZ2V0IC0gb25seSBpZiBpbnNlcnRpbmcsIGluc2VydCBiZWZvcmUgdGhpcyB0YWcncyBmaXJzdCBjaGlsZFxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZVZpcnR1YWwoc3JjLCB0YXJnZXQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBoZWFkID0gY3JlYXRlRE9NUGxhY2Vob2xkZXIoKTtcbiAgICB2YXIgdGFpbCA9IGNyZWF0ZURPTVBsYWNlaG9sZGVyKCk7XG4gICAgdmFyIGZyYWcgPSBjcmVhdGVGcmFnbWVudCgpO1xuICAgIHZhciBzaWI7XG4gICAgdmFyIGVsO1xuXG4gICAgdGhpcy5yb290Lmluc2VydEJlZm9yZShoZWFkLCB0aGlzLnJvb3QuZmlyc3RDaGlsZCk7XG4gICAgdGhpcy5yb290LmFwcGVuZENoaWxkKHRhaWwpO1xuXG4gICAgdGhpcy5fXy5oZWFkID0gZWwgPSBoZWFkO1xuICAgIHRoaXMuX18udGFpbCA9IHRhaWw7XG5cbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgIHNpYiA9IGVsLm5leHRTaWJsaW5nO1xuICAgICAgZnJhZy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICB0aGlzJDEuX18udmlydHMucHVzaChlbCk7IC8vIGhvbGQgZm9yIHVubW91bnRpbmdcbiAgICAgIGVsID0gc2liO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXQpXG4gICAgICB7IHNyYy5pbnNlcnRCZWZvcmUoZnJhZywgdGFyZ2V0Ll9fLmhlYWQpOyB9XG4gICAgZWxzZVxuICAgICAgeyBzcmMuYXBwZW5kQ2hpbGQoZnJhZyk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBtYWtlcyBhIHRhZyB2aXJ0dWFsIGFuZCByZXBsYWNlcyBhIHJlZmVyZW5jZSBpbiB0aGUgZG9tXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyB0YWcgfSB0aGUgdGFnIHRvIG1ha2UgdmlydHVhbFxuICAgKiBAcGFyYW0geyByZWYgfSB0aGUgZG9tIHJlZmVyZW5jZSBsb2NhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZVJlcGxhY2VWaXJ0dWFsKHRhZywgcmVmKSB7XG4gICAgaWYgKCFyZWYucGFyZW50Tm9kZSkgeyByZXR1cm4gfVxuICAgIHZhciBmcmFnID0gY3JlYXRlRnJhZ21lbnQoKTtcbiAgICBtYWtlVmlydHVhbC5jYWxsKHRhZywgZnJhZyk7XG4gICAgcmVmLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGZyYWcsIHJlZik7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGR5bmFtaWNhbGx5IGNyZWF0ZWQgZGF0YS1pcyB0YWdzIHdpdGggY2hhbmdpbmcgZXhwcmVzc2lvbnNcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gZXhwciAtIGV4cHJlc3Npb24gdGFnIGFuZCBleHByZXNzaW9uIGluZm9cbiAgICogQHBhcmFtIHsgVGFnIH0gICAgcGFyZW50IC0gcGFyZW50IGZvciB0YWcgY3JlYXRpb25cbiAgICogQHBhcmFtIHsgU3RyaW5nIH0gdGFnTmFtZSAtIHRhZyBpbXBsZW1lbnRhdGlvbiB3ZSB3YW50IHRvIHVzZVxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlRGF0YUlzKGV4cHIsIHBhcmVudCwgdGFnTmFtZSkge1xuICAgIHZhciB0YWcgPSBleHByLnRhZyB8fCBleHByLmRvbS5fdGFnO1xuICAgIHZhciByZWY7XG5cbiAgICB2YXIgcmVmJDEgPSB0YWcgPyB0YWcuX18gOiB7fTtcbiAgICB2YXIgaGVhZCA9IHJlZiQxLmhlYWQ7XG4gICAgdmFyIGlzVmlydHVhbCA9IGV4cHIuZG9tLnRhZ05hbWUgPT09ICdWSVJUVUFMJztcblxuICAgIGlmICh0YWcgJiYgZXhwci50YWdOYW1lID09PSB0YWdOYW1lKSB7XG4gICAgICB0YWcudXBkYXRlKCk7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBzeW5jIF9wYXJlbnQgdG8gYWNjb21tb2RhdGUgY2hhbmdpbmcgdGFnbmFtZXNcbiAgICBpZiAodGFnKSB7XG4gICAgICAvLyBuZWVkIHBsYWNlaG9sZGVyIGJlZm9yZSB1bm1vdW50XG4gICAgICBpZihpc1ZpcnR1YWwpIHtcbiAgICAgICAgcmVmID0gY3JlYXRlRE9NUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgaGVhZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZWYsIGhlYWQpO1xuICAgICAgfVxuXG4gICAgICB0YWcudW5tb3VudCh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyB1bmFibGUgdG8gZ2V0IHRoZSB0YWcgbmFtZVxuICAgIGlmICghaXNTdHJpbmcodGFnTmFtZSkpIHsgcmV0dXJuIH1cblxuICAgIGV4cHIuaW1wbCA9IF9fVEFHX0lNUExbdGFnTmFtZV07XG5cbiAgICAvLyB1bmtub3duIGltcGxlbWVudGF0aW9uXG4gICAgaWYgKCFleHByLmltcGwpIHsgcmV0dXJuIH1cblxuICAgIGV4cHIudGFnID0gdGFnID0gaW5pdENoaWxkKFxuICAgICAgZXhwci5pbXBsLCB7XG4gICAgICAgIHJvb3Q6IGV4cHIuZG9tLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgdGFnTmFtZTogdGFnTmFtZVxuICAgICAgfSxcbiAgICAgIGV4cHIuZG9tLmlubmVySFRNTCxcbiAgICAgIHBhcmVudFxuICAgICk7XG5cbiAgICBlYWNoKGV4cHIuYXR0cnMsIGZ1bmN0aW9uIChhKSB7IHJldHVybiBzZXRBdHRyaWJ1dGUodGFnLnJvb3QsIGEubmFtZSwgYS52YWx1ZSk7IH0pO1xuICAgIGV4cHIudGFnTmFtZSA9IHRhZ05hbWU7XG4gICAgdGFnLm1vdW50KCk7XG5cbiAgICAvLyByb290IGV4aXN0IGZpcnN0IHRpbWUsIGFmdGVyIHVzZSBwbGFjZWhvbGRlclxuICAgIGlmIChpc1ZpcnR1YWwpIHsgbWFrZVJlcGxhY2VWaXJ0dWFsKHRhZywgcmVmIHx8IHRhZy5yb290KTsgfVxuXG4gICAgLy8gcGFyZW50IGlzIHRoZSBwbGFjZWhvbGRlciB0YWcsIG5vdCB0aGUgZHluYW1pYyB0YWcgc28gY2xlYW4gdXBcbiAgICBwYXJlbnQuX18ub25Vbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlbE5hbWUgPSB0YWcub3B0cy5kYXRhSXM7XG4gICAgICBhcnJheWlzaFJlbW92ZSh0YWcucGFyZW50LnRhZ3MsIGRlbE5hbWUsIHRhZyk7XG4gICAgICBhcnJheWlzaFJlbW92ZSh0YWcuX18ucGFyZW50LnRhZ3MsIGRlbE5hbWUsIHRhZyk7XG4gICAgICB0YWcudW5tb3VudCgpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTm9tYWxpemUgYW55IGF0dHJpYnV0ZSByZW1vdmluZyB0aGUgXCJyaW90LVwiIHByZWZpeFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGF0dHJOYW1lIC0gb3JpZ2luYWwgYXR0cmlidXRlIG5hbWVcbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSB2YWxpZCBodG1sIGF0dHJpYnV0ZSBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBub3JtYWxpemVBdHRyTmFtZShhdHRyTmFtZSkge1xuICAgIGlmICghYXR0ck5hbWUpIHsgcmV0dXJuIG51bGwgfVxuICAgIGF0dHJOYW1lID0gYXR0ck5hbWUucmVwbGFjZShBVFRSU19QUkVGSVgsICcnKTtcbiAgICBpZiAoQ0FTRV9TRU5TSVRJVkVfQVRUUklCVVRFU1thdHRyTmFtZV0pIHsgYXR0ck5hbWUgPSBDQVNFX1NFTlNJVElWRV9BVFRSSUJVVEVTW2F0dHJOYW1lXTsgfVxuICAgIHJldHVybiBhdHRyTmFtZVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBvbiBzaW5nbGUgdGFnIGV4cHJlc3Npb25cbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGV4cHIgLSBleHByZXNzaW9uIGxvZ2ljXG4gICAqIEByZXR1cm5zIHsgdW5kZWZpbmVkIH1cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUV4cHJlc3Npb24oZXhwcikge1xuICAgIGlmICh0aGlzLnJvb3QgJiYgZ2V0QXR0cmlidXRlKHRoaXMucm9vdCwndmlydHVhbGl6ZWQnKSkgeyByZXR1cm4gfVxuXG4gICAgdmFyIGRvbSA9IGV4cHIuZG9tO1xuICAgIC8vIHJlbW92ZSB0aGUgcmlvdC0gcHJlZml4XG4gICAgdmFyIGF0dHJOYW1lID0gbm9ybWFsaXplQXR0ck5hbWUoZXhwci5hdHRyKTtcbiAgICB2YXIgaXNUb2dnbGUgPSBjb250YWlucyhbU0hPV19ESVJFQ1RJVkUsIEhJREVfRElSRUNUSVZFXSwgYXR0ck5hbWUpO1xuICAgIHZhciBpc1ZpcnR1YWwgPSBleHByLnJvb3QgJiYgZXhwci5yb290LnRhZ05hbWUgPT09ICdWSVJUVUFMJztcbiAgICB2YXIgcmVmID0gdGhpcy5fXztcbiAgICB2YXIgaXNBbm9ueW1vdXMgPSByZWYuaXNBbm9ueW1vdXM7XG4gICAgdmFyIHBhcmVudCA9IGRvbSAmJiAoZXhwci5wYXJlbnQgfHwgZG9tLnBhcmVudE5vZGUpO1xuICAgIHZhciBrZWVwVmFsdWVBdHRyaWJ1dGVzID0gc2V0dGluZ3Mua2VlcFZhbHVlQXR0cmlidXRlcztcbiAgICAvLyBkZXRlY3QgdGhlIHN0eWxlIGF0dHJpYnV0ZXNcbiAgICB2YXIgaXNTdHlsZUF0dHIgPSBhdHRyTmFtZSA9PT0gJ3N0eWxlJztcbiAgICB2YXIgaXNDbGFzc0F0dHIgPSBhdHRyTmFtZSA9PT0gJ2NsYXNzJztcbiAgICB2YXIgaXNWYWx1ZUF0dHIgPSBhdHRyTmFtZSA9PT0gJ3ZhbHVlJztcblxuICAgIHZhciB2YWx1ZTtcblxuICAgIC8vIGlmIGl0J3MgYSB0YWcgd2UgY291bGQgdG90YWxseSBza2lwIHRoZSByZXN0XG4gICAgaWYgKGV4cHIuX3Jpb3RfaWQpIHtcbiAgICAgIGlmIChleHByLl9fLndhc0NyZWF0ZWQpIHtcbiAgICAgICAgZXhwci51cGRhdGUoKTtcbiAgICAgIC8vIGlmIGl0IGhhc24ndCBiZWVuIG1vdW50ZWQgeWV0LCBkbyB0aGF0IG5vdy5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cHIubW91bnQoKTtcbiAgICAgICAgaWYgKGlzVmlydHVhbCkge1xuICAgICAgICAgIG1ha2VSZXBsYWNlVmlydHVhbChleHByLCBleHByLnJvb3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBpZiB0aGlzIGV4cHJlc3Npb24gaGFzIHRoZSB1cGRhdGUgbWV0aG9kIGl0IG1lYW5zIGl0IGNhbiBoYW5kbGUgdGhlIERPTSBjaGFuZ2VzIGJ5IGl0c2VsZlxuICAgIGlmIChleHByLnVwZGF0ZSkgeyByZXR1cm4gZXhwci51cGRhdGUoKSB9XG5cbiAgICB2YXIgY29udGV4dCA9IGlzVG9nZ2xlICYmICFpc0Fub255bW91cyA/IGluaGVyaXRQYXJlbnRQcm9wcy5jYWxsKHRoaXMpIDogdGhpcztcblxuICAgIC8vIC4uLml0IHNlZW1zIHRvIGJlIGEgc2ltcGxlIGV4cHJlc3Npb24gc28gd2UgdHJ5IHRvIGNhbGN1bGF0ZSBpdHMgdmFsdWVcbiAgICB2YWx1ZSA9IHRtcGwoZXhwci5leHByLCBjb250ZXh0KTtcblxuICAgIHZhciBoYXNWYWx1ZSA9ICFpc0JsYW5rKHZhbHVlKTtcbiAgICB2YXIgaXNPYmogPSBpc09iamVjdCh2YWx1ZSk7XG5cbiAgICAvLyBjb252ZXJ0IHRoZSBzdHlsZS9jbGFzcyBvYmplY3RzIHRvIHN0cmluZ3NcbiAgICBpZiAoaXNPYmopIHtcbiAgICAgIGlmIChpc0NsYXNzQXR0cikge1xuICAgICAgICB2YWx1ZSA9IHRtcGwoSlNPTi5zdHJpbmdpZnkodmFsdWUpLCB0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHlsZUF0dHIpIHtcbiAgICAgICAgdmFsdWUgPSBzdHlsZU9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZW1vdmUgb3JpZ2luYWwgYXR0cmlidXRlXG4gICAgaWYgKGV4cHIuYXR0ciAmJlxuICAgICAgICAoXG4gICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIGF0dHJpYnV0ZSBjYW4gYmUgcmVtb3ZlZCBvbmx5IGlmIHdlIGFyZSBwYXJzaW5nIHRoZSBvcmlnaW5hbCBleHByZXNzaW9uXG4gICAgICAgICAgIWV4cHIud2FzUGFyc2VkT25jZSB8fFxuICAgICAgICAgIC8vIG9yIGl0cyB2YWx1ZSBpcyBmYWxzZVxuICAgICAgICAgIHZhbHVlID09PSBmYWxzZSB8fFxuICAgICAgICAgIC8vIG9yIGlmIGl0cyB2YWx1ZSBpcyBjdXJyZW50bHkgZmFsc3kuLi5cbiAgICAgICAgICAvLyBXZSB3aWxsIGtlZXAgdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGVzIGlmIHRoZSBcImtlZXBWYWx1ZUF0dHJpYnV0ZXNcIlxuICAgICAgICAgIC8vIGlzIGVuYWJsZWQgdGhvdWdoXG4gICAgICAgICAgKCFoYXNWYWx1ZSAmJiAoIWlzVmFsdWVBdHRyIHx8IGlzVmFsdWVBdHRyICYmICFrZWVwVmFsdWVBdHRyaWJ1dGVzKSlcbiAgICAgICAgKVxuICAgICkge1xuICAgICAgLy8gcmVtb3ZlIGVpdGhlciByaW90LSogYXR0cmlidXRlcyBvciBqdXN0IHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgcmVtb3ZlQXR0cmlidXRlKGRvbSwgZ2V0QXR0cmlidXRlKGRvbSwgZXhwci5hdHRyKSA/IGV4cHIuYXR0ciA6IGF0dHJOYW1lKTtcbiAgICB9XG5cbiAgICAvLyBmb3IgdGhlIGJvb2xlYW4gYXR0cmlidXRlcyB3ZSBkb24ndCBuZWVkIHRoZSB2YWx1ZVxuICAgIC8vIHdlIGNhbiBjb252ZXJ0IGl0IHRvIGNoZWNrZWQ9dHJ1ZSB0byBjaGVja2VkPWNoZWNrZWRcbiAgICBpZiAoZXhwci5ib29sKSB7IHZhbHVlID0gdmFsdWUgPyBhdHRyTmFtZSA6IGZhbHNlOyB9XG4gICAgaWYgKGV4cHIuaXNSdGFnKSB7IHJldHVybiB1cGRhdGVEYXRhSXMoZXhwciwgdGhpcywgdmFsdWUpIH1cbiAgICBpZiAoZXhwci53YXNQYXJzZWRPbmNlICYmIGV4cHIudmFsdWUgPT09IHZhbHVlKSB7IHJldHVybiB9XG5cbiAgICAvLyB1cGRhdGUgdGhlIGV4cHJlc3Npb24gdmFsdWVcbiAgICBleHByLnZhbHVlID0gdmFsdWU7XG4gICAgZXhwci53YXNQYXJzZWRPbmNlID0gdHJ1ZTtcblxuICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBhbiBvYmplY3QgKGFuZCBpdCdzIG5vdCBhIHN0eWxlIG9yIGNsYXNzIGF0dHJpYnV0ZSkgd2UgY2FuIG5vdCBkbyBtdWNoIG1vcmUgd2l0aCBpdFxuICAgIGlmIChpc09iaiAmJiAhaXNDbGFzc0F0dHIgJiYgIWlzU3R5bGVBdHRyICYmICFpc1RvZ2dsZSkgeyByZXR1cm4gfVxuICAgIC8vIGF2b2lkIHRvIHJlbmRlciB1bmRlZmluZWQvbnVsbCB2YWx1ZXNcbiAgICBpZiAoIWhhc1ZhbHVlKSB7IHZhbHVlID0gJyc7IH1cblxuICAgIC8vIHRleHRhcmVhIGFuZCB0ZXh0IG5vZGVzIGhhdmUgbm8gYXR0cmlidXRlIG5hbWVcbiAgICBpZiAoIWF0dHJOYW1lKSB7XG4gICAgICAvLyBhYm91dCAjODE1IHcvbyByZXBsYWNlOiB0aGUgYnJvd3NlciBjb252ZXJ0cyB0aGUgdmFsdWUgdG8gYSBzdHJpbmcsXG4gICAgICAvLyB0aGUgY29tcGFyaXNvbiBieSBcIj09XCIgZG9lcyB0b28sIGJ1dCBub3QgaW4gdGhlIHNlcnZlclxuICAgICAgdmFsdWUgKz0gJyc7XG4gICAgICAvLyB0ZXN0IGZvciBwYXJlbnQgYXZvaWRzIGVycm9yIHdpdGggaW52YWxpZCBhc3NpZ25tZW50IHRvIG5vZGVWYWx1ZVxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBjYWNoZSB0aGUgcGFyZW50IG5vZGUgYmVjYXVzZSBzb21laG93IGl0IHdpbGwgYmVjb21lIG51bGwgb24gSUVcbiAgICAgICAgLy8gb24gdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgIGV4cHIucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBpZiAocGFyZW50LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICBwYXJlbnQudmFsdWUgPSB2YWx1ZTsgICAgICAgICAgICAgICAgICAgIC8vICMxMTEzXG4gICAgICAgICAgaWYgKCFJRV9WRVJTSU9OKSB7IGRvbS5ub2RlVmFsdWUgPSB2YWx1ZTsgfSAgLy8gIzE2MjUgSUUgdGhyb3dzIGhlcmUsIG5vZGVWYWx1ZVxuICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIGJlIGF2YWlsYWJsZSBvbiAndXBkYXRlZCdcbiAgICAgICAgZWxzZSB7IGRvbS5ub2RlVmFsdWUgPSB2YWx1ZTsgfVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc3dpdGNoICh0cnVlKSB7XG4gICAgLy8gaGFuZGxlIGV2ZW50cyBiaW5kaW5nXG4gICAgY2FzZSBpc0Z1bmN0aW9uKHZhbHVlKTpcbiAgICAgIGlmIChpc0V2ZW50QXR0cmlidXRlKGF0dHJOYW1lKSkge1xuICAgICAgICBzZXRFdmVudEhhbmRsZXIoYXR0ck5hbWUsIHZhbHVlLCBkb20sIHRoaXMpO1xuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICAvLyBzaG93IC8gaGlkZVxuICAgIGNhc2UgaXNUb2dnbGU6XG4gICAgICB0b2dnbGVWaXNpYmlsaXR5KGRvbSwgYXR0ck5hbWUgPT09IEhJREVfRElSRUNUSVZFID8gIXZhbHVlIDogdmFsdWUpO1xuICAgICAgYnJlYWtcbiAgICAvLyBoYW5kbGUgYXR0cmlidXRlc1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoZXhwci5ib29sKSB7XG4gICAgICAgIGRvbVthdHRyTmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzVmFsdWVBdHRyICYmIGRvbS52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGhhc1ZhbHVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgICBzZXRBdHRyaWJ1dGUoZG9tLCBhdHRyTmFtZSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBtYWtlIHN1cmUgdGhhdCBpbiBjYXNlIG9mIHN0eWxlIGNoYW5nZXNcbiAgICAgIC8vIHRoZSBlbGVtZW50IHN0YXlzIGhpZGRlblxuICAgICAgaWYgKGlzU3R5bGVBdHRyICYmIGRvbS5oaWRkZW4pIHsgdG9nZ2xlVmlzaWJpbGl0eShkb20sIGZhbHNlKTsgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWxsIHRoZSBleHByZXNzaW9ucyBpbiBhIFRhZyBpbnN0YW5jZVxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgQXJyYXkgfSBleHByZXNzaW9ucyAtIGV4cHJlc3Npb24gdGhhdCBtdXN0IGJlIHJlIGV2YWx1YXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlKGV4cHJlc3Npb25zKSB7XG4gICAgZWFjaChleHByZXNzaW9ucywgdXBkYXRlRXhwcmVzc2lvbi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXZSBuZWVkIHRvIHVwZGF0ZSBvcHRzIGZvciB0aGlzIHRhZy4gVGhhdCByZXF1aXJlcyB1cGRhdGluZyB0aGUgZXhwcmVzc2lvbnNcbiAgICogaW4gYW55IGF0dHJpYnV0ZXMgb24gdGhlIHRhZywgYW5kIHRoZW4gY29weWluZyB0aGUgcmVzdWx0IG9udG8gb3B0cy5cbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHtCb29sZWFufSBpc0xvb3AgLSBpcyBpdCBhIGxvb3AgdGFnP1xuICAgKiBAcGFyYW0gICB7IFRhZyB9ICBwYXJlbnQgLSBwYXJlbnQgdGFnIG5vZGVcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gIGlzQW5vbnltb3VzIC0gaXMgaXQgYSB0YWcgd2l0aG91dCBhbnkgaW1wbD8gKGEgdGFnIG5vdCByZWdpc3RlcmVkKVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICBvcHRzIC0gdGFnIG9wdGlvbnNcbiAgICogQHBhcmFtICAgeyBBcnJheSB9ICBpbnN0QXR0cnMgLSB0YWcgYXR0cmlidXRlcyBhcnJheVxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlT3B0cyhpc0xvb3AsIHBhcmVudCwgaXNBbm9ueW1vdXMsIG9wdHMsIGluc3RBdHRycykge1xuICAgIC8vIGlzQW5vbnltb3VzIGBlYWNoYCB0YWdzIHRyZWF0IGBkb21gIGFuZCBgcm9vdGAgZGlmZmVyZW50bHkuIEluIHRoaXMgY2FzZVxuICAgIC8vIChhbmQgb25seSB0aGlzIGNhc2UpIHdlIGRvbid0IG5lZWQgdG8gZG8gdXBkYXRlT3B0cywgYmVjYXVzZSB0aGUgcmVndWxhciBwYXJzZVxuICAgIC8vIHdpbGwgdXBkYXRlIHRob3NlIGF0dHJzLiBQbHVzLCBpc0Fub255bW91cyB0YWdzIGRvbid0IG5lZWQgb3B0cyBhbnl3YXlcbiAgICBpZiAoaXNMb29wICYmIGlzQW5vbnltb3VzKSB7IHJldHVybiB9XG4gICAgdmFyIGN0eCA9IGlzTG9vcCA/IGluaGVyaXRQYXJlbnRQcm9wcy5jYWxsKHRoaXMpIDogcGFyZW50IHx8IHRoaXM7XG5cbiAgICBlYWNoKGluc3RBdHRycywgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLmV4cHIpIHsgdXBkYXRlRXhwcmVzc2lvbi5jYWxsKGN0eCwgYXR0ci5leHByKTsgfVxuICAgICAgLy8gbm9ybWFsaXplIHRoZSBhdHRyaWJ1dGUgbmFtZXNcbiAgICAgIG9wdHNbdG9DYW1lbChhdHRyLm5hbWUpLnJlcGxhY2UoQVRUUlNfUFJFRklYLCAnJyldID0gYXR0ci5leHByID8gYXR0ci5leHByLnZhbHVlIDogYXR0ci52YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHRhZyBleHByZXNzaW9ucyBhbmQgb3B0aW9uc1xuICAgKiBAcGFyYW0geyBUYWcgfSB0YWcgLSB0YWcgb2JqZWN0XG4gICAqIEBwYXJhbSB7ICogfSBkYXRhIC0gZGF0YSB3ZSB3YW50IHRvIHVzZSB0byBleHRlbmQgdGhlIHRhZyBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7IEFycmF5IH0gZXhwcmVzc2lvbnMgLSBjb21wb25lbnQgZXhwcmVzc2lvbnMgYXJyYXlcbiAgICogQHJldHVybnMgeyBUYWcgfSB0aGUgY3VycmVudCB0YWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBvbmVudFVwZGF0ZSh0YWcsIGRhdGEsIGV4cHJlc3Npb25zKSB7XG4gICAgdmFyIF9fID0gdGFnLl9fO1xuICAgIHZhciBuZXh0T3B0cyA9IHt9O1xuICAgIHZhciBjYW5UcmlnZ2VyID0gdGFnLmlzTW91bnRlZCAmJiAhX18uc2tpcEFub255bW91cztcblxuICAgIC8vIGluaGVyaXQgcHJvcGVydGllcyBmcm9tIHRoZSBwYXJlbnQgdGFnXG4gICAgaWYgKF9fLmlzQW5vbnltb3VzICYmIF9fLnBhcmVudCkgeyBleHRlbmQodGFnLCBfXy5wYXJlbnQpOyB9XG4gICAgZXh0ZW5kKHRhZywgZGF0YSk7XG5cbiAgICB1cGRhdGVPcHRzLmFwcGx5KHRhZywgW19fLmlzTG9vcCwgX18ucGFyZW50LCBfXy5pc0Fub255bW91cywgbmV4dE9wdHMsIF9fLmluc3RBdHRyc10pO1xuXG4gICAgaWYgKFxuICAgICAgY2FuVHJpZ2dlciAmJlxuICAgICAgdGFnLmlzTW91bnRlZCAmJlxuICAgICAgaXNGdW5jdGlvbih0YWcuc2hvdWxkVXBkYXRlKSAmJiAhdGFnLnNob3VsZFVwZGF0ZShkYXRhLCBuZXh0T3B0cylcbiAgICApIHtcbiAgICAgIHJldHVybiB0YWdcbiAgICB9XG5cbiAgICBleHRlbmQodGFnLm9wdHMsIG5leHRPcHRzKTtcblxuICAgIGlmIChjYW5UcmlnZ2VyKSB7IHRhZy50cmlnZ2VyKCd1cGRhdGUnLCBkYXRhKTsgfVxuICAgIHVwZGF0ZS5jYWxsKHRhZywgZXhwcmVzc2lvbnMpO1xuICAgIGlmIChjYW5UcmlnZ2VyKSB7IHRhZy50cmlnZ2VyKCd1cGRhdGVkJyk7IH1cblxuICAgIHJldHVybiB0YWdcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc2VsZWN0b3JzIGZvciB0YWdzXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSB0YWdzIC0gdGFnIG5hbWVzIHRvIHNlbGVjdFxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IHNlbGVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBxdWVyeSh0YWdzKSB7XG4gICAgLy8gc2VsZWN0IGFsbCB0YWdzXG4gICAgaWYgKCF0YWdzKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKF9fVEFHX0lNUEwpO1xuICAgICAgcmV0dXJuIGtleXMgKyBxdWVyeShrZXlzKVxuICAgIH1cblxuICAgIHJldHVybiB0YWdzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiAhL1teLVxcd10vLnRlc3QodCk7IH0pXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uIChsaXN0LCB0KSB7XG4gICAgICAgIHZhciBuYW1lID0gdC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIGxpc3QgKyBcIixbXCIgKyBJU19ESVJFQ1RJVkUgKyBcIj1cXFwiXCIgKyBuYW1lICsgXCJcXFwiXVwiXG4gICAgICB9LCAnJylcbiAgfVxuXG4gIC8qKlxuICAgKiBBbm90aGVyIHdheSB0byBjcmVhdGUgYSByaW90IHRhZyBhIGJpdCBtb3JlIGVzNiBmcmllbmRseVxuICAgKiBAcGFyYW0geyBIVE1MRWxlbWVudCB9IGVsIC0gdGFnIERPTSBzZWxlY3RvciBvciBET00gbm9kZS9zXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IG9wdHMgLSB0YWcgbG9naWNcbiAgICogQHJldHVybnMgeyBUYWcgfSBuZXcgcmlvdCB0YWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIFRhZyhlbCwgb3B0cykge1xuICAgIC8vIGdldCB0aGUgdGFnIHByb3BlcnRpZXMgZnJvbSB0aGUgY2xhc3MgY29uc3RydWN0b3JcbiAgICB2YXIgcmVmID0gdGhpcztcbiAgICB2YXIgbmFtZSA9IHJlZi5uYW1lO1xuICAgIHZhciB0bXBsID0gcmVmLnRtcGw7XG4gICAgdmFyIGNzcyA9IHJlZi5jc3M7XG4gICAgdmFyIGF0dHJzID0gcmVmLmF0dHJzO1xuICAgIHZhciBvbkNyZWF0ZSA9IHJlZi5vbkNyZWF0ZTtcbiAgICAvLyByZWdpc3RlciBhIG5ldyB0YWcgYW5kIGNhY2hlIHRoZSBjbGFzcyBwcm90b3R5cGVcbiAgICBpZiAoIV9fVEFHX0lNUExbbmFtZV0pIHtcbiAgICAgIHRhZyhuYW1lLCB0bXBsLCBjc3MsIGF0dHJzLCBvbkNyZWF0ZSk7XG4gICAgICAvLyBjYWNoZSB0aGUgY2xhc3MgY29uc3RydWN0b3JcbiAgICAgIF9fVEFHX0lNUExbbmFtZV0uY2xhc3MgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgIH1cblxuICAgIC8vIG1vdW50IHRoZSB0YWcgdXNpbmcgdGhlIGNsYXNzIGluc3RhbmNlXG4gICAgbW91bnQkMShlbCwgbmFtZSwgb3B0cywgdGhpcyk7XG4gICAgLy8gaW5qZWN0IHRoZSBjb21wb25lbnQgY3NzXG4gICAgaWYgKGNzcykgeyBzdHlsZU1hbmFnZXIuaW5qZWN0KCk7IH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHJpb3QgdGFnIGltcGxlbWVudGF0aW9uXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBuYW1lIC0gbmFtZS9pZCBvZiB0aGUgbmV3IHJpb3QgdGFnXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICB0bXBsIC0gdGFnIHRlbXBsYXRlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBjc3MgLSBjdXN0b20gdGFnIGNzc1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgYXR0cnMgLSByb290IHRhZyBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIHVzZXIgZnVuY3Rpb25cbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSBuYW1lL2lkIG9mIHRoZSB0YWcganVzdCBjcmVhdGVkXG4gICAqL1xuICBmdW5jdGlvbiB0YWcobmFtZSwgdG1wbCwgY3NzLCBhdHRycywgZm4pIHtcbiAgICBpZiAoaXNGdW5jdGlvbihhdHRycykpIHtcbiAgICAgIGZuID0gYXR0cnM7XG5cbiAgICAgIGlmICgvXltcXHctXStcXHM/PS8udGVzdChjc3MpKSB7XG4gICAgICAgIGF0dHJzID0gY3NzO1xuICAgICAgICBjc3MgPSAnJztcbiAgICAgIH0gZWxzZVxuICAgICAgICB7IGF0dHJzID0gJyc7IH1cbiAgICB9XG5cbiAgICBpZiAoY3NzKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihjc3MpKVxuICAgICAgICB7IGZuID0gY3NzOyB9XG4gICAgICBlbHNlXG4gICAgICAgIHsgc3R5bGVNYW5hZ2VyLmFkZChjc3MsIG5hbWUpOyB9XG4gICAgfVxuXG4gICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBfX1RBR19JTVBMW25hbWVdID0geyBuYW1lOiBuYW1lLCB0bXBsOiB0bXBsLCBhdHRyczogYXR0cnMsIGZuOiBmbiB9O1xuXG4gICAgcmV0dXJuIG5hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcmlvdCB0YWcgaW1wbGVtZW50YXRpb24gKGZvciB1c2UgYnkgdGhlIGNvbXBpbGVyKVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgbmFtZSAtIG5hbWUvaWQgb2YgdGhlIG5ldyByaW90IHRhZ1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgdG1wbCAtIHRhZyB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgY3NzIC0gY3VzdG9tIHRhZyBjc3NcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIGF0dHJzIC0gcm9vdCB0YWcgYXR0cmlidXRlc1xuICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSB1c2VyIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gbmFtZS9pZCBvZiB0aGUgdGFnIGp1c3QgY3JlYXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gdGFnMihuYW1lLCB0bXBsLCBjc3MsIGF0dHJzLCBmbikge1xuICAgIGlmIChjc3MpIHsgc3R5bGVNYW5hZ2VyLmFkZChjc3MsIG5hbWUpOyB9XG5cbiAgICBfX1RBR19JTVBMW25hbWVdID0geyBuYW1lOiBuYW1lLCB0bXBsOiB0bXBsLCBhdHRyczogYXR0cnMsIGZuOiBmbiB9O1xuXG4gICAgcmV0dXJuIG5hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3VudCBhIHRhZyB1c2luZyBhIHNwZWNpZmljIHRhZyBpbXBsZW1lbnRhdGlvblxuICAgKiBAcGFyYW0gICB7ICogfSBzZWxlY3RvciAtIHRhZyBET00gc2VsZWN0b3Igb3IgRE9NIG5vZGUvc1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHRhZ05hbWUgLSB0YWcgaW1wbGVtZW50YXRpb24gbmFtZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IG9wdHMgLSB0YWcgbG9naWNcbiAgICogQHJldHVybnMgeyBBcnJheSB9IG5ldyB0YWdzIGluc3RhbmNlc1xuICAgKi9cbiAgZnVuY3Rpb24gbW91bnQoc2VsZWN0b3IsIHRhZ05hbWUsIG9wdHMpIHtcbiAgICB2YXIgdGFncyA9IFtdO1xuICAgIHZhciBlbGVtLCBhbGxUYWdzO1xuXG4gICAgZnVuY3Rpb24gcHVzaFRhZ3NUbyhyb290KSB7XG4gICAgICBpZiAocm9vdC50YWdOYW1lKSB7XG4gICAgICAgIHZhciByaW90VGFnID0gZ2V0QXR0cmlidXRlKHJvb3QsIElTX0RJUkVDVElWRSksIHRhZztcblxuICAgICAgICAvLyBoYXZlIHRhZ05hbWU/IGZvcmNlIHJpb3QtdGFnIHRvIGJlIHRoZSBzYW1lXG4gICAgICAgIGlmICh0YWdOYW1lICYmIHJpb3RUYWcgIT09IHRhZ05hbWUpIHtcbiAgICAgICAgICByaW90VGFnID0gdGFnTmFtZTtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUocm9vdCwgSVNfRElSRUNUSVZFLCB0YWdOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhZyA9IG1vdW50JDEoXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICByaW90VGFnIHx8IHJvb3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIGlzRnVuY3Rpb24ob3B0cykgPyBvcHRzKCkgOiBvcHRzXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHRhZylcbiAgICAgICAgICB7IHRhZ3MucHVzaCh0YWcpOyB9XG4gICAgICB9IGVsc2UgaWYgKHJvb3QubGVuZ3RoKVxuICAgICAgICB7IGVhY2gocm9vdCwgcHVzaFRhZ3NUbyk7IH0gLy8gYXNzdW1lIG5vZGVMaXN0XG4gICAgfVxuXG4gICAgLy8gaW5qZWN0IHN0eWxlcyBpbnRvIERPTVxuICAgIHN0eWxlTWFuYWdlci5pbmplY3QoKTtcblxuICAgIGlmIChpc09iamVjdCh0YWdOYW1lKSB8fCBpc0Z1bmN0aW9uKHRhZ05hbWUpKSB7XG4gICAgICBvcHRzID0gdGFnTmFtZTtcbiAgICAgIHRhZ05hbWUgPSAwO1xuICAgIH1cblxuICAgIC8vIGNyYXdsIHRoZSBET00gdG8gZmluZCB0aGUgdGFnXG4gICAgaWYgKGlzU3RyaW5nKHNlbGVjdG9yKSkge1xuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciA9PT0gJyonID9cbiAgICAgICAgLy8gc2VsZWN0IGFsbCByZWdpc3RlcmVkIHRhZ3NcbiAgICAgICAgLy8gJiB0YWdzIGZvdW5kIHdpdGggdGhlIHJpb3QtdGFnIGF0dHJpYnV0ZSBzZXRcbiAgICAgICAgYWxsVGFncyA9IHF1ZXJ5KCkgOlxuICAgICAgICAvLyBvciBqdXN0IHRoZSBvbmVzIG5hbWVkIGxpa2UgdGhlIHNlbGVjdG9yXG4gICAgICAgIHNlbGVjdG9yICsgcXVlcnkoc2VsZWN0b3Iuc3BsaXQoLywgKi8pKTtcblxuICAgICAgLy8gbWFrZSBzdXJlIHRvIHBhc3MgYWx3YXlzIGEgc2VsZWN0b3JcbiAgICAgIC8vIHRvIHRoZSBxdWVyeVNlbGVjdG9yQWxsIGZ1bmN0aW9uXG4gICAgICBlbGVtID0gc2VsZWN0b3IgPyAkJChzZWxlY3RvcikgOiBbXTtcbiAgICB9XG4gICAgZWxzZVxuICAgICAgLy8gcHJvYmFibHkgeW91IGhhdmUgcGFzc2VkIGFscmVhZHkgYSB0YWcgb3IgYSBOb2RlTGlzdFxuICAgICAgeyBlbGVtID0gc2VsZWN0b3I7IH1cblxuICAgIC8vIHNlbGVjdCBhbGwgdGhlIHJlZ2lzdGVyZWQgYW5kIG1vdW50IHRoZW0gaW5zaWRlIHRoZWlyIHJvb3QgZWxlbWVudHNcbiAgICBpZiAodGFnTmFtZSA9PT0gJyonKSB7XG4gICAgICAvLyBnZXQgYWxsIGN1c3RvbSB0YWdzXG4gICAgICB0YWdOYW1lID0gYWxsVGFncyB8fCBxdWVyeSgpO1xuICAgICAgLy8gaWYgdGhlIHJvb3QgZWxzIGl0J3MganVzdCBhIHNpbmdsZSB0YWdcbiAgICAgIGlmIChlbGVtLnRhZ05hbWUpXG4gICAgICAgIHsgZWxlbSA9ICQkKHRhZ05hbWUsIGVsZW0pOyB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gc2VsZWN0IGFsbCB0aGUgY2hpbGRyZW4gZm9yIGFsbCB0aGUgZGlmZmVyZW50IHJvb3QgZWxlbWVudHNcbiAgICAgICAgdmFyIG5vZGVMaXN0ID0gW107XG5cbiAgICAgICAgZWFjaChlbGVtLCBmdW5jdGlvbiAoX2VsKSB7IHJldHVybiBub2RlTGlzdC5wdXNoKCQkKHRhZ05hbWUsIF9lbCkpOyB9KTtcblxuICAgICAgICBlbGVtID0gbm9kZUxpc3Q7XG4gICAgICB9XG4gICAgICAvLyBnZXQgcmlkIG9mIHRoZSB0YWdOYW1lXG4gICAgICB0YWdOYW1lID0gMDtcbiAgICB9XG5cbiAgICBwdXNoVGFnc1RvKGVsZW0pO1xuXG4gICAgcmV0dXJuIHRhZ3NcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIG1peGluIHRoYXQgY291bGQgYmUgZ2xvYmFsbHkgc2hhcmVkIGFjcm9zcyBhbGwgdGhlIHRhZ3NcbiAgdmFyIG1peGlucyA9IHt9O1xuICB2YXIgZ2xvYmFscyA9IG1peGluc1tHTE9CQUxfTUlYSU5dID0ge307XG4gIHZhciBtaXhpbnNfaWQgPSAwO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUvUmV0dXJuIGEgbWl4aW4gYnkgaXRzIG5hbWVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgbmFtZSAtIG1peGluIG5hbWUgKGdsb2JhbCBtaXhpbiBpZiBvYmplY3QpXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gIG1peCAtIG1peGluIGxvZ2ljXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IGcgLSBpcyBnbG9iYWw/XG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gIHRoZSBtaXhpbiBsb2dpY1xuICAgKi9cbiAgZnVuY3Rpb24gbWl4aW4obmFtZSwgbWl4LCBnKSB7XG4gICAgLy8gVW5uYW1lZCBnbG9iYWxcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgIG1peGluKChcIl9fXCIgKyAobWl4aW5zX2lkKyspICsgXCJfX1wiKSwgbmFtZSwgdHJ1ZSk7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgc3RvcmUgPSBnID8gZ2xvYmFscyA6IG1peGlucztcblxuICAgIC8vIEdldHRlclxuICAgIGlmICghbWl4KSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQoc3RvcmVbbmFtZV0pKVxuICAgICAgICB7IHRocm93IG5ldyBFcnJvcigoXCJVbnJlZ2lzdGVyZWQgbWl4aW46IFwiICsgbmFtZSkpIH1cblxuICAgICAgcmV0dXJuIHN0b3JlW25hbWVdXG4gICAgfVxuXG4gICAgLy8gU2V0dGVyXG4gICAgc3RvcmVbbmFtZV0gPSBpc0Z1bmN0aW9uKG1peCkgP1xuICAgICAgZXh0ZW5kKG1peC5wcm90b3R5cGUsIHN0b3JlW25hbWVdIHx8IHt9KSAmJiBtaXggOlxuICAgICAgZXh0ZW5kKHN0b3JlW25hbWVdIHx8IHt9LCBtaXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwgdGhlIHRhZ3MgaW5zdGFuY2VzIGNyZWF0ZWRcbiAgICogQHJldHVybnMgeyBBcnJheSB9IGFsbCB0aGUgdGFncyBpbnN0YW5jZXNcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZSQxKCkge1xuICAgIHJldHVybiBlYWNoKF9fVEFHU19DQUNIRSwgZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gdGFnLnVwZGF0ZSgpOyB9KVxuICB9XG5cbiAgZnVuY3Rpb24gdW5yZWdpc3RlcihuYW1lKSB7XG4gICAgc3R5bGVNYW5hZ2VyLnJlbW92ZShuYW1lKTtcbiAgICByZXR1cm4gZGVsZXRlIF9fVEFHX0lNUExbbmFtZV1cbiAgfVxuXG4gIHZhciB2ZXJzaW9uID0gJ3YzLjEzLjInO1xuXG4gIHZhciBjb3JlID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIFRhZzogVGFnLFxuICAgIHRhZzogdGFnLFxuICAgIHRhZzI6IHRhZzIsXG4gICAgbW91bnQ6IG1vdW50LFxuICAgIG1peGluOiBtaXhpbixcbiAgICB1cGRhdGU6IHVwZGF0ZSQxLFxuICAgIHVucmVnaXN0ZXI6IHVucmVnaXN0ZXIsXG4gICAgdmVyc2lvbjogdmVyc2lvblxuICB9KTtcblxuICAvKipcbiAgICogQWRkIGEgbWl4aW4gdG8gdGhpcyB0YWdcbiAgICogQHJldHVybnMgeyBUYWcgfSB0aGUgY3VycmVudCB0YWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBvbmVudE1peGluKHRhZyQkMSkge1xuICAgIHZhciBtaXhpbnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBtaXhpbnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICBlYWNoKG1peGlucywgZnVuY3Rpb24gKG1peCkge1xuICAgICAgdmFyIGluc3RhbmNlO1xuICAgICAgdmFyIG9iajtcbiAgICAgIHZhciBwcm9wcyA9IFtdO1xuXG4gICAgICAvLyBwcm9wZXJ0aWVzIGJsYWNrbGlzdGVkIGFuZCB3aWxsIG5vdCBiZSBib3VuZCB0byB0aGUgdGFnIGluc3RhbmNlXG4gICAgICB2YXIgcHJvcHNCbGFja2xpc3QgPSBbJ2luaXQnLCAnX19wcm90b19fJ107XG5cbiAgICAgIG1peCA9IGlzU3RyaW5nKG1peCkgPyBtaXhpbihtaXgpIDogbWl4O1xuXG4gICAgICAvLyBjaGVjayBpZiB0aGUgbWl4aW4gaXMgYSBmdW5jdGlvblxuICAgICAgaWYgKGlzRnVuY3Rpb24obWl4KSkge1xuICAgICAgICAvLyBjcmVhdGUgdGhlIG5ldyBtaXhpbiBpbnN0YW5jZVxuICAgICAgICBpbnN0YW5jZSA9IG5ldyBtaXgoKTtcbiAgICAgIH0gZWxzZSB7IGluc3RhbmNlID0gbWl4OyB9XG5cbiAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnN0YW5jZSk7XG5cbiAgICAgIC8vIGJ1aWxkIG11bHRpbGV2ZWwgcHJvdG90eXBlIGluaGVyaXRhbmNlIGNoYWluIHByb3BlcnR5IGxpc3RcbiAgICAgIGRvIHsgcHJvcHMgPSBwcm9wcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqIHx8IGluc3RhbmNlKSk7IH1cbiAgICAgIHdoaWxlIChvYmogPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqIHx8IGluc3RhbmNlKSlcblxuICAgICAgLy8gbG9vcCB0aGUga2V5cyBpbiB0aGUgZnVuY3Rpb24gcHJvdG90eXBlIG9yIHRoZSBhbGwgb2JqZWN0IGtleXNcbiAgICAgIGVhY2gocHJvcHMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgLy8gYmluZCBtZXRob2RzIHRvIHRhZ1xuICAgICAgICAvLyBhbGxvdyBtaXhpbnMgdG8gb3ZlcnJpZGUgb3RoZXIgcHJvcGVydGllcy9wYXJlbnQgbWl4aW5zXG4gICAgICAgIGlmICghY29udGFpbnMocHJvcHNCbGFja2xpc3QsIGtleSkpIHtcbiAgICAgICAgICAvLyBjaGVjayBmb3IgZ2V0dGVycy9zZXR0ZXJzXG4gICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRQcm9wRGVzY3JpcHRvcihpbnN0YW5jZSwga2V5KSB8fCBnZXRQcm9wRGVzY3JpcHRvcihwcm90bywga2V5KTtcbiAgICAgICAgICB2YXIgaGFzR2V0dGVyU2V0dGVyID0gZGVzY3JpcHRvciAmJiAoZGVzY3JpcHRvci5nZXQgfHwgZGVzY3JpcHRvci5zZXQpO1xuXG4gICAgICAgICAgLy8gYXBwbHkgbWV0aG9kIG9ubHkgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdCBvbiB0aGUgaW5zdGFuY2VcbiAgICAgICAgICBpZiAoIXRhZyQkMS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGhhc0dldHRlclNldHRlcikge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhZyQkMSwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFnJCQxW2tleV0gPSBpc0Z1bmN0aW9uKGluc3RhbmNlW2tleV0pID9cbiAgICAgICAgICAgICAgaW5zdGFuY2Vba2V5XS5iaW5kKHRhZyQkMSkgOlxuICAgICAgICAgICAgICBpbnN0YW5jZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGluaXQgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHlcbiAgICAgIGlmIChpbnN0YW5jZS5pbml0KVxuICAgICAgICB7IGluc3RhbmNlLmluaXQuYmluZCh0YWckJDEpKHRhZyQkMS5vcHRzKTsgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRhZyQkMVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIHBvc2l0aW9uIG9mIGEgY3VzdG9tIHRhZyBpbiBpdHMgcGFyZW50IHRhZ1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSB0YWdOYW1lIC0ga2V5IHdoZXJlIHRoZSB0YWcgd2FzIHN0b3JlZFxuICAgKiBAcGFyYW0gICB7IE51bWJlciB9IG5ld1BvcyAtIGluZGV4IHdoZXJlIHRoZSBuZXcgdGFnIHdpbGwgYmUgc3RvcmVkXG4gICAqL1xuICBmdW5jdGlvbiBtb3ZlQ2hpbGQodGFnTmFtZSwgbmV3UG9zKSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIHZhciB0YWdzO1xuICAgIC8vIG5vIHBhcmVudCBubyBtb3ZlXG4gICAgaWYgKCFwYXJlbnQpIHsgcmV0dXJuIH1cblxuICAgIHRhZ3MgPSBwYXJlbnQudGFnc1t0YWdOYW1lXTtcblxuICAgIGlmIChpc0FycmF5KHRhZ3MpKVxuICAgICAgeyB0YWdzLnNwbGljZShuZXdQb3MsIDAsIHRhZ3Muc3BsaWNlKHRhZ3MuaW5kZXhPZih0aGlzKSwgMSlbMF0pOyB9XG4gICAgZWxzZSB7IGFycmF5aXNoQWRkKHBhcmVudC50YWdzLCB0YWdOYW1lLCB0aGlzKTsgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdmlydHVhbCB0YWcgYW5kIGFsbCBjaGlsZCBub2Rlc1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgTm9kZSB9IHNyYyAgLSB0aGUgbm9kZSB0aGF0IHdpbGwgZG8gdGhlIGluc2VydGluZ1xuICAgKiBAcGFyYW0geyBUYWcgfSB0YXJnZXQgLSBpbnNlcnQgYmVmb3JlIHRoaXMgdGFnJ3MgZmlyc3QgY2hpbGRcbiAgICovXG4gIGZ1bmN0aW9uIG1vdmVWaXJ0dWFsKHNyYywgdGFyZ2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgZWwgPSB0aGlzLl9fLmhlYWQ7XG4gICAgdmFyIHNpYjtcbiAgICB2YXIgZnJhZyA9IGNyZWF0ZUZyYWdtZW50KCk7XG5cbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgIHNpYiA9IGVsLm5leHRTaWJsaW5nO1xuICAgICAgZnJhZy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICBlbCA9IHNpYjtcbiAgICAgIGlmIChlbCA9PT0gdGhpcyQxLl9fLnRhaWwpIHtcbiAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHNyYy5pbnNlcnRCZWZvcmUoZnJhZywgdGFyZ2V0Ll9fLmhlYWQpO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHRoZSBpdGVtIGxvb3BlZCBpbnRvIGFuIG9iamVjdCB1c2VkIHRvIGV4dGVuZCB0aGUgY2hpbGQgdGFnIHByb3BlcnRpZXNcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBleHByIC0gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGtleXMgdXNlZCB0byBleHRlbmQgdGhlIGNoaWxkcmVuIHRhZ3NcbiAgICogQHBhcmFtICAgeyAqIH0ga2V5IC0gdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBuZXcgb2JqZWN0IHJldHVybmVkXG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbCAtIHZhbHVlIGNvbnRhaW5pbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGluIHRoZSBhcnJheVxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IC0gbmV3IG9iamVjdCBjb250YWluaW5nIHRoZSB2YWx1ZXMgb2YgdGhlIG9yaWdpbmFsIGl0ZW1cbiAgICpcbiAgICogVGhlIHZhcmlhYmxlcyAna2V5JyBhbmQgJ3ZhbCcgYXJlIGFyYml0cmFyeS5cbiAgICogVGhleSBkZXBlbmQgb24gdGhlIGNvbGxlY3Rpb24gdHlwZSBsb29wZWQgKEFycmF5LCBPYmplY3QpXG4gICAqIGFuZCBvbiB0aGUgZXhwcmVzc2lvbiB1c2VkIG9uIHRoZSBlYWNoIHRhZ1xuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gbWtpdGVtKGV4cHIsIGtleSwgdmFsKSB7XG4gICAgdmFyIGl0ZW0gPSB7fTtcbiAgICBpdGVtW2V4cHIua2V5XSA9IGtleTtcbiAgICBpZiAoZXhwci5wb3MpIHsgaXRlbVtleHByLnBvc10gPSB2YWw7IH1cbiAgICByZXR1cm4gaXRlbVxuICB9XG5cbiAgLyoqXG4gICAqIFVubW91bnQgdGhlIHJlZHVuZGFudCB0YWdzXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSBpdGVtcyAtIGFycmF5IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgaXRlbXMgdG8gbG9vcFxuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gdGFncyAtIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBjaGlsZHJlbiB0YWdzXG4gICAqL1xuICBmdW5jdGlvbiB1bm1vdW50UmVkdW5kYW50KGl0ZW1zLCB0YWdzLCBmaWx0ZXJlZEl0ZW1zQ291bnQpIHtcbiAgICB2YXIgaSA9IHRhZ3MubGVuZ3RoO1xuICAgIHZhciBqID0gaXRlbXMubGVuZ3RoIC0gZmlsdGVyZWRJdGVtc0NvdW50O1xuXG4gICAgd2hpbGUgKGkgPiBqKSB7XG4gICAgICBpLS07XG4gICAgICByZW1vdmUuYXBwbHkodGFnc1tpXSwgW3RhZ3MsIGldKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjaGlsZCB0YWdcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSB0YWdzIC0gdGFncyBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSAgIHsgTnVtYmVyIH0gaSAtIGluZGV4IG9mIHRoZSB0YWcgdG8gcmVtb3ZlXG4gICAqL1xuICBmdW5jdGlvbiByZW1vdmUodGFncywgaSkge1xuICAgIHRhZ3Muc3BsaWNlKGksIDEpO1xuICAgIHRoaXMudW5tb3VudCgpO1xuICAgIGFycmF5aXNoUmVtb3ZlKHRoaXMucGFyZW50LCB0aGlzLCB0aGlzLl9fLnRhZ05hbWUsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIG5lc3RlZCBjdXN0b20gdGFncyBpbiBub24gY3VzdG9tIGxvb3AgdGFnc1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBOdW1iZXIgfSBpIC0gY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgbG9vcCB0YWdcbiAgICovXG4gIGZ1bmN0aW9uIG1vdmVOZXN0ZWRUYWdzKGkpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGVhY2goT2JqZWN0LmtleXModGhpcy50YWdzKSwgZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgIG1vdmVDaGlsZC5hcHBseSh0aGlzJDEudGFnc1t0YWdOYW1lXSwgW3RhZ05hbWUsIGldKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGEgY2hpbGQgdGFnXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gcm9vdCAtIGRvbSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBsb29wIGNoaWxkcmVuXG4gICAqIEBwYXJhbSAgIHsgVGFnIH0gbmV4dFRhZyAtIGluc3RhbmNlIG9mIHRoZSBuZXh0IHRhZyBwcmVjZWRpbmcgdGhlIG9uZSB3ZSB3YW50IHRvIG1vdmVcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gaXNWaXJ0dWFsIC0gaXMgaXQgYSB2aXJ0dWFsIHRhZz9cbiAgICovXG4gIGZ1bmN0aW9uIG1vdmUocm9vdCwgbmV4dFRhZywgaXNWaXJ0dWFsKSB7XG4gICAgaWYgKGlzVmlydHVhbClcbiAgICAgIHsgbW92ZVZpcnR1YWwuYXBwbHkodGhpcywgW3Jvb3QsIG5leHRUYWddKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgc2FmZUluc2VydChyb290LCB0aGlzLnJvb3QsIG5leHRUYWcucm9vdCk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnQgYW5kIG1vdW50IGEgY2hpbGQgdGFnXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gcm9vdCAtIGRvbSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBsb29wIGNoaWxkcmVuXG4gICAqIEBwYXJhbSAgIHsgVGFnIH0gbmV4dFRhZyAtIGluc3RhbmNlIG9mIHRoZSBuZXh0IHRhZyBwcmVjZWRpbmcgdGhlIG9uZSB3ZSB3YW50IHRvIGluc2VydFxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBpc1ZpcnR1YWwgLSBpcyBpdCBhIHZpcnR1YWwgdGFnP1xuICAgKi9cbiAgZnVuY3Rpb24gaW5zZXJ0KHJvb3QsIG5leHRUYWcsIGlzVmlydHVhbCkge1xuICAgIGlmIChpc1ZpcnR1YWwpXG4gICAgICB7IG1ha2VWaXJ0dWFsLmFwcGx5KHRoaXMsIFtyb290LCBuZXh0VGFnXSk7IH1cbiAgICBlbHNlXG4gICAgICB7IHNhZmVJbnNlcnQocm9vdCwgdGhpcy5yb290LCBuZXh0VGFnLnJvb3QpOyB9XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kIGEgbmV3IHRhZyBpbnRvIHRoZSBET01cbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSByb290IC0gZG9tIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGxvb3AgY2hpbGRyZW5cbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gaXNWaXJ0dWFsIC0gaXMgaXQgYSB2aXJ0dWFsIHRhZz9cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGVuZChyb290LCBpc1ZpcnR1YWwpIHtcbiAgICBpZiAoaXNWaXJ0dWFsKVxuICAgICAgeyBtYWtlVmlydHVhbC5jYWxsKHRoaXMsIHJvb3QpOyB9XG4gICAgZWxzZVxuICAgICAgeyByb290LmFwcGVuZENoaWxkKHRoaXMucm9vdCk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIHdlIHdhbnQgdG8gdXNlIHRvIGxvb2t1cCB0aGUgcG9zdGlvbiBvZiBvdXIgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAga2V5QXR0ciAgICAgICAgIC0gbG9va3VwIHN0cmluZyBvciBleHByZXNzaW9uXG4gICAqIEBwYXJhbSAgIHsgKiB9ICAgICAgIG9yaWdpbmFsSXRlbSAgICAtIG9yaWdpbmFsIGl0ZW0gZnJvbSB0aGUgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICBrZXllZEl0ZW0gICAgICAgLSBvYmplY3QgY3JlYXRlZCBieSByaW90IHZpYSB7IGl0ZW0sIGkgaW4gY29sbGVjdGlvbiB9XG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IGhhc0tleUF0dHJFeHByICAtIGZsYWcgdG8gY2hlY2sgd2hldGhlciB0aGUga2V5IGlzIGFuIGV4cHJlc3Npb25cbiAgICogQHJldHVybnMgeyAqIH0gdmFsdWUgdGhhdCB3ZSB3aWxsIHVzZSB0byBmaWd1cmUgb3V0IHRoZSBpdGVtIHBvc2l0aW9uIHZpYSBjb2xsZWN0aW9uLmluZGV4T2ZcbiAgICovXG4gIGZ1bmN0aW9uIGdldEl0ZW1JZChrZXlBdHRyLCBvcmlnaW5hbEl0ZW0sIGtleWVkSXRlbSwgaGFzS2V5QXR0ckV4cHIpIHtcbiAgICBpZiAoa2V5QXR0cikge1xuICAgICAgcmV0dXJuIGhhc0tleUF0dHJFeHByID8gIHRtcGwoa2V5QXR0ciwga2V5ZWRJdGVtKSA6ICBvcmlnaW5hbEl0ZW1ba2V5QXR0cl1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZ2luYWxJdGVtXG4gIH1cblxuICAvKipcbiAgICogTWFuYWdlIHRhZ3MgaGF2aW5nIHRoZSAnZWFjaCdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IGRvbSAtIERPTSBub2RlIHdlIG5lZWQgdG8gbG9vcFxuICAgKiBAcGFyYW0gICB7IFRhZyB9IHBhcmVudCAtIHBhcmVudCB0YWcgaW5zdGFuY2Ugd2hlcmUgdGhlIGRvbSBub2RlIGlzIGNvbnRhaW5lZFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGV4cHIgLSBzdHJpbmcgY29udGFpbmVkIGluIHRoZSAnZWFjaCcgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZXhwcmVzc2lvbiBvYmplY3QgZm9yIHRoaXMgZWFjaCBsb29wXG4gICAqL1xuICBmdW5jdGlvbiBfZWFjaChkb20sIHBhcmVudCwgZXhwcikge1xuICAgIHZhciBtdXN0UmVvcmRlciA9IHR5cGVvZiBnZXRBdHRyaWJ1dGUoZG9tLCBMT09QX05PX1JFT1JERVJfRElSRUNUSVZFKSAhPT0gVF9TVFJJTkcgfHwgcmVtb3ZlQXR0cmlidXRlKGRvbSwgTE9PUF9OT19SRU9SREVSX0RJUkVDVElWRSk7XG4gICAgdmFyIGtleUF0dHIgPSBnZXRBdHRyaWJ1dGUoZG9tLCBLRVlfRElSRUNUSVZFKTtcbiAgICB2YXIgaGFzS2V5QXR0ckV4cHIgPSBrZXlBdHRyID8gdG1wbC5oYXNFeHByKGtleUF0dHIpIDogZmFsc2U7XG4gICAgdmFyIHRhZ05hbWUgPSBnZXROYW1lKGRvbSk7XG4gICAgdmFyIGltcGwgPSBfX1RBR19JTVBMW3RhZ05hbWVdO1xuICAgIHZhciBwYXJlbnROb2RlID0gZG9tLnBhcmVudE5vZGU7XG4gICAgdmFyIHBsYWNlaG9sZGVyID0gY3JlYXRlRE9NUGxhY2Vob2xkZXIoKTtcbiAgICB2YXIgY2hpbGQgPSBnZXQoZG9tKTtcbiAgICB2YXIgaWZFeHByID0gZ2V0QXR0cmlidXRlKGRvbSwgQ09ORElUSU9OQUxfRElSRUNUSVZFKTtcbiAgICB2YXIgdGFncyA9IFtdO1xuICAgIHZhciBpc0xvb3AgPSB0cnVlO1xuICAgIHZhciBpbm5lckhUTUwgPSBkb20uaW5uZXJIVE1MO1xuICAgIHZhciBpc0Fub255bW91cyA9ICFfX1RBR19JTVBMW3RhZ05hbWVdO1xuICAgIHZhciBpc1ZpcnR1YWwgPSBkb20udGFnTmFtZSA9PT0gJ1ZJUlRVQUwnO1xuICAgIHZhciBvbGRJdGVtcyA9IFtdO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSBlYWNoIHByb3BlcnR5IGZyb20gdGhlIG9yaWdpbmFsIHRhZ1xuICAgIHJlbW92ZUF0dHJpYnV0ZShkb20sIExPT1BfRElSRUNUSVZFKTtcbiAgICByZW1vdmVBdHRyaWJ1dGUoZG9tLCBLRVlfRElSRUNUSVZFKTtcblxuICAgIC8vIHBhcnNlIHRoZSBlYWNoIGV4cHJlc3Npb25cbiAgICBleHByID0gdG1wbC5sb29wS2V5cyhleHByKTtcbiAgICBleHByLmlzTG9vcCA9IHRydWU7XG5cbiAgICBpZiAoaWZFeHByKSB7IHJlbW92ZUF0dHJpYnV0ZShkb20sIENPTkRJVElPTkFMX0RJUkVDVElWRSk7IH1cblxuICAgIC8vIGluc2VydCBhIG1hcmtlZCB3aGVyZSB0aGUgbG9vcCB0YWdzIHdpbGwgYmUgaW5qZWN0ZWRcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShwbGFjZWhvbGRlciwgZG9tKTtcbiAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvbSk7XG5cbiAgICBleHByLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZUVhY2goKSB7XG4gICAgICAvLyBnZXQgdGhlIG5ldyBpdGVtcyBjb2xsZWN0aW9uXG4gICAgICBleHByLnZhbHVlID0gdG1wbChleHByLnZhbCwgcGFyZW50KTtcblxuICAgICAgdmFyIGl0ZW1zID0gZXhwci52YWx1ZTtcbiAgICAgIHZhciBmcmFnID0gY3JlYXRlRnJhZ21lbnQoKTtcbiAgICAgIHZhciBpc09iamVjdCA9ICFpc0FycmF5KGl0ZW1zKSAmJiAhaXNTdHJpbmcoaXRlbXMpO1xuICAgICAgdmFyIHJvb3QgPSBwbGFjZWhvbGRlci5wYXJlbnROb2RlO1xuICAgICAgdmFyIHRtcEl0ZW1zID0gW107XG4gICAgICB2YXIgaGFzS2V5cyA9IGlzT2JqZWN0ICYmICEhaXRlbXM7XG5cbiAgICAgIC8vIGlmIHRoaXMgRE9NIHdhcyByZW1vdmVkIHRoZSB1cGRhdGUgaGVyZSBpcyB1c2VsZXNzXG4gICAgICAvLyB0aGlzIGNvbmRpdGlvbiBmaXhlcyBhbHNvIGEgd2VpcmQgYXN5bmMgaXNzdWUgb24gSUUgaW4gb3VyIHVuaXQgdGVzdFxuICAgICAgaWYgKCFyb290KSB7IHJldHVybiB9XG5cbiAgICAgIC8vIG9iamVjdCBsb29wLiBhbnkgY2hhbmdlcyBjYXVzZSBmdWxsIHJlZHJhd1xuICAgICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICAgIGl0ZW1zID0gaXRlbXMgPyBPYmplY3Qua2V5cyhpdGVtcykubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG1raXRlbShleHByLCBpdGVtc1trZXldLCBrZXkpOyB9KSA6IFtdO1xuICAgICAgfVxuXG4gICAgICAvLyBzdG9yZSB0aGUgYW1vdW50IG9mIGZpbHRlcmVkIGl0ZW1zXG4gICAgICB2YXIgZmlsdGVyZWRJdGVtc0NvdW50ID0gMDtcblxuICAgICAgLy8gbG9vcCBhbGwgdGhlIG5ldyBpdGVtc1xuICAgICAgZWFjaChpdGVtcywgZnVuY3Rpb24gKF9pdGVtLCBpbmRleCkge1xuICAgICAgICB2YXIgaSA9IGluZGV4IC0gZmlsdGVyZWRJdGVtc0NvdW50O1xuICAgICAgICB2YXIgaXRlbSA9ICFoYXNLZXlzICYmIGV4cHIua2V5ID8gbWtpdGVtKGV4cHIsIF9pdGVtLCBpbmRleCkgOiBfaXRlbTtcblxuICAgICAgICAvLyBza2lwIHRoaXMgaXRlbSBiZWNhdXNlIGl0IG11c3QgYmUgZmlsdGVyZWRcbiAgICAgICAgaWYgKGlmRXhwciAmJiAhdG1wbChpZkV4cHIsIGV4dGVuZChjcmVhdGUocGFyZW50KSwgaXRlbSkpKSB7XG4gICAgICAgICAgZmlsdGVyZWRJdGVtc0NvdW50ICsrO1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW1JZCA9IGdldEl0ZW1JZChrZXlBdHRyLCBfaXRlbSwgaXRlbSwgaGFzS2V5QXR0ckV4cHIpO1xuICAgICAgICAvLyByZW9yZGVyIG9ubHkgaWYgdGhlIGl0ZW1zIGFyZSBub3Qgb2JqZWN0c1xuICAgICAgICAvLyBvciBhIGtleSBhdHRyaWJ1dGUgaGFzIGJlZW4gcHJvdmlkZWRcbiAgICAgICAgdmFyIGRvUmVvcmRlciA9ICFpc09iamVjdCAmJiBtdXN0UmVvcmRlciAmJiB0eXBlb2YgX2l0ZW0gPT09IFRfT0JKRUNUIHx8IGtleUF0dHI7XG4gICAgICAgIHZhciBvbGRQb3MgPSBvbGRJdGVtcy5pbmRleE9mKGl0ZW1JZCk7XG4gICAgICAgIHZhciBpc05ldyA9IG9sZFBvcyA9PT0gLTE7XG4gICAgICAgIHZhciBwb3MgPSAhaXNOZXcgJiYgZG9SZW9yZGVyID8gb2xkUG9zIDogaTtcbiAgICAgICAgLy8gZG9lcyBhIHRhZyBleGlzdCBpbiB0aGlzIHBvc2l0aW9uP1xuICAgICAgICB2YXIgdGFnID0gdGFnc1twb3NdO1xuICAgICAgICB2YXIgbXVzdEFwcGVuZCA9IGkgPj0gb2xkSXRlbXMubGVuZ3RoO1xuICAgICAgICB2YXIgbXVzdENyZWF0ZSA9IGRvUmVvcmRlciAmJiBpc05ldyB8fCAhZG9SZW9yZGVyICYmICF0YWcgfHwgIXRhZ3NbaV07XG5cbiAgICAgICAgLy8gbmV3IHRhZ1xuICAgICAgICBpZiAobXVzdENyZWF0ZSkge1xuICAgICAgICAgIHRhZyA9IGNyZWF0ZVRhZyhpbXBsLCB7XG4gICAgICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgICAgIGlzTG9vcDogaXNMb29wLFxuICAgICAgICAgICAgaXNBbm9ueW1vdXM6IGlzQW5vbnltb3VzLFxuICAgICAgICAgICAgdGFnTmFtZTogdGFnTmFtZSxcbiAgICAgICAgICAgIHJvb3Q6IGRvbS5jbG9uZU5vZGUoaXNBbm9ueW1vdXMpLFxuICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgIH0sIGlubmVySFRNTCk7XG5cbiAgICAgICAgICAvLyBtb3VudCB0aGUgdGFnXG4gICAgICAgICAgdGFnLm1vdW50KCk7XG5cbiAgICAgICAgICBpZiAobXVzdEFwcGVuZClcbiAgICAgICAgICAgIHsgYXBwZW5kLmFwcGx5KHRhZywgW2ZyYWcgfHwgcm9vdCwgaXNWaXJ0dWFsXSk7IH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7IGluc2VydC5hcHBseSh0YWcsIFtyb290LCB0YWdzW2ldLCBpc1ZpcnR1YWxdKTsgfVxuXG4gICAgICAgICAgaWYgKCFtdXN0QXBwZW5kKSB7IG9sZEl0ZW1zLnNwbGljZShpLCAwLCBpdGVtKTsgfVxuICAgICAgICAgIHRhZ3Muc3BsaWNlKGksIDAsIHRhZyk7XG4gICAgICAgICAgaWYgKGNoaWxkKSB7IGFycmF5aXNoQWRkKHBhcmVudC50YWdzLCB0YWdOYW1lLCB0YWcsIHRydWUpOyB9XG4gICAgICAgIH0gZWxzZSBpZiAocG9zICE9PSBpICYmIGRvUmVvcmRlcikge1xuICAgICAgICAgIC8vIG1vdmVcbiAgICAgICAgICBpZiAoa2V5QXR0ciB8fCBjb250YWlucyhpdGVtcywgb2xkSXRlbXNbcG9zXSkpIHtcbiAgICAgICAgICAgIG1vdmUuYXBwbHkodGFnLCBbcm9vdCwgdGFnc1tpXSwgaXNWaXJ0dWFsXSk7XG4gICAgICAgICAgICAvLyBtb3ZlIHRoZSBvbGQgdGFnIGluc3RhbmNlXG4gICAgICAgICAgICB0YWdzLnNwbGljZShpLCAwLCB0YWdzLnNwbGljZShwb3MsIDEpWzBdKTtcbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIG9sZCBpdGVtXG4gICAgICAgICAgICBvbGRJdGVtcy5zcGxpY2UoaSwgMCwgb2xkSXRlbXMuc3BsaWNlKHBvcywgMSlbMF0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgcG9zaXRpb24gYXR0cmlidXRlIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChleHByLnBvcykgeyB0YWdbZXhwci5wb3NdID0gaTsgfVxuXG4gICAgICAgICAgLy8gaWYgdGhlIGxvb3AgdGFncyBhcmUgbm90IGN1c3RvbVxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gbW92ZSBhbGwgdGhlaXIgY3VzdG9tIHRhZ3MgaW50byB0aGUgcmlnaHQgcG9zaXRpb25cbiAgICAgICAgICBpZiAoIWNoaWxkICYmIHRhZy50YWdzKSB7IG1vdmVOZXN0ZWRUYWdzLmNhbGwodGFnLCBpKTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FjaGUgdGhlIG9yaWdpbmFsIGl0ZW0gdG8gdXNlIGl0IGluIHRoZSBldmVudHMgYm91bmQgdG8gdGhpcyBub2RlXG4gICAgICAgIC8vIGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAgZXh0ZW5kKHRhZy5fXywge1xuICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgcGFyZW50OiBwYXJlbnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdG1wSXRlbXNbaV0gPSBpdGVtSWQ7XG5cbiAgICAgICAgaWYgKCFtdXN0Q3JlYXRlKSB7IHRhZy51cGRhdGUoaXRlbSk7IH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyByZW1vdmUgdGhlIHJlZHVuZGFudCB0YWdzXG4gICAgICB1bm1vdW50UmVkdW5kYW50KGl0ZW1zLCB0YWdzLCBmaWx0ZXJlZEl0ZW1zQ291bnQpO1xuXG4gICAgICAvLyBjbG9uZSB0aGUgaXRlbXMgYXJyYXlcbiAgICAgIG9sZEl0ZW1zID0gdG1wSXRlbXMuc2xpY2UoKTtcblxuICAgICAgcm9vdC5pbnNlcnRCZWZvcmUoZnJhZywgcGxhY2Vob2xkZXIpO1xuICAgIH07XG5cbiAgICBleHByLnVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBlYWNoKHRhZ3MsIGZ1bmN0aW9uICh0KSB7IHQudW5tb3VudCgpOyB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGV4cHJcbiAgfVxuXG4gIHZhciBSZWZFeHByID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoZG9tLCBwYXJlbnQsIGF0dHJOYW1lLCBhdHRyVmFsdWUpIHtcbiAgICAgIHRoaXMuZG9tID0gZG9tO1xuICAgICAgdGhpcy5hdHRyID0gYXR0ck5hbWU7XG4gICAgICB0aGlzLnJhd1ZhbHVlID0gYXR0clZhbHVlO1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICB0aGlzLmhhc0V4cCA9IHRtcGwuaGFzRXhwcihhdHRyVmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgdmFyIG9sZCA9IHRoaXMudmFsdWU7XG4gICAgICB2YXIgY3VzdG9tUGFyZW50ID0gdGhpcy5wYXJlbnQgJiYgZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KHRoaXMucGFyZW50KTtcbiAgICAgIC8vIGlmIHRoZSByZWZlcmVuY2VkIGVsZW1lbnQgaXMgYSBjdXN0b20gdGFnLCB0aGVuIHdlIHNldCB0aGUgdGFnIGl0c2VsZiwgcmF0aGVyIHRoYW4gRE9NXG4gICAgICB2YXIgdGFnT3JEb20gPSB0aGlzLmRvbS5fX3JlZiB8fCB0aGlzLnRhZyB8fCB0aGlzLmRvbTtcblxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaGFzRXhwID8gdG1wbCh0aGlzLnJhd1ZhbHVlLCB0aGlzLnBhcmVudCkgOiB0aGlzLnJhd1ZhbHVlO1xuXG4gICAgICAvLyB0aGUgbmFtZSBjaGFuZ2VkLCBzbyB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBmcm9tIHRoZSBvbGQga2V5IChpZiBwcmVzZW50KVxuICAgICAgaWYgKCFpc0JsYW5rKG9sZCkgJiYgY3VzdG9tUGFyZW50KSB7IGFycmF5aXNoUmVtb3ZlKGN1c3RvbVBhcmVudC5yZWZzLCBvbGQsIHRhZ09yRG9tKTsgfVxuICAgICAgaWYgKCFpc0JsYW5rKHRoaXMudmFsdWUpICYmIGlzU3RyaW5nKHRoaXMudmFsdWUpKSB7XG4gICAgICAgIC8vIGFkZCBpdCB0byB0aGUgcmVmcyBvZiBwYXJlbnQgdGFnICh0aGlzIGJlaGF2aW9yIHdhcyBjaGFuZ2VkID49My4wKVxuICAgICAgICBpZiAoY3VzdG9tUGFyZW50KSB7IGFycmF5aXNoQWRkKFxuICAgICAgICAgIGN1c3RvbVBhcmVudC5yZWZzLFxuICAgICAgICAgIHRoaXMudmFsdWUsXG4gICAgICAgICAgdGFnT3JEb20sXG4gICAgICAgICAgLy8gdXNlIGFuIGFycmF5IGlmIGl0J3MgYSBsb29wZWQgbm9kZSBhbmQgdGhlIHJlZiBpcyBub3QgYW4gZXhwcmVzc2lvblxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdGhpcy5wYXJlbnQuX18uaW5kZXhcbiAgICAgICAgKTsgfVxuXG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBvbGQpIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUodGhpcy5kb20sIHRoaXMuYXR0ciwgdGhpcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUF0dHJpYnV0ZSh0aGlzLmRvbSwgdGhpcy5hdHRyKTtcbiAgICAgIH1cblxuICAgICAgLy8gY2FjaGUgdGhlIHJlZiBib3VuZCB0byB0aGlzIGRvbSBub2RlXG4gICAgICAvLyB0byByZXVzZSBpdCBpbiBmdXR1cmUgKHNlZSBhbHNvICMyMzI5KVxuICAgICAgaWYgKCF0aGlzLmRvbS5fX3JlZikgeyB0aGlzLmRvbS5fX3JlZiA9IHRhZ09yRG9tOyB9XG4gICAgfSxcbiAgICB1bm1vdW50OiBmdW5jdGlvbiB1bm1vdW50KCkge1xuICAgICAgdmFyIHRhZ09yRG9tID0gdGhpcy50YWcgfHwgdGhpcy5kb207XG4gICAgICB2YXIgY3VzdG9tUGFyZW50ID0gdGhpcy5wYXJlbnQgJiYgZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KHRoaXMucGFyZW50KTtcbiAgICAgIGlmICghaXNCbGFuayh0aGlzLnZhbHVlKSAmJiBjdXN0b21QYXJlbnQpXG4gICAgICAgIHsgYXJyYXlpc2hSZW1vdmUoY3VzdG9tUGFyZW50LnJlZnMsIHRoaXMudmFsdWUsIHRhZ09yRG9tKTsgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHJlZiBkaXJlY3RpdmVcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IGRvbSAtIGRvbSBub2RlIGhhdmluZyB0aGUgcmVmIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gICB7IFRhZyB9IGNvbnRleHQgLSB0YWcgaW5zdGFuY2Ugd2hlcmUgdGhlIERPTSBub2RlIGlzIGxvY2F0ZWRcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBhdHRyTmFtZSAtIGVpdGhlciAncmVmJyBvciAnZGF0YS1yZWYnXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gYXR0clZhbHVlIC0gdmFsdWUgb2YgdGhlIHJlZiBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgeyBSZWZFeHByIH0gYSBuZXcgUmVmRXhwciBvYmplY3RcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZkRpcmVjdGl2ZShkb20sIHRhZywgYXR0ck5hbWUsIGF0dHJWYWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGUoUmVmRXhwcikuaW5pdChkb20sIHRhZywgYXR0ck5hbWUsIGF0dHJWYWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIHRoZSB1bm1vdW50IG1ldGhvZCBvbiBhbGwgdGhlIGV4cHJlc3Npb25zXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSBleHByZXNzaW9ucyAtIERPTSBleHByZXNzaW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gdW5tb3VudEFsbChleHByZXNzaW9ucykge1xuICAgIGVhY2goZXhwcmVzc2lvbnMsIGZ1bmN0aW9uIChleHByKSB7XG4gICAgICBpZiAoZXhwci51bm1vdW50KSB7IGV4cHIudW5tb3VudCh0cnVlKTsgfVxuICAgICAgZWxzZSBpZiAoZXhwci50YWdOYW1lKSB7IGV4cHIudGFnLnVubW91bnQodHJ1ZSk7IH1cbiAgICAgIGVsc2UgaWYgKGV4cHIudW5tb3VudCkgeyBleHByLnVubW91bnQoKTsgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIElmRXhwciA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGRvbSwgdGFnLCBleHByKSB7XG4gICAgICByZW1vdmVBdHRyaWJ1dGUoZG9tLCBDT05ESVRJT05BTF9ESVJFQ1RJVkUpO1xuICAgICAgZXh0ZW5kKHRoaXMsIHsgdGFnOiB0YWcsIGV4cHI6IGV4cHIsIHN0dWI6IGNyZWF0ZURPTVBsYWNlaG9sZGVyKCksIHByaXN0aW5lOiBkb20gfSk7XG4gICAgICB2YXIgcCA9IGRvbS5wYXJlbnROb2RlO1xuICAgICAgcC5pbnNlcnRCZWZvcmUodGhpcy5zdHViLCBkb20pO1xuICAgICAgcC5yZW1vdmVDaGlsZChkb20pO1xuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUkJDEoKSB7XG4gICAgICB0aGlzLnZhbHVlID0gdG1wbCh0aGlzLmV4cHIsIHRoaXMudGFnKTtcblxuICAgICAgaWYgKCF0aGlzLnN0dWIucGFyZW50Tm9kZSkgeyByZXR1cm4gfVxuXG4gICAgICBpZiAodGhpcy52YWx1ZSAmJiAhdGhpcy5jdXJyZW50KSB7IC8vIGluc2VydFxuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnByaXN0aW5lLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgdGhpcy5zdHViLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuY3VycmVudCwgdGhpcy5zdHViKTtcbiAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IHBhcnNlRXhwcmVzc2lvbnMuYXBwbHkodGhpcy50YWcsIFt0aGlzLmN1cnJlbnQsIHRydWVdKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMudmFsdWUgJiYgdGhpcy5jdXJyZW50KSB7IC8vIHJlbW92ZVxuICAgICAgICB0aGlzLnVubW91bnQoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52YWx1ZSkgeyB1cGRhdGUuY2FsbCh0aGlzLnRhZywgdGhpcy5leHByZXNzaW9ucyk7IH1cbiAgICB9LFxuICAgIHVubW91bnQ6IGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQuX3RhZykge1xuICAgICAgICAgIHRoaXMuY3VycmVudC5fdGFnLnVubW91bnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdW5tb3VudEFsbCh0aGlzLmV4cHJlc3Npb25zIHx8IFtdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBpZiBkaXJlY3RpdmVcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IGRvbSAtIGlmIHJvb3QgZG9tIG5vZGVcbiAgICogQHBhcmFtICAgeyBUYWcgfSBjb250ZXh0IC0gdGFnIGluc3RhbmNlIHdoZXJlIHRoZSBET00gbm9kZSBpcyBsb2NhdGVkXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gYXR0ciAtIGlmIGV4cHJlc3Npb25cbiAgICogQHJldHVybnMgeyBJRkV4cHIgfSBhIG5ldyBJZkV4cHIgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVJZkRpcmVjdGl2ZShkb20sIHRhZywgYXR0cikge1xuICAgIHJldHVybiBjcmVhdGUoSWZFeHByKS5pbml0KGRvbSwgdGFnLCBhdHRyKVxuICB9XG5cbiAgLyoqXG4gICAqIFdhbGsgdGhlIHRhZyBET00gdG8gZGV0ZWN0IHRoZSBleHByZXNzaW9ucyB0byBldmFsdWF0ZVxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IHJvb3QgLSByb290IHRhZyB3aGVyZSB3ZSB3aWxsIHN0YXJ0IGRpZ2dpbmcgdGhlIGV4cHJlc3Npb25zXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IG11c3RJbmNsdWRlUm9vdCAtIGZsYWcgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHJvb3QgbXVzdCBiZSBwYXJzZWQgYXMgd2VsbFxuICAgKiBAcmV0dXJucyB7IEFycmF5IH0gYWxsIHRoZSBleHByZXNzaW9ucyBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VFeHByZXNzaW9ucyhyb290LCBtdXN0SW5jbHVkZVJvb3QpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuXG4gICAgd2Fsa05vZGVzKHJvb3QsIGZ1bmN0aW9uIChkb20pIHtcbiAgICAgIHZhciB0eXBlID0gZG9tLm5vZGVUeXBlO1xuICAgICAgdmFyIGF0dHI7XG4gICAgICB2YXIgdGFnSW1wbDtcblxuICAgICAgaWYgKCFtdXN0SW5jbHVkZVJvb3QgJiYgZG9tID09PSByb290KSB7IHJldHVybiB9XG5cbiAgICAgIC8vIHRleHQgbm9kZVxuICAgICAgaWYgKHR5cGUgPT09IDMgJiYgZG9tLnBhcmVudE5vZGUudGFnTmFtZSAhPT0gJ1NUWUxFJyAmJiB0bXBsLmhhc0V4cHIoZG9tLm5vZGVWYWx1ZSkpXG4gICAgICAgIHsgZXhwcmVzc2lvbnMucHVzaCh7ZG9tOiBkb20sIGV4cHI6IGRvbS5ub2RlVmFsdWV9KTsgfVxuXG4gICAgICBpZiAodHlwZSAhPT0gMSkgeyByZXR1cm4gfVxuXG4gICAgICB2YXIgaXNWaXJ0dWFsID0gZG9tLnRhZ05hbWUgPT09ICdWSVJUVUFMJztcblxuICAgICAgLy8gbG9vcC4gZWFjaCBkb2VzIGl0J3Mgb3duIHRoaW5nIChmb3Igbm93KVxuICAgICAgaWYgKGF0dHIgPSBnZXRBdHRyaWJ1dGUoZG9tLCBMT09QX0RJUkVDVElWRSkpIHtcbiAgICAgICAgaWYoaXNWaXJ0dWFsKSB7IHNldEF0dHJpYnV0ZShkb20sICdsb29wVmlydHVhbCcsIHRydWUpOyB9IC8vIGlnbm9yZSBoZXJlLCBoYW5kbGVkIGluIF9lYWNoXG4gICAgICAgIGV4cHJlc3Npb25zLnB1c2goX2VhY2goZG9tLCB0aGlzJDEsIGF0dHIpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIC8vIGlmLWF0dHJzIGJlY29tZSB0aGUgbmV3IHBhcmVudC4gQW55IGZvbGxvd2luZyBleHByZXNzaW9ucyAoZWl0aGVyIG9uIHRoZSBjdXJyZW50XG4gICAgICAvLyBlbGVtZW50LCBvciBiZWxvdyBpdCkgYmVjb21lIGNoaWxkcmVuIG9mIHRoaXMgZXhwcmVzc2lvbi5cbiAgICAgIGlmIChhdHRyID0gZ2V0QXR0cmlidXRlKGRvbSwgQ09ORElUSU9OQUxfRElSRUNUSVZFKSkge1xuICAgICAgICBleHByZXNzaW9ucy5wdXNoKGNyZWF0ZUlmRGlyZWN0aXZlKGRvbSwgdGhpcyQxLCBhdHRyKSk7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ciA9IGdldEF0dHJpYnV0ZShkb20sIElTX0RJUkVDVElWRSkpIHtcbiAgICAgICAgaWYgKHRtcGwuaGFzRXhwcihhdHRyKSkge1xuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goe1xuICAgICAgICAgICAgaXNSdGFnOiB0cnVlLFxuICAgICAgICAgICAgZXhwcjogYXR0cixcbiAgICAgICAgICAgIGRvbTogZG9tLFxuICAgICAgICAgICAgYXR0cnM6IFtdLnNsaWNlLmNhbGwoZG9tLmF0dHJpYnV0ZXMpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGlzIGlzIGEgdGFnLCBzdG9wIHRyYXZlcnNpbmcgaGVyZS5cbiAgICAgIC8vIHdlIGlnbm9yZSB0aGUgcm9vdCwgc2luY2UgcGFyc2VFeHByZXNzaW9ucyBpcyBjYWxsZWQgd2hpbGUgd2UncmUgbW91bnRpbmcgdGhhdCByb290XG4gICAgICB0YWdJbXBsID0gZ2V0KGRvbSk7XG5cbiAgICAgIGlmKGlzVmlydHVhbCkge1xuICAgICAgICBpZihnZXRBdHRyaWJ1dGUoZG9tLCAndmlydHVhbGl6ZWQnKSkge2RvbS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGRvbSk7IH0gLy8gdGFnIGNyZWF0ZWQsIHJlbW92ZSBmcm9tIGRvbVxuICAgICAgICBpZighdGFnSW1wbCAmJiAhZ2V0QXR0cmlidXRlKGRvbSwgJ3ZpcnR1YWxpemVkJykgJiYgIWdldEF0dHJpYnV0ZShkb20sICdsb29wVmlydHVhbCcpKSAgLy8gb2sgdG8gY3JlYXRlIHZpcnR1YWwgdGFnXG4gICAgICAgICAgeyB0YWdJbXBsID0geyB0bXBsOiBkb20ub3V0ZXJIVE1MIH07IH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRhZ0ltcGwgJiYgKGRvbSAhPT0gcm9vdCB8fCBtdXN0SW5jbHVkZVJvb3QpKSB7XG4gICAgICAgIHZhciBoYXNJc0RpcmVjdGl2ZSA9IGdldEF0dHJpYnV0ZShkb20sIElTX0RJUkVDVElWRSk7XG4gICAgICAgIGlmKGlzVmlydHVhbCAmJiAhaGFzSXNEaXJlY3RpdmUpIHsgLy8gaGFuZGxlZCBpbiB1cGRhdGVcbiAgICAgICAgICAvLyBjYW4gbm90IHJlbW92ZSBhdHRyaWJ1dGUgbGlrZSBkaXJlY3RpdmVzXG4gICAgICAgICAgLy8gc28gZmxhZyBmb3IgcmVtb3ZhbCBhZnRlciBjcmVhdGlvbiB0byBwcmV2ZW50IG1heGltdW0gc3RhY2sgZXJyb3JcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoZG9tLCAndmlydHVhbGl6ZWQnLCB0cnVlKTtcbiAgICAgICAgICB2YXIgdGFnID0gY3JlYXRlVGFnKFxuICAgICAgICAgICAge3RtcGw6IGRvbS5vdXRlckhUTUx9LFxuICAgICAgICAgICAge3Jvb3Q6IGRvbSwgcGFyZW50OiB0aGlzJDF9LFxuICAgICAgICAgICAgZG9tLmlubmVySFRNTFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKHRhZyk7IC8vIG5vIHJldHVybiwgYW5vbnltb3VzIHRhZywga2VlcCBwYXJzaW5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGhhc0lzRGlyZWN0aXZlICYmIGlzVmlydHVhbClcbiAgICAgICAgICAgIHsgd2FybigoXCJWaXJ0dWFsIHRhZ3Mgc2hvdWxkbid0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB0aGUgXFxcIlwiICsgSVNfRElSRUNUSVZFICsgXCJcXFwiIGF0dHJpYnV0ZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9yaW90L3Jpb3QvaXNzdWVzLzI1MTFcIikpOyB9XG5cbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKFxuICAgICAgICAgICAgaW5pdENoaWxkKFxuICAgICAgICAgICAgICB0YWdJbXBsLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm9vdDogZG9tLFxuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcyQxXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRvbS5pbm5lckhUTUwsXG4gICAgICAgICAgICAgIHRoaXMkMVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXR0cmlidXRlIGV4cHJlc3Npb25zXG4gICAgICBwYXJzZUF0dHJpYnV0ZXMuYXBwbHkodGhpcyQxLCBbZG9tLCBkb20uYXR0cmlidXRlcywgZnVuY3Rpb24gKGF0dHIsIGV4cHIpIHtcbiAgICAgICAgaWYgKCFleHByKSB7IHJldHVybiB9XG4gICAgICAgIGV4cHJlc3Npb25zLnB1c2goZXhwcik7XG4gICAgICB9XSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZXhwcmVzc2lvbnNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBgZm5gIGZvciBldmVyeSBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudC4gSWYgdGhhdCBhdHRyIGhhcyBhbiBleHByZXNzaW9uLFxuICAgKiBpdCBpcyBhbHNvIHBhc3NlZCB0byBmbi5cbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBkb20gLSBkb20gbm9kZSB0byBwYXJzZVxuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gYXR0cnMgLSBhcnJheSBvZiBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIGNhbGxiYWNrIHRvIGV4ZWMgb24gYW55IGl0ZXJhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGRvbSwgYXR0cnMsIGZuKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBlYWNoKGF0dHJzLCBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgaWYgKCFhdHRyKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgICAgIHZhciBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgdmFyIGJvb2wgPSBpc0Jvb2xBdHRyKG5hbWUpO1xuICAgICAgdmFyIGV4cHI7XG5cbiAgICAgIGlmIChjb250YWlucyhSRUZfRElSRUNUSVZFUywgbmFtZSkgJiYgZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gWUlFTERfVEFHKSB7XG4gICAgICAgIGV4cHIgPSAgY3JlYXRlUmVmRGlyZWN0aXZlKGRvbSwgdGhpcyQxLCBuYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodG1wbC5oYXNFeHByKGF0dHIudmFsdWUpKSB7XG4gICAgICAgIGV4cHIgPSB7ZG9tOiBkb20sIGV4cHI6IGF0dHIudmFsdWUsIGF0dHI6IG5hbWUsIGJvb2w6IGJvb2x9O1xuICAgICAgfVxuXG4gICAgICBmbihhdHRyLCBleHByKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYW5hZ2UgdGhlIG1vdW50IHN0YXRlIG9mIGEgdGFnIHRyaWdnZXJpbmcgYWxzbyB0aGUgb2JzZXJ2YWJsZSBldmVudHNcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IEJvb2xlYW4gfSB2YWx1ZSAtIC4ub2YgdGhlIGlzTW91bnRlZCBmbGFnXG4gICAqL1xuICBmdW5jdGlvbiBzZXRNb3VudFN0YXRlKHZhbHVlKSB7XG4gICAgdmFyIHJlZiA9IHRoaXMuX187XG4gICAgdmFyIGlzQW5vbnltb3VzID0gcmVmLmlzQW5vbnltb3VzO1xuICAgIHZhciBza2lwQW5vbnltb3VzID0gcmVmLnNraXBBbm9ueW1vdXM7XG5cbiAgICBkZWZpbmUodGhpcywgJ2lzTW91bnRlZCcsIHZhbHVlKTtcblxuICAgIGlmICghaXNBbm9ueW1vdXMgfHwgIXNraXBBbm9ueW1vdXMpIHtcbiAgICAgIGlmICh2YWx1ZSkgeyB0aGlzLnRyaWdnZXIoJ21vdW50Jyk7IH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ3VubW91bnQnKTtcbiAgICAgICAgdGhpcy5vZmYoJyonKTtcbiAgICAgICAgdGhpcy5fXy53YXNDcmVhdGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdW50IHRoZSBjdXJyZW50IHRhZyBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7IFRhZyB9IHRoZSBjdXJyZW50IHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gY29tcG9uZW50TW91bnQodGFnJCQxLCBkb20sIGV4cHJlc3Npb25zLCBvcHRzKSB7XG4gICAgdmFyIF9fID0gdGFnJCQxLl9fO1xuICAgIHZhciByb290ID0gX18ucm9vdDtcbiAgICByb290Ll90YWcgPSB0YWckJDE7IC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHRhZyBqdXN0IGNyZWF0ZWRcblxuICAgIC8vIFJlYWQgYWxsIHRoZSBhdHRycyBvbiB0aGlzIGluc3RhbmNlLiBUaGlzIGdpdmUgdXMgdGhlIGluZm8gd2UgbmVlZCBmb3IgdXBkYXRlT3B0c1xuICAgIHBhcnNlQXR0cmlidXRlcy5hcHBseShfXy5wYXJlbnQsIFtyb290LCByb290LmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChhdHRyLCBleHByKSB7XG4gICAgICBpZiAoIV9fLmlzQW5vbnltb3VzICYmIFJlZkV4cHIuaXNQcm90b3R5cGVPZihleHByKSkgeyBleHByLnRhZyA9IHRhZyQkMTsgfVxuICAgICAgYXR0ci5leHByID0gZXhwcjtcbiAgICAgIF9fLmluc3RBdHRycy5wdXNoKGF0dHIpO1xuICAgIH1dKTtcblxuICAgIC8vIHVwZGF0ZSB0aGUgcm9vdCBhZGRpbmcgY3VzdG9tIGF0dHJpYnV0ZXMgY29taW5nIGZyb20gdGhlIGNvbXBpbGVyXG4gICAgd2Fsa0F0dHJpYnV0ZXMoX18uaW1wbC5hdHRycywgZnVuY3Rpb24gKGssIHYpIHsgX18uaW1wbEF0dHJzLnB1c2goe25hbWU6IGssIHZhbHVlOiB2fSk7IH0pO1xuICAgIHBhcnNlQXR0cmlidXRlcy5hcHBseSh0YWckJDEsIFtyb290LCBfXy5pbXBsQXR0cnMsIGZ1bmN0aW9uIChhdHRyLCBleHByKSB7XG4gICAgICBpZiAoZXhwcikgeyBleHByZXNzaW9ucy5wdXNoKGV4cHIpOyB9XG4gICAgICBlbHNlIHsgc2V0QXR0cmlidXRlKHJvb3QsIGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7IH1cbiAgICB9XSk7XG5cbiAgICAvLyBpbml0aWFsaWF0aW9uXG4gICAgdXBkYXRlT3B0cy5hcHBseSh0YWckJDEsIFtfXy5pc0xvb3AsIF9fLnBhcmVudCwgX18uaXNBbm9ueW1vdXMsIG9wdHMsIF9fLmluc3RBdHRyc10pO1xuXG4gICAgLy8gYWRkIGdsb2JhbCBtaXhpbnNcbiAgICB2YXIgZ2xvYmFsTWl4aW4gPSBtaXhpbihHTE9CQUxfTUlYSU4pO1xuXG4gICAgaWYgKGdsb2JhbE1peGluICYmICFfXy5za2lwQW5vbnltb3VzKSB7XG4gICAgICBmb3IgKHZhciBpIGluIGdsb2JhbE1peGluKSB7XG4gICAgICAgIGlmIChnbG9iYWxNaXhpbi5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIHRhZyQkMS5taXhpbihnbG9iYWxNaXhpbltpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoX18uaW1wbC5mbikgeyBfXy5pbXBsLmZuLmNhbGwodGFnJCQxLCBvcHRzKTsgfVxuXG4gICAgaWYgKCFfXy5za2lwQW5vbnltb3VzKSB7IHRhZyQkMS50cmlnZ2VyKCdiZWZvcmUtbW91bnQnKTsgfVxuXG4gICAgLy8gcGFyc2UgbGF5b3V0IGFmdGVyIGluaXQuIGZuIG1heSBjYWxjdWxhdGUgYXJncyBmb3IgbmVzdGVkIGN1c3RvbSB0YWdzXG4gICAgZWFjaChwYXJzZUV4cHJlc3Npb25zLmFwcGx5KHRhZyQkMSwgW2RvbSwgX18uaXNBbm9ueW1vdXNdKSwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGV4cHJlc3Npb25zLnB1c2goZSk7IH0pO1xuXG4gICAgdGFnJCQxLnVwZGF0ZShfXy5pdGVtKTtcblxuICAgIGlmICghX18uaXNBbm9ueW1vdXMgJiYgIV9fLmlzSW5saW5lKSB7XG4gICAgICB3aGlsZSAoZG9tLmZpcnN0Q2hpbGQpIHsgcm9vdC5hcHBlbmRDaGlsZChkb20uZmlyc3RDaGlsZCk7IH1cbiAgICB9XG5cbiAgICBkZWZpbmUodGFnJCQxLCAncm9vdCcsIHJvb3QpO1xuXG4gICAgLy8gaWYgd2UgbmVlZCB0byB3YWl0IHRoYXQgdGhlIHBhcmVudCBcIm1vdW50XCIgb3IgXCJ1cGRhdGVkXCIgZXZlbnQgZ2V0cyB0cmlnZ2VyZWRcbiAgICBpZiAoIV9fLnNraXBBbm9ueW1vdXMgJiYgdGFnJCQxLnBhcmVudCkge1xuICAgICAgdmFyIHAgPSBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQodGFnJCQxLnBhcmVudCk7XG4gICAgICBwLm9uZSghcC5pc01vdW50ZWQgPyAnbW91bnQnIDogJ3VwZGF0ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldE1vdW50U3RhdGUuY2FsbCh0YWckJDEsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG90aGVyd2lzZSBpdCdzIG5vdCBhIGNoaWxkIHRhZyB3ZSBjYW4gdHJpZ2dlciBpdHMgbW91bnQgZXZlbnRcbiAgICAgIHNldE1vdW50U3RhdGUuY2FsbCh0YWckJDEsIHRydWUpO1xuICAgIH1cblxuICAgIHRhZyQkMS5fXy53YXNDcmVhdGVkID0gdHJ1ZTtcblxuICAgIHJldHVybiB0YWckJDFcbiAgfVxuXG4gIC8qKlxuICAgKiBVbm1vdW50IHRoZSB0YWcgaW5zdGFuY2VcbiAgICogQHBhcmFtIHsgQm9vbGVhbiB9IG11c3RLZWVwUm9vdCAtIGlmIGl0J3MgdHJ1ZSB0aGUgcm9vdCBub2RlIHdpbGwgbm90IGJlIHJlbW92ZWRcbiAgICogQHJldHVybnMgeyBUYWcgfSB0aGUgY3VycmVudCB0YWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIHRhZ1VubW91bnQodGFnLCBtdXN0S2VlcFJvb3QsIGV4cHJlc3Npb25zKSB7XG4gICAgdmFyIF9fID0gdGFnLl9fO1xuICAgIHZhciByb290ID0gX18ucm9vdDtcbiAgICB2YXIgdGFnSW5kZXggPSBfX1RBR1NfQ0FDSEUuaW5kZXhPZih0YWcpO1xuICAgIHZhciBwID0gcm9vdC5wYXJlbnROb2RlO1xuXG4gICAgaWYgKCFfXy5za2lwQW5vbnltb3VzKSB7IHRhZy50cmlnZ2VyKCdiZWZvcmUtdW5tb3VudCcpOyB9XG5cbiAgICAvLyBjbGVhciBhbGwgYXR0cmlidXRlcyBjb21pbmcgZnJvbSB0aGUgbW91bnRlZCB0YWdcbiAgICB3YWxrQXR0cmlidXRlcyhfXy5pbXBsLmF0dHJzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgaWYgKHN0YXJ0c1dpdGgobmFtZSwgQVRUUlNfUFJFRklYKSlcbiAgICAgICAgeyBuYW1lID0gbmFtZS5zbGljZShBVFRSU19QUkVGSVgubGVuZ3RoKTsgfVxuXG4gICAgICByZW1vdmVBdHRyaWJ1dGUocm9vdCwgbmFtZSk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnNcbiAgICB0YWcuX18ubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGRvbSkge1xuICAgICAgT2JqZWN0LmtleXMoZG9tW1JJT1RfRVZFTlRTX0tFWV0pLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGRvbVtSSU9UX0VWRU5UU19LRVldW2V2ZW50TmFtZV0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgdGFnIGluc3RhbmNlIGZyb20gdGhlIGdsb2JhbCB0YWdzIGNhY2hlIGNvbGxlY3Rpb25cbiAgICBpZiAodGFnSW5kZXggIT09IC0xKSB7IF9fVEFHU19DQUNIRS5zcGxpY2UodGFnSW5kZXgsIDEpOyB9XG5cbiAgICAvLyBjbGVhbiB1cCB0aGUgcGFyZW50IHRhZ3Mgb2JqZWN0XG4gICAgaWYgKF9fLnBhcmVudCAmJiAhX18uaXNBbm9ueW1vdXMpIHtcbiAgICAgIHZhciBwdGFnID0gZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KF9fLnBhcmVudCk7XG5cbiAgICAgIGlmIChfXy5pc1ZpcnR1YWwpIHtcbiAgICAgICAgT2JqZWN0XG4gICAgICAgICAgLmtleXModGFnLnRhZ3MpXG4gICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHRhZ05hbWUpIHsgcmV0dXJuIGFycmF5aXNoUmVtb3ZlKHB0YWcudGFncywgdGFnTmFtZSwgdGFnLnRhZ3NbdGFnTmFtZV0pOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5aXNoUmVtb3ZlKHB0YWcudGFncywgX18udGFnTmFtZSwgdGFnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1bm1vdW50IGFsbCB0aGUgdmlydHVhbCBkaXJlY3RpdmVzXG4gICAgaWYgKHRhZy5fXy52aXJ0cykge1xuICAgICAgZWFjaCh0YWcuX18udmlydHMsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGlmICh2LnBhcmVudE5vZGUpIHsgdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHYpOyB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBhbGxvdyBleHByZXNzaW9ucyB0byB1bm1vdW50IHRoZW1zZWx2ZXNcbiAgICB1bm1vdW50QWxsKGV4cHJlc3Npb25zKTtcbiAgICBlYWNoKF9fLmluc3RBdHRycywgZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXhwciAmJiBhLmV4cHIudW5tb3VudCAmJiBhLmV4cHIudW5tb3VudCgpOyB9KTtcblxuICAgIC8vIGNsZWFyIHRoZSB0YWcgaHRtbCBpZiBpdCdzIG5lY2Vzc2FyeVxuICAgIGlmIChtdXN0S2VlcFJvb3QpIHsgc2V0SW5uZXJIVE1MKHJvb3QsICcnKTsgfVxuICAgIC8vIG90aGVyd2lzZSBkZXRhY2ggdGhlIHJvb3QgdGFnIGZyb20gdGhlIERPTVxuICAgIGVsc2UgaWYgKHApIHsgcC5yZW1vdmVDaGlsZChyb290KTsgfVxuXG4gICAgLy8gY3VzdG9tIGludGVybmFsIHVubW91bnQgZnVuY3Rpb24gdG8gYXZvaWQgcmVseWluZyBvbiB0aGUgb2JzZXJ2YWJsZVxuICAgIGlmIChfXy5vblVubW91bnQpIHsgX18ub25Vbm1vdW50KCk7IH1cblxuICAgIC8vIHdlaXJkIGZpeCBmb3IgYSB3ZWlyZCBlZGdlIGNhc2UgIzI0MDkgYW5kICMyNDM2XG4gICAgLy8gc29tZSB1c2VycyBtaWdodCB1c2UgeW91ciBzb2Z0d2FyZSBub3QgYXMgeW91J3ZlIGV4cGVjdGVkXG4gICAgLy8gc28gSSBuZWVkIHRvIGFkZCB0aGVzZSBkaXJ0eSBoYWNrcyB0byBtaXRpZ2F0ZSB1bmV4cGVjdGVkIGlzc3Vlc1xuICAgIGlmICghdGFnLmlzTW91bnRlZCkgeyBzZXRNb3VudFN0YXRlLmNhbGwodGFnLCB0cnVlKTsgfVxuXG4gICAgc2V0TW91bnRTdGF0ZS5jYWxsKHRhZywgZmFsc2UpO1xuXG4gICAgZGVsZXRlIHJvb3QuX3RhZztcblxuICAgIHJldHVybiB0YWdcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWcgY3JlYXRpb24gZmFjdG9yeSBmdW5jdGlvblxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gaW1wbCAtIGl0IGNvbnRhaW5zIHRoZSB0YWcgdGVtcGxhdGUsIGFuZCBsb2dpY1xuICAgKiBAcGFyYW0geyBPYmplY3QgfSBjb25mIC0gdGFnIG9wdGlvbnNcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0gaW5uZXJIVE1MIC0gaHRtbCB0aGF0IGV2ZW50dWFsbHkgd2UgbmVlZCB0byBpbmplY3QgaW4gdGhlIHRhZ1xuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlVGFnKGltcGwsIGNvbmYsIGlubmVySFRNTCkge1xuICAgIGlmICggaW1wbCA9PT0gdm9pZCAwICkgaW1wbCA9IHt9O1xuICAgIGlmICggY29uZiA9PT0gdm9pZCAwICkgY29uZiA9IHt9O1xuXG4gICAgdmFyIHRhZyA9IGNvbmYuY29udGV4dCB8fCB7fTtcbiAgICB2YXIgb3B0cyA9IGNvbmYub3B0cyB8fCB7fTtcbiAgICB2YXIgcGFyZW50ID0gY29uZi5wYXJlbnQ7XG4gICAgdmFyIGlzTG9vcCA9IGNvbmYuaXNMb29wO1xuICAgIHZhciBpc0Fub255bW91cyA9ICEhY29uZi5pc0Fub255bW91cztcbiAgICB2YXIgc2tpcEFub255bW91cyA9IHNldHRpbmdzLnNraXBBbm9ueW1vdXNUYWdzICYmIGlzQW5vbnltb3VzO1xuICAgIHZhciBpdGVtID0gY29uZi5pdGVtO1xuICAgIC8vIGF2YWlsYWJsZSBvbmx5IGZvciB0aGUgbG9vcGVkIG5vZGVzXG4gICAgdmFyIGluZGV4ID0gY29uZi5pbmRleDtcbiAgICAvLyBBbGwgYXR0cmlidXRlcyBvbiB0aGUgVGFnIHdoZW4gaXQncyBmaXJzdCBwYXJzZWRcbiAgICB2YXIgaW5zdEF0dHJzID0gW107XG4gICAgLy8gZXhwcmVzc2lvbnMgb24gdGhpcyB0eXBlIG9mIFRhZ1xuICAgIHZhciBpbXBsQXR0cnMgPSBbXTtcbiAgICB2YXIgdG1wbCA9IGltcGwudG1wbDtcbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXTtcbiAgICB2YXIgcm9vdCA9IGNvbmYucm9vdDtcbiAgICB2YXIgdGFnTmFtZSA9IGNvbmYudGFnTmFtZSB8fCBnZXROYW1lKHJvb3QpO1xuICAgIHZhciBpc1ZpcnR1YWwgPSB0YWdOYW1lID09PSAndmlydHVhbCc7XG4gICAgdmFyIGlzSW5saW5lID0gIWlzVmlydHVhbCAmJiAhdG1wbDtcbiAgICB2YXIgZG9tO1xuXG4gICAgaWYgKGlzSW5saW5lIHx8IGlzTG9vcCAmJiBpc0Fub255bW91cykge1xuICAgICAgZG9tID0gcm9vdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFpc1ZpcnR1YWwpIHsgcm9vdC5pbm5lckhUTUwgPSAnJzsgfVxuICAgICAgZG9tID0gbWtkb20odG1wbCwgaW5uZXJIVE1MLCBpc1N2Zyhyb290KSk7XG4gICAgfVxuXG4gICAgLy8gbWFrZSB0aGlzIHRhZyBvYnNlcnZhYmxlXG4gICAgaWYgKCFza2lwQW5vbnltb3VzKSB7IG9ic2VydmFibGUodGFnKTsgfVxuXG4gICAgLy8gb25seSBjYWxsIHVubW91bnQgaWYgd2UgaGF2ZSBhIHZhbGlkIF9fVEFHX0lNUEwgKGhhcyBuYW1lIHByb3BlcnR5KVxuICAgIGlmIChpbXBsLm5hbWUgJiYgcm9vdC5fdGFnKSB7IHJvb3QuX3RhZy51bm1vdW50KHRydWUpOyB9XG5cbiAgICBkZWZpbmUodGFnLCAnX18nLCB7XG4gICAgICBpbXBsOiBpbXBsLFxuICAgICAgcm9vdDogcm9vdCxcbiAgICAgIHNraXBBbm9ueW1vdXM6IHNraXBBbm9ueW1vdXMsXG4gICAgICBpbXBsQXR0cnM6IGltcGxBdHRycyxcbiAgICAgIGlzQW5vbnltb3VzOiBpc0Fub255bW91cyxcbiAgICAgIGluc3RBdHRyczogaW5zdEF0dHJzLFxuICAgICAgaW5uZXJIVE1MOiBpbm5lckhUTUwsXG4gICAgICB0YWdOYW1lOiB0YWdOYW1lLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgaXNMb29wOiBpc0xvb3AsXG4gICAgICBpc0lubGluZTogaXNJbmxpbmUsXG4gICAgICBpdGVtOiBpdGVtLFxuICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAvLyB0YWdzIGhhdmluZyBldmVudCBsaXN0ZW5lcnNcbiAgICAgIC8vIGl0IHdvdWxkIGJlIGJldHRlciB0byB1c2Ugd2VhayBtYXBzIGhlcmUgYnV0IHdlIGNhbiBub3QgaW50cm9kdWNlIGJyZWFraW5nIGNoYW5nZXMgbm93XG4gICAgICBsaXN0ZW5lcnM6IFtdLFxuICAgICAgLy8gdGhlc2UgdmFycyB3aWxsIGJlIG5lZWRlZCBvbmx5IGZvciB0aGUgdmlydHVhbCB0YWdzXG4gICAgICB2aXJ0czogW10sXG4gICAgICB3YXNDcmVhdGVkOiBmYWxzZSxcbiAgICAgIHRhaWw6IG51bGwsXG4gICAgICBoZWFkOiBudWxsXG4gICAgfSk7XG5cbiAgICAvLyB0YWcgcHJvdGVjdGVkIHByb3BlcnRpZXNcbiAgICByZXR1cm4gW1xuICAgICAgWydpc01vdW50ZWQnLCBmYWxzZV0sXG4gICAgICAvLyBjcmVhdGUgYSB1bmlxdWUgaWQgdG8gdGhpcyB0YWdcbiAgICAgIC8vIGl0IGNvdWxkIGJlIGhhbmR5IHRvIHVzZSBpdCBhbHNvIHRvIGltcHJvdmUgdGhlIHZpcnR1YWwgZG9tIHJlbmRlcmluZyBzcGVlZFxuICAgICAgWydfcmlvdF9pZCcsIHVpZCgpXSxcbiAgICAgIFsncm9vdCcsIHJvb3RdLFxuICAgICAgWydvcHRzJywgb3B0cywgeyB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9XSxcbiAgICAgIFsncGFyZW50JywgcGFyZW50IHx8IG51bGxdLFxuICAgICAgLy8gcHJvdGVjdCB0aGUgXCJ0YWdzXCIgYW5kIFwicmVmc1wiIHByb3BlcnR5IGZyb20gYmVpbmcgb3ZlcnJpZGRlblxuICAgICAgWyd0YWdzJywge31dLFxuICAgICAgWydyZWZzJywge31dLFxuICAgICAgWyd1cGRhdGUnLCBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gY29tcG9uZW50VXBkYXRlKHRhZywgZGF0YSwgZXhwcmVzc2lvbnMpOyB9XSxcbiAgICAgIFsnbWl4aW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtaXhpbnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIG1peGluc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBjb21wb25lbnRNaXhpbi5hcHBseSh2b2lkIDAsIFsgdGFnIF0uY29uY2F0KCBtaXhpbnMgKSk7XG4gICAgfV0sXG4gICAgICBbJ21vdW50JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcG9uZW50TW91bnQodGFnLCBkb20sIGV4cHJlc3Npb25zLCBvcHRzKTsgfV0sXG4gICAgICBbJ3VubW91bnQnLCBmdW5jdGlvbiAobXVzdEtlZXBSb290KSB7IHJldHVybiB0YWdVbm1vdW50KHRhZywgbXVzdEtlZXBSb290LCBleHByZXNzaW9ucyk7IH1dXG4gICAgXS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcmVmKSB7XG4gICAgICB2YXIga2V5ID0gcmVmWzBdO1xuICAgICAgdmFyIHZhbHVlID0gcmVmWzFdO1xuICAgICAgdmFyIG9wdHMgPSByZWZbMl07XG5cbiAgICAgIGRlZmluZSh0YWcsIGtleSwgdmFsdWUsIG9wdHMpO1xuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIGV4dGVuZCh0YWcsIGl0ZW0pKVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdW50IGEgdGFnIGNyZWF0aW5nIG5ldyBUYWcgaW5zdGFuY2VcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSByb290IC0gZG9tIG5vZGUgd2hlcmUgdGhlIHRhZyB3aWxsIGJlIG1vdW50ZWRcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSB0YWdOYW1lIC0gbmFtZSBvZiB0aGUgcmlvdCB0YWcgd2Ugd2FudCB0byBtb3VudFxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IG9wdHMgLSBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIFRhZyBpbnN0YW5jZVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGN0eCAtIG9wdGlvbmFsIGNvbnRleHQgdGhhdCB3aWxsIGJlIHVzZWQgdG8gZXh0ZW5kIGFuIGV4aXN0aW5nIGNsYXNzICggdXNlZCBpbiByaW90LlRhZyApXG4gICAqIEByZXR1cm5zIHsgVGFnIH0gYSBuZXcgVGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBtb3VudCQxKHJvb3QsIHRhZ05hbWUsIG9wdHMsIGN0eCkge1xuICAgIHZhciBpbXBsID0gX19UQUdfSU1QTFt0YWdOYW1lXTtcbiAgICB2YXIgaW1wbENsYXNzID0gX19UQUdfSU1QTFt0YWdOYW1lXS5jbGFzcztcbiAgICB2YXIgY29udGV4dCA9IGN0eCB8fCAoaW1wbENsYXNzID8gY3JlYXRlKGltcGxDbGFzcy5wcm90b3R5cGUpIDoge30pO1xuICAgIC8vIGNhY2hlIHRoZSBpbm5lciBIVE1MIHRvIGZpeCAjODU1XG4gICAgdmFyIGlubmVySFRNTCA9IHJvb3QuX2lubmVySFRNTCA9IHJvb3QuX2lubmVySFRNTCB8fCByb290LmlubmVySFRNTDtcbiAgICB2YXIgY29uZiA9IGV4dGVuZCh7IHJvb3Q6IHJvb3QsIG9wdHM6IG9wdHMsIGNvbnRleHQ6IGNvbnRleHQgfSwgeyBwYXJlbnQ6IG9wdHMgPyBvcHRzLnBhcmVudCA6IG51bGwgfSk7XG4gICAgdmFyIHRhZztcblxuICAgIGlmIChpbXBsICYmIHJvb3QpIHsgdGFnID0gY3JlYXRlVGFnKGltcGwsIGNvbmYsIGlubmVySFRNTCk7IH1cblxuICAgIGlmICh0YWcgJiYgdGFnLm1vdW50KSB7XG4gICAgICB0YWcubW91bnQodHJ1ZSk7XG4gICAgICAvLyBhZGQgdGhpcyB0YWcgdG8gdGhlIHZpcnR1YWxEb20gdmFyaWFibGVcbiAgICAgIGlmICghY29udGFpbnMoX19UQUdTX0NBQ0hFLCB0YWcpKSB7IF9fVEFHU19DQUNIRS5wdXNoKHRhZyk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFnXG4gIH1cblxuXG5cbiAgdmFyIHRhZ3MgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgYXJyYXlpc2hBZGQ6IGFycmF5aXNoQWRkLFxuICAgIGdldFRhZ05hbWU6IGdldE5hbWUsXG4gICAgaW5oZXJpdFBhcmVudFByb3BzOiBpbmhlcml0UGFyZW50UHJvcHMsXG4gICAgbW91bnRUbzogbW91bnQkMSxcbiAgICBzZWxlY3RUYWdzOiBxdWVyeSxcbiAgICBhcnJheWlzaFJlbW92ZTogYXJyYXlpc2hSZW1vdmUsXG4gICAgZ2V0VGFnOiBnZXQsXG4gICAgaW5pdENoaWxkVGFnOiBpbml0Q2hpbGQsXG4gICAgbW92ZUNoaWxkVGFnOiBtb3ZlQ2hpbGQsXG4gICAgbWFrZVJlcGxhY2VWaXJ0dWFsOiBtYWtlUmVwbGFjZVZpcnR1YWwsXG4gICAgZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50VGFnOiBnZXRJbW1lZGlhdGVDdXN0b21QYXJlbnQsXG4gICAgbWFrZVZpcnR1YWw6IG1ha2VWaXJ0dWFsLFxuICAgIG1vdmVWaXJ0dWFsOiBtb3ZlVmlydHVhbCxcbiAgICB1bm1vdW50QWxsOiB1bm1vdW50QWxsLFxuICAgIGNyZWF0ZUlmRGlyZWN0aXZlOiBjcmVhdGVJZkRpcmVjdGl2ZSxcbiAgICBjcmVhdGVSZWZEaXJlY3RpdmU6IGNyZWF0ZVJlZkRpcmVjdGl2ZVxuICB9KTtcblxuICAvKipcbiAgICogUmlvdCBwdWJsaWMgYXBpXG4gICAqL1xuICB2YXIgc2V0dGluZ3MkMSA9IHNldHRpbmdzO1xuICB2YXIgdXRpbCA9IHtcbiAgICB0bXBsOiB0bXBsLFxuICAgIGJyYWNrZXRzOiBicmFja2V0cyxcbiAgICBzdHlsZU1hbmFnZXI6IHN0eWxlTWFuYWdlcixcbiAgICB2ZG9tOiBfX1RBR1NfQ0FDSEUsXG4gICAgc3R5bGVOb2RlOiBzdHlsZU1hbmFnZXIuc3R5bGVOb2RlLFxuICAgIC8vIGV4cG9ydCB0aGUgcmlvdCBpbnRlcm5hbCB1dGlscyBhcyB3ZWxsXG4gICAgZG9tOiBkb20sXG4gICAgY2hlY2s6IGNoZWNrLFxuICAgIG1pc2M6IG1pc2MsXG4gICAgdGFnczogdGFnc1xuICB9O1xuXG4gIC8vIGV4cG9ydCB0aGUgY29yZSBwcm9wcy9tZXRob2RzXG4gIHZhciBUYWckMSA9IFRhZztcbiAgdmFyIHRhZyQxID0gdGFnO1xuICB2YXIgdGFnMiQxID0gdGFnMjtcbiAgdmFyIG1vdW50JDIgPSBtb3VudDtcbiAgdmFyIG1peGluJDEgPSBtaXhpbjtcbiAgdmFyIHVwZGF0ZSQyID0gdXBkYXRlJDE7XG4gIHZhciB1bnJlZ2lzdGVyJDEgPSB1bnJlZ2lzdGVyO1xuICB2YXIgdmVyc2lvbiQxID0gdmVyc2lvbjtcbiAgdmFyIG9ic2VydmFibGUkMSA9IG9ic2VydmFibGU7XG5cbiAgdmFyIHJpb3QkMSA9IGV4dGVuZCh7fSwgY29yZSwge1xuICAgIG9ic2VydmFibGU6IG9ic2VydmFibGUsXG4gICAgc2V0dGluZ3M6IHNldHRpbmdzJDEsXG4gICAgdXRpbDogdXRpbCxcbiAgfSk7XG5cbiAgZXhwb3J0cy5zZXR0aW5ncyA9IHNldHRpbmdzJDE7XG4gIGV4cG9ydHMudXRpbCA9IHV0aWw7XG4gIGV4cG9ydHMuVGFnID0gVGFnJDE7XG4gIGV4cG9ydHMudGFnID0gdGFnJDE7XG4gIGV4cG9ydHMudGFnMiA9IHRhZzIkMTtcbiAgZXhwb3J0cy5tb3VudCA9IG1vdW50JDI7XG4gIGV4cG9ydHMubWl4aW4gPSBtaXhpbiQxO1xuICBleHBvcnRzLnVwZGF0ZSA9IHVwZGF0ZSQyO1xuICBleHBvcnRzLnVucmVnaXN0ZXIgPSB1bnJlZ2lzdGVyJDE7XG4gIGV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb24kMTtcbiAgZXhwb3J0cy5vYnNlcnZhYmxlID0gb2JzZXJ2YWJsZSQxO1xuICBleHBvcnRzLmRlZmF1bHQgPSByaW90JDE7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpKTtcbiIsImltcG9ydCByaW90IGZyb20gXCJyaW90XCI7XG5pbXBvcnQgJ3Jpb3QtaG90LXJlbG9hZCc7XG5pbXBvcnQgJy4vdGFncy9oZWxsby13b3JsZC50YWcnO1xuXG5yaW90Lm1vdW50KCdoZWxsby13b3JsZCcpOyIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgncmlvdCcpKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAncmlvdCddLCBmYWN0b3J5KSA6XG5cdChmYWN0b3J5KChnbG9iYWwucmlvdEhvdFJlbG9hZCA9IGdsb2JhbC5yaW90SG90UmVsb2FkIHx8IHt9KSxnbG9iYWwucmlvdCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMscmlvdCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBub25TdGF0ZSA9ICdpc01vdW50ZWQgb3B0cycuc3BsaXQoJyAnKTtcblxuZnVuY3Rpb24gcmVsb2FkKG5hbWUpIHtcbiAgcmlvdC51dGlsLnN0eWxlTWFuYWdlci5pbmplY3QoKTtcblxuICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKChuYW1lICsgXCIsIFtkYXRhLWlzPVwiICsgbmFtZSArIFwiXVwiKSk7XG4gIHZhciB0YWdzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbCA9IGVsZW1zW2ldLCBvbGRUYWcgPSBlbC5fdGFnLCB2O1xuICAgIHJlbG9hZC50cmlnZ2VyKCdiZWZvcmUtdW5tb3VudCcsIG9sZFRhZyk7XG4gICAgb2xkVGFnLnVubW91bnQodHJ1ZSk7IC8vIGRldGFjaCB0aGUgb2xkIHRhZ1xuXG4gICAgLy8gcmVzZXQgdGhlIGlubmVySFRNTCBhbmQgYXR0cmlidXRlcyB0byBob3cgdGhleSB3ZXJlIGJlZm9yZSBtb3VudFxuICAgIGVsLmlubmVySFRNTCA9IG9sZFRhZy5fXy5pbm5lckhUTUw7XG4gICAgKG9sZFRhZy5fXy5pbnN0QXR0cnMgfHwgW10pLm1hcChmdW5jdGlvbihhdHRyKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIGNvcHkgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIG5ldyB0YWdcbiAgICB2YXIgbmV3T3B0cyA9IHt9O1xuICAgIGZvcihrZXkgaW4gb2xkVGFnLm9wdHMpIHtcbiAgICAgIG5ld09wdHNba2V5XSA9IG9sZFRhZy5vcHRzW2tleV07XG4gICAgfVxuICAgIG5ld09wdHMucGFyZW50ID0gb2xkVGFnLnBhcmVudDtcblxuICAgIC8vIGNyZWF0ZSB0aGUgbmV3IHRhZ1xuICAgIHJlbG9hZC50cmlnZ2VyKCdiZWZvcmUtbW91bnQnLCBuZXdPcHRzLCBvbGRUYWcpO1xuICAgIHZhciBuZXdUYWcgPSByaW90Lm1vdW50KGVsLCBuZXdPcHRzKVswXTtcblxuICAgIC8vIGNvcHkgc3RhdGUgZnJvbSB0aGUgb2xkIHRvIG5ldyB0YWdcbiAgICBmb3IodmFyIGtleSBpbiBvbGRUYWcpIHtcbiAgICAgIHYgPSBvbGRUYWdba2V5XTtcbiAgICAgIGlmICh+bm9uU3RhdGUuaW5kZXhPZihrZXkpKSB7IGNvbnRpbnVlIH1cbiAgICAgIG5ld1RhZ1trZXldID0gdjtcbiAgICB9XG4gICAgbmV3VGFnLnVwZGF0ZSgpO1xuICAgIHRhZ3MucHVzaChuZXdUYWcpO1xuICAgIHJlbG9hZC50cmlnZ2VyKCdhZnRlci1tb3VudCcsIG5ld1RhZywgb2xkVGFnKTtcbiAgfVxuXG4gIHJldHVybiB0YWdzXG59XG5cbnJpb3Qub2JzZXJ2YWJsZShyZWxvYWQpO1xucmlvdC5yZWxvYWQgPSByZWxvYWQ7XG5pZiAocmlvdC5kZWZhdWx0KSB7IHJpb3QuZGVmYXVsdC5yZWxvYWQgPSByZWxvYWQ7IH1cblxuZXhwb3J0cy5yZWxvYWQgPSByZWxvYWQ7XG5leHBvcnRzWydkZWZhdWx0J10gPSByZWxvYWQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4iLCI8aGVsbG8td29ybGQ+XG4gIDwhLS0gSFRNTCAtLT5cblxuICA8aDM+SGVsbG8gZnJvbSB0aGUgSGVsbG8gV29ybGQgUmlvdCBUYWchITwvaDM+XG5cbjxzY3JpcHQ+XG4gICAgY29uc29sZS5sb2coXCJIZWxsbyBmcm9tIHRoZSBIZWxsbyBXb3JsZCBSaW90IFRhZ1wiKTtcbiAgPC9zY3JpcHQ+XG48L2hlbGxvLXdvcmxkPlxuXG4iXSwic291cmNlUm9vdCI6IiJ9