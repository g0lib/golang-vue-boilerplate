!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static",n(n.s=1)}([function(t,e,n){
/* Riot v3.13.2, @license MIT */
!function(t){"use strict";function e(t,e){return(e||document).querySelector(t)}var n,r,i=[],o={},a="yield",s="__global_mixin",u="riot-",l=["ref","data-ref"],c="data-is",f="if",p="each",d="no-reorder",h="show",g="hide",m="key",v="__riot-events__",y="string",_="object",b="undefined",x="function",w="http://www.w3.org/1999/xlink",A="http://www.w3.org/2000/svg",N=/^xlink:(\w+)/,O=typeof window===b?void 0:window,C=/^on/,k=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,T={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},j=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,E=0|(O&&O.document||{}).documentMode;function L(t){return"svg"===t?document.createElementNS(A,t):document.createElement(t)}function M(t,e,n){var r=N.exec(e);r&&r[1]?t.setAttributeNS(w,r[1],n):t.setAttribute(e,n)}var S,P,I={},R=!1;O&&(S=L("style"),P=e("style[type=riot]"),M(S,"type","text/css"),P?(P.id&&(S.id=P.id),P.parentNode.replaceChild(S,P)):document.head.appendChild(S),r=(n=S).styleSheet);var H={styleNode:n,add:function(t,e){I[e]=t,R=!0},inject:function(){if(O&&R){R=!1;var t=Object.keys(I).map(function(t){return I[t]}).join("\n");r?r.cssText=t:n.innerHTML=t}},remove:function(t){delete I[t],R=!0}},V=function(){var t="[{(,;:?=|&!^~>%*/",e=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],n=e.reduce(function(t,e){return t+e.slice(-1)},""),r=/^\/(?=[^*>\/])[^[\/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\\/]*)*?\/[gimuy]*/,i=/[$\w]/;function o(t,e){for(;--e>=0&&/\s/.test(t[e]););return e}return function(a,s){var u=/.*/g,l=u.lastIndex=s++,c=u.exec(a)[0].match(r);if(c){var f=l+c[0].length;l=o(a,l);var p=a[l];if(l<0||~t.indexOf(p))return f;if("."===p)"."===a[l-1]&&(s=f);else if("+"===p||"-"===p)(a[--l]!==p||(l=o(a,l))<0||!i.test(a[l]))&&(s=f);else if(~n.indexOf(p)){for(var d=l+1;--l>=0&&i.test(a[l]););~e.indexOf(a.slice(l+1,d))&&(s=f)}}return s}}(),$=function(t){var e,n,r="g",i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),s=/(?=[[\]()*+?.^$|])/g,u=i.source+"|"+/(\/)(?![*\/])/.source,l={"(":RegExp("([()])|"+u,r),"[":RegExp("([[\\]])|"+u,r),"{":RegExp("([{}])|"+u,r)},c="{ }",f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+u,r),c,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],p=void 0,d=[];function h(t){return t}function g(t,e){return e||(e=d),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function m(t){if(t===c)return f;var e=t.split(" ");if(2!==e.length||a.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(s,"\\").split(" ")))[4]=g(e[1].length>1?/{[\S\s]*?}/:f[4],e),e[5]=g(t.length>3?/\\({|})/g:f[5],e),e[6]=g(f[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+u,r),e[8]=t,e}function v(t){return t instanceof RegExp?e(t):d[t]}function y(t){(t||(t=c))!==d[8]&&(d=m(t),e=t===c?h:g,d[9]=e(f[9])),p=t}return v.split=function(t,e,n){n||(n=d);var r,i,o,a,s,u,c=[],f=n[6],p=[],h="";for(i=o=f.lastIndex=0;r=f.exec(t);){if(u=f.lastIndex,a=r.index,i){if(r[2]){var g=r[2],m=l[g],v=1;for(m.lastIndex=u;r=m.exec(t);)if(r[1]){if(r[1]===g)++v;else if(!--v)break}else m.lastIndex=_(r.index,m.lastIndex,r[2]);f.lastIndex=v?t.length:m.lastIndex;continue}if(!r[3]){f.lastIndex=_(a,u,r[4]);continue}}r[1]||(y(t.slice(o,a)),o=f.lastIndex,(f=n[6+(i^=1)]).lastIndex=o)}return t&&o<t.length&&y(t.slice(o)),c.qblocks=p,c;function y(t){h&&(t=h+t,h=""),e||i?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function _(n,r,i){return i&&(r=V(t,n)),e&&r>n+2&&(s="⁗"+p.length+"~",p.push(t.slice(n,r)),h+=t.slice(o,n)+s,o=r),r}},v.hasExpr=function(t){return d[4].test(t)},v.loopKeys=function(t){var e=t.match(d[9]);return e?{key:e[1],pos:e[2],val:d[0]+e[3].trim()+d[1]}:{val:t.trim()}},v.array=function(t){return t?m(t):d},Object.defineProperty(v,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:y,get:function(){return p},enumerable:!0}),n=t,y(e)},get:function(){return n}}),v.settings="undefined"!=typeof riot&&riot.settings||{},v.set=y,v.skipRegex=V,v.R_STRINGS=i,v.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,v.S_QBLOCKS=o,v.S_QBLOCK2=u,v}(),U=function(){var t={};function e(i,o){return i?(t[i]||(t[i]=function(t){var e=function(t){var e,i=$.split(t.replace(n,'"'),1),o=i.qblocks;if(i.length>2||i[0]){var s,u,l=[];for(s=u=0;s<i.length;++s)(e=i[s])&&(e=1&s?a(e,1,o):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(l[u++]=e);e=u<2?l[0]:"["+l.join(",")+'].join("")'}else e=a(i[1],0,o);return o.length&&(e=e.replace(r,function(t,e){return o[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}(i))).call(o,function(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},e.errorHandler?e.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:o,tmpl:i})):i}e.hasExpr=$.hasExpr,e.loopKeys=$.loopKeys,e.clearCache=function(){t={}},e.errorHandler=null;var n=/\u2057/g,r=/\u2057(\d+)~/g,i=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,o={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function a(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,a=[],s=0;t&&(r=t.match(i))&&!r.index;){var u,l,f=/,|([[{(])|$/g;for(t=RegExp.rightContext,u=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];l=(r=f.exec(t))[1];)p(l,f);l=t.slice(0,r.index),t=RegExp.rightContext,a[s++]=c(l,1,u)}t=s?s>1?"["+a.join(",")+'].join(" ").trim()':a[0]:c(t,e)}return t;function p(e,n){var r,i=1,a=o[e];for(a.lastIndex=n.lastIndex;r=a.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:a.lastIndex}}var s='"in this?this:'+("object"!=typeof window?"global":"window")+").",u=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,l=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function c(t,e,n){var r;return t=t.replace(u,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+s+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!l.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}return e.version=$.version="v3.0.8",e}(),B=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],a=0;i=o&&o[a];++a)i==r&&o.splice(a--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){return t.on(e,function r(){t.off(e,r),n.apply(t,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,a,s=arguments,u=arguments.length-1,l=new Array(u);for(a=0;a<u;a++)l[a]=s[a+1];for(i=n.call(e[r]||[],0),a=0;o=i[a];++a)o.apply(t,l);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(l)),t},enumerable:!1,writable:!1,configurable:!1}}),t};function z(t,e){return Object.getOwnPropertyDescriptor(t,e)}function D(t){return typeof t===b}function F(t,e){var n=z(t,e);return D(t[e])||n&&n.writable}function q(t){for(var e,n=1,r=arguments,i=r.length;n<i;n++)if(e=r[n])for(var o in e)F(t,o)&&(t[o]=e[o]);return t}function K(t){return Object.create(t)}var W=q(K($.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0});function Z(t,e){return[].slice.call((e||document).querySelectorAll(t))}function G(){return document.createTextNode("")}function Q(t,e){t.style.display=e?"":"none",t.hidden=!e}function J(t,e){return t.getAttribute(e)}function X(t,e){t.removeAttribute(e)}function Y(t,e,n){if(n){var r=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+A+'">'+e+"</svg>","application/xml").documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function tt(t,e){if(t)for(var n;n=k.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function et(){return document.createDocumentFragment()}function nt(t,e,n){t.insertBefore(e,n.parentNode&&n)}function rt(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function it(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,it(t,e,i),t=r}}var ot=Object.freeze({$$:Z,$:e,createDOMPlaceholder:G,mkEl:L,setAttr:M,toggleVisibility:Q,getAttr:J,remAttr:X,setInnerHTML:Y,walkAttrs:tt,createFrag:et,safeInsert:nt,styleObjectToString:rt,walkNodes:it});function at(t){return D(t)||null===t}function st(t){return at(t)||""===t}function ut(t){return typeof t===x}function lt(t){return t&&typeof t===_}function ct(t){var e=t.ownerSVGElement;return!!e||null===e}function ft(t){return Array.isArray(t)||t instanceof Array}function pt(t){return j.test(t)}function dt(t){return typeof t===y}var ht=Object.freeze({isBlank:st,isFunction:ut,isObject:lt,isSvg:ct,isWritable:F,isArray:ft,isBoolAttr:pt,isNil:at,isString:dt,isUndefined:D});function gt(t,e){return-1!==t.indexOf(e)}function mt(t,e){for(var n=t?t.length:0,r=0;r<n;r++)e(t[r],r);return t}function vt(t,e){return t.slice(0,e.length)===e}var yt,_t=(yt=-1,function(){return++yt});function bt(t,e,n,r){return Object.defineProperty(t,e,q({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function xt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function wt(t){console&&console.warn&&console.warn(t)}var At=Object.freeze({contains:gt,each:mt,getPropDescriptor:z,startsWith:vt,uid:_t,defineProperty:bt,objectCreate:K,extend:q,toCamel:xt,warn:wt});function Nt(t,e,n,r,i){var o=t[e],a=ft(o),s=!D(i);if(!o||o!==n)if(!o&&r)t[e]=[n];else if(o)if(a){var u=o.indexOf(n);if(u===i)return;-1!==u&&o.splice(u,1),s?o.splice(i,0,n):o.push(n)}else t[e]=[o,n];else t[e]=n}function Ot(t){return t.tagName&&o[J(t,c)||J(t,c)||t.tagName.toLowerCase()]}function Ct(t,e){var n=Ot(t),r=!e&&J(t,c);return r&&!U.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function kt(){return this.parent?q(K(this),this.parent):this}var Tt=/<yield\b/i,jt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Et=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Lt=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Mt={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},St=E&&E<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Pt="div",It="svg";function Rt(t,n,r){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),a=L(r?It:Pt);return t=function(t,e){if(!Tt.test(t))return t;var n={};return e=e&&e.replace(Et,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(Lt,function(t,e,r){return n[e]||r||""}).replace(jt,function(t,n){return e||n||""})}(t,n),St.test(o)?a=function(t,n,r){var i="o"===r[0],o=i?"select>":"table>";if(t.innerHTML="<"+o+n.trim()+"</"+o,o=t.firstChild,i)o.selectedIndex=-1;else{var a=Mt[r];a&&1===o.childElementCount&&(o=e(a,o))}return o}(a,t,o):Y(a,t,r),a}var Ht=/^on/;function Vt(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function $t(t,e,n,r){var i,o=function(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(F(n,"currentTarget")&&(n.currentTarget=t),F(n,"target")&&(n.target=n.srcElement),F(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),W.autoUpdate&&!n.preventUpdate){var o=Vt(this);o.isMounted&&o.update()}}.bind(r,n,e);n[t]=null,i=t.replace(C,""),gt(r.__.listeners,n)||r.__.listeners.push(n),n[v]||(n[v]={}),n[v][t]&&n.removeEventListener(i,n[v][t]),n[v][t]=o,n.addEventListener(i,o,!1)}function Ut(t,e,n,r){var i=ye(t,e,n),o=e.tagName||Ct(e.root,!0),a=Vt(r);return bt(i,"parent",a),i.__.parent=r,Nt(a.tags,o,i),a!==r&&Nt(r.tags,o,i),i}function Bt(t,e,n,r){if(ft(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else t[e]===n&&delete t[e]}function zt(t,e){var n,r,i=G(),o=G(),a=et();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=r=i,this.__.tail=o;r;)n=r.nextSibling,a.appendChild(r),this.__.virts.push(r),r=n;e?t.insertBefore(a,e.__.head):t.appendChild(a)}function Dt(t,e){if(e.parentNode){var n=et();zt.call(t,n),e.parentNode.replaceChild(n,e)}}function Ft(t){if(!this.root||!J(this.root,"virtualized")){var e,n=t.dom,r=function(t){return t?(t=t.replace(u,""),T[t]&&(t=T[t]),t):null}(t.attr),i=gt([h,g],r),a=t.root&&"VIRTUAL"===t.root.tagName,s=this.__,l=s.isAnonymous,c=n&&(t.parent||n.parentNode),f=W.keepValueAttributes,p="style"===r,d="class"===r,m="value"===r;if(t._riot_id)t.__.wasCreated?t.update():(t.mount(),a&&Dt(t,t.root));else{if(t.update)return t.update();var v=i&&!l?kt.call(this):this,y=!st(e=U(t.expr,v)),_=lt(e);if(_&&(d?e=U(JSON.stringify(e),this):p&&(e=rt(e))),!t.attr||t.wasParsedOnce&&!1!==e&&(y||m&&(!m||f))||X(n,J(n,t.attr)?t.attr:r),t.bool&&(e=!!e&&r),t.isRtag)return function(t,e,n){var r,i=t.tag||t.dom._tag,a=(i?i.__:{}).head,s="VIRTUAL"===t.dom.tagName;i&&t.tagName===n?i.update():(i&&(s&&(r=G(),a.parentNode.insertBefore(r,a)),i.unmount(!0)),dt(n)&&(t.impl=o[n],t.impl&&(t.tag=i=Ut(t.impl,{root:t.dom,parent:e,tagName:n},t.dom.innerHTML,e),mt(t.attrs,function(t){return M(i.root,t.name,t.value)}),t.tagName=n,i.mount(),s&&Dt(i,r||i.root),e.__.onUnmount=function(){var t=i.opts.dataIs;Bt(i.parent.tags,t,i),Bt(i.__.parent.tags,t,i),i.unmount()})))}(t,this,e);if((!t.wasParsedOnce||t.value!==e)&&(t.value=e,t.wasParsedOnce=!0,!_||d||p||i)){if(y||(e=""),!r)return e+="",void(c&&(t.parent=c,"TEXTAREA"===c.tagName?(c.value=e,E||(n.nodeValue=e)):n.nodeValue=e));switch(!0){case ut(e):b=r,Ht.test(b)&&$t(r,e,n,this);break;case i:Q(n,r===g?!e:e);break;default:t.bool&&(n[r]=e),m&&n.value!==e?n.value=e:y&&!1!==e&&M(n,r,e),p&&n.hidden&&Q(n,!1)}var b}}}}function qt(t){mt(t,Ft.bind(this))}function Kt(t,e,n,r,i){if(!t||!n){var o=t?kt.call(this):e||this;mt(i,function(t){t.expr&&Ft.call(o,t.expr),r[xt(t.name).replace(u,"")]=t.expr?t.expr.value:t.value})}}function Wt(t){if(!t){var e=Object.keys(o);return e+Wt(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+c+'="'+n+'"]'},"")}function Zt(t,e){var n=this.name,r=this.tmpl,i=this.css,a=this.attrs,s=this.onCreate;return o[n]||(Gt(n,r,i,a,s),o[n].class=this.constructor),_e(t,n,e,this),i&&H.inject(),this}function Gt(t,e,n,r,i){return ut(r)&&(i=r,/^[\w-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(ut(n)?i=n:H.add(n,t)),t=t.toLowerCase(),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Qt(t,e,n,r,i){return n&&H.add(n,t),o[t]={name:t,tmpl:e,attrs:r,fn:i},t}function Jt(t,e,n){var r,i,o=[];if(H.inject(),(lt(e)||ut(e))&&(n=e,e=0),dt(t)?(t="*"===t?i=Wt():t+Wt(t.split(/, */)),r=t?Z(t):[]):r=t,"*"===e){if(e=i||Wt(),r.tagName)r=Z(e,r);else{var a=[];mt(r,function(t){return a.push(Z(e,t))}),r=a}e=0}return function t(r){if(r.tagName){var i,a=J(r,c);e&&a!==e&&(a=e,M(r,c,e)),(i=_e(r,a||r.tagName.toLowerCase(),ut(n)?n():n))&&o.push(i)}else r.length&&mt(r,t)}(r),o}var Xt={},Yt=Xt[s]={},te=0;function ee(t,e,n){if(lt(t))ee("__"+te+++"__",t,!0);else{var r=n?Yt:Xt;if(!e){if(D(r[t]))throw new Error("Unregistered mixin: "+t);return r[t]}r[t]=ut(e)?q(e.prototype,r[t]||{})&&e:q(r[t]||{},e)}}function ne(){return mt(i,function(t){return t.update()})}function re(t){return H.remove(t),delete o[t]}var ie=Object.freeze({Tag:Zt,tag:Gt,tag2:Qt,mount:Jt,mixin:ee,update:ne,unregister:re,version:"v3.13.2"});function oe(t,e){var n,r=this.parent;r&&(ft(n=r.tags[t])?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):Nt(r.tags,t,this))}function ae(t,e){for(var n,r=this.__.head,i=et();r;)if(n=r.nextSibling,i.appendChild(r),(r=n)===this.__.tail){i.appendChild(r),t.insertBefore(i,e.__.head);break}}function se(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function ue(t,e){t.splice(e,1),this.unmount(),Bt(this.parent,this,this.__.tagName,!0)}function le(t,e,n){var r=typeof J(t,d)!==y||X(t,d),i=J(t,m),a=!!i&&U.hasExpr(i),s=Ct(t),u=o[s],l=t.parentNode,c=G(),h=Ot(t),g=J(t,f),v=[],b=t.innerHTML,x=!o[s],w="VIRTUAL"===t.tagName,A=[];return X(t,p),X(t,m),(n=U.loopKeys(n)).isLoop=!0,g&&X(t,f),l.insertBefore(c,t),l.removeChild(t),n.update=function(){n.value=U(n.val,e);var o=n.value,l=et(),f=!ft(o)&&!dt(o),p=c.parentNode,d=[],m=f&&!!o;if(p){f&&(o=o?Object.keys(o).map(function(t){return se(n,o[t],t)}):[]);var y=0;mt(o,function(c,N){var O=N-y,C=!m&&n.key?se(n,c,N):c;if(!g||U(g,q(K(e),C))){var k=function(t,e,n,r){return t?r?U(t,n):e[t]:e}(i,c,C,a),T=!f&&r&&typeof c===_||i,j=A.indexOf(k),E=-1===j,L=!E&&T?j:O,M=v[L],S=O>=A.length,P=T&&E||!T&&!M||!v[O];P?((M=ye(u,{parent:e,isLoop:!0,isAnonymous:x,tagName:s,root:t.cloneNode(x),item:C,index:O},b)).mount(),S?function(t,e){e?zt.call(this,t):t.appendChild(this.root)}.apply(M,[l||p,w]):function(t,e,n){n?zt.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(M,[p,v[O],w]),S||A.splice(O,0,C),v.splice(O,0,M),h&&Nt(e.tags,s,M,!0)):L!==O&&T&&((i||gt(o,A[L]))&&(function(t,e,n){n?ae.apply(this,[t,e]):nt(t,this.root,e.root)}.apply(M,[p,v[O],w]),v.splice(O,0,v.splice(L,1)[0]),A.splice(O,0,A.splice(L,1)[0])),n.pos&&(M[n.pos]=O),!h&&M.tags&&function(t){var e=this;mt(Object.keys(this.tags),function(n){oe.apply(e.tags[n],[n,t])})}.call(M,O)),q(M.__,{item:C,index:O,parent:e}),d[O]=k,P||M.update(C)}else y++}),function(t,e,n){for(var r=e.length,i=t.length-n;r>i;)r--,ue.apply(e[r],[e,r])}(o,v,y),A=d.slice(),p.insertBefore(l,c)}},n.unmount=function(){mt(v,function(t){t.unmount()})},n}var ce={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=U.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&Vt(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?U(this.rawValue,this.parent):this.rawValue,!st(t)&&e&&Bt(e.refs,t,n),!st(this.value)&&dt(this.value)?(e&&Nt(e.refs,this.value,n,null,this.parent.__.index),this.value!==t&&M(this.dom,this.attr,this.value)):X(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&Vt(this.parent);!st(this.value)&&e&&Bt(e.refs,this.value,t)}};function fe(t,e,n,r){return K(ce).init(t,e,n,r)}function pe(t){mt(t,function(t){t.unmount?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}var de={init:function(t,e,n){X(t,f),q(this,{tag:e,expr:n,stub:G(),pristine:t});var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=U(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ge.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&qt.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),pe(this.expressions||[])}};function he(t,e,n){return K(de).init(t,e,n)}function ge(t,e){var n=this,r=[];return it(t,function(i){var o,a,s=i.nodeType;if((e||i!==t)&&(3===s&&"STYLE"!==i.parentNode.tagName&&U.hasExpr(i.nodeValue)&&r.push({dom:i,expr:i.nodeValue}),1===s)){var u="VIRTUAL"===i.tagName;if(o=J(i,p))return u&&M(i,"loopVirtual",!0),r.push(le(i,n,o)),!1;if(o=J(i,f))return r.push(he(i,n,o)),!1;if((o=J(i,c))&&U.hasExpr(o))return r.push({isRtag:!0,expr:o,dom:i,attrs:[].slice.call(i.attributes)}),!1;if(a=Ot(i),u&&(J(i,"virtualized")&&i.parentElement.removeChild(i),a||J(i,"virtualized")||J(i,"loopVirtual")||(a={tmpl:i.outerHTML})),a&&(i!==t||e)){var l=J(i,c);if(!u||l)return l&&u&&wt("Virtual tags shouldn't be used together with the \""+c+'" attribute - https://github.com/riot/riot/issues/2511'),r.push(Ut(a,{root:i,parent:n},i.innerHTML,n)),!1;M(i,"virtualized",!0);var d=ye({tmpl:i.outerHTML},{root:i,parent:n},i.innerHTML);r.push(d)}me.apply(n,[i,i.attributes,function(t,e){e&&r.push(e)}])}}),r}function me(t,e,n){var r=this;mt(e,function(e){if(!e)return!1;var i,o=e.name,s=pt(o);gt(l,o)&&t.tagName.toLowerCase()!==a?i=fe(t,r,o,e.value):U.hasExpr(e.value)&&(i={dom:t,expr:e.value,attr:o,bool:s}),n(e,i)})}function ve(t){var e=this.__,n=e.isAnonymous,r=e.skipAnonymous;bt(this,"isMounted",t),n&&r||(t?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function ye(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var r,o=e.context||{},a=e.opts||{},l=e.parent,c=e.isLoop,f=!!e.isAnonymous,p=W.skipAnonymousTags&&f,d=e.item,h=e.index,g=t.tmpl,m=[],y=e.root,_=e.tagName||Ct(y),b="virtual"===_,x=!b&&!g;return x||c&&f?r=y:(b||(y.innerHTML=""),r=Rt(g,n,ct(y))),p||B(o),t.name&&y._tag&&y._tag.unmount(!0),bt(o,"__",{impl:t,root:y,skipAnonymous:p,implAttrs:[],isAnonymous:f,instAttrs:[],innerHTML:n,tagName:_,index:h,isLoop:c,isInline:x,item:d,parent:l,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",_t()],["root",y],["opts",a,{writable:!0,enumerable:!0}],["parent",l||null],["tags",{}],["refs",{}],["update",function(t){return function(t,e,n){var r=t.__,i={},o=t.isMounted&&!r.skipAnonymous;return r.isAnonymous&&r.parent&&q(t,r.parent),q(t,e),Kt.apply(t,[r.isLoop,r.parent,r.isAnonymous,i,r.instAttrs]),o&&t.isMounted&&ut(t.shouldUpdate)&&!t.shouldUpdate(e,i)?t:(q(t.opts,i),o&&t.trigger("update",e),qt.call(t,n),o&&t.trigger("updated"),t)}(o,t,m)}],["mixin",function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return mt(e,function(e){var n,r,i=[],o=["init","__proto__"];e=dt(e)?ee(e):e,n=ut(e)?new e:e;var a=Object.getPrototypeOf(n);do{i=i.concat(Object.getOwnPropertyNames(r||n))}while(r=Object.getPrototypeOf(r||n));mt(i,function(e){if(!gt(o,e)){var r=z(n,e)||z(a,e),i=r&&(r.get||r.set);!t.hasOwnProperty(e)&&i?Object.defineProperty(t,e,r):t[e]=ut(n[e])?n[e].bind(t):n[e]}}),n.init&&n.init.bind(t)(t.opts)}),t}.apply(void 0,[o].concat(t))}],["mount",function(){return function(t,e,n,r){var i=t.__,o=i.root;o._tag=t,me.apply(i.parent,[o,o.attributes,function(e,n){!i.isAnonymous&&ce.isPrototypeOf(n)&&(n.tag=t),e.expr=n,i.instAttrs.push(e)}]),tt(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})}),me.apply(t,[o,i.implAttrs,function(t,e){e?n.push(e):M(o,t.name,t.value)}]),Kt.apply(t,[i.isLoop,i.parent,i.isAnonymous,r,i.instAttrs]);var a=ee(s);if(a&&!i.skipAnonymous)for(var u in a)a.hasOwnProperty(u)&&t.mixin(a[u]);if(i.impl.fn&&i.impl.fn.call(t,r),i.skipAnonymous||t.trigger("before-mount"),mt(ge.apply(t,[e,i.isAnonymous]),function(t){return n.push(t)}),t.update(i.item),!i.isAnonymous&&!i.isInline)for(;e.firstChild;)o.appendChild(e.firstChild);if(bt(t,"root",o),!i.skipAnonymous&&t.parent){var l=Vt(t.parent);l.one(l.isMounted?"updated":"mount",function(){ve.call(t,!0)})}else ve.call(t,!0);return t.__.wasCreated=!0,t}(o,r,m,a)}],["unmount",function(t){return function(t,e,n){var r=t.__,o=r.root,a=i.indexOf(t),s=o.parentNode;if(r.skipAnonymous||t.trigger("before-unmount"),tt(r.impl.attrs,function(t){vt(t,u)&&(t=t.slice(u.length)),X(o,t)}),t.__.listeners.forEach(function(t){Object.keys(t[v]).forEach(function(e){t.removeEventListener(e,t[v][e])})}),-1!==a&&i.splice(a,1),r.parent&&!r.isAnonymous){var l=Vt(r.parent);r.isVirtual?Object.keys(t.tags).forEach(function(e){return Bt(l.tags,e,t.tags[e])}):Bt(l.tags,r.tagName,t)}return t.__.virts&&mt(t.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),pe(n),mt(r.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),e?Y(o,""):s&&s.removeChild(o),r.onUnmount&&r.onUnmount(),t.isMounted||ve.call(t,!0),ve.call(t,!1),delete o._tag,t}(o,t,m)}]].reduce(function(t,e){var n=e[0],r=e[1],i=e[2];return bt(o,n,r,i),t},q(o,d))}function _e(t,e,n,r){var a,s=o[e],u=o[e].class,l=r||(u?K(u.prototype):{}),c=t._innerHTML=t._innerHTML||t.innerHTML,f=q({root:t,opts:n,context:l},{parent:n?n.parent:null});return s&&t&&(a=ye(s,f,c)),a&&a.mount&&(a.mount(!0),gt(i,a)||i.push(a)),a}var be=Object.freeze({arrayishAdd:Nt,getTagName:Ct,inheritParentProps:kt,mountTo:_e,selectTags:Wt,arrayishRemove:Bt,getTag:Ot,initChildTag:Ut,moveChildTag:oe,makeReplaceVirtual:Dt,getImmediateCustomParentTag:Vt,makeVirtual:zt,moveVirtual:ae,unmountAll:pe,createIfDirective:he,createRefDirective:fe}),xe=W,we={tmpl:U,brackets:$,styleManager:H,vdom:i,styleNode:H.styleNode,dom:ot,check:ht,misc:At,tags:be},Ae=Zt,Ne=Gt,Oe=Qt,Ce=Jt,ke=ee,Te=ne,je=re,Ee=B,Le=q({},ie,{observable:B,settings:xe,util:we});t.settings=xe,t.util=we,t.Tag=Ae,t.tag=Ne,t.tag2=Oe,t.mount=Ce,t.mixin=ke,t.update=Te,t.unregister=je,t.version="v3.13.2",t.observable=Ee,t.default=Le,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){n(2),t.exports=n(5)},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r);n(3),n(4);i.a.mount("hello-world")},function(t,e,n){!function(t,e){"use strict";var n="isMounted opts".split(" ");function r(t){e.util.styleManager.inject();for(var i=document.querySelectorAll(t+", [data-is="+t+"]"),o=[],a=0;a<i.length;a++){var s,u=i[a],l=u._tag;r.trigger("before-unmount",l),l.unmount(!0),u.innerHTML=l.__.innerHTML,(l.__.instAttrs||[]).map(function(t){u.setAttribute(t.name,t.value)});var c={};for(p in l.opts)c[p]=l.opts[p];c.parent=l.parent,r.trigger("before-mount",c,l);var f=e.mount(u,c)[0];for(var p in l)s=l[p],~n.indexOf(p)||(f[p]=s);f.update(),o.push(f),r.trigger("after-mount",f,l)}return o}e.observable(r),e.reload=r,e.default&&(e.default.reload=r),t.reload=r,t.default=r,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(0))},function(t,e,n){n(0).tag2("hello-world","<h3>Hello from the Hello World Riot Tag!!</h3>","","",function(t){console.log("Hello from the Hello World Riot Tag")})},function(t,e,n){t.exports=n.p+"main.css"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jpb3QvcmlvdC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jpb3QtaG90LXJlbG9hZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvdGFncy9oZWxsby13b3JsZC50YWciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL3Nhc3MvbWFpbi5zY3NzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiJCIsInNlbGVjdG9yIiwiY3R4IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGVOb2RlIiwiY3NzVGV4dFByb3AiLCJfX1RBR1NfQ0FDSEUiLCJfX1RBR19JTVBMIiwiWUlFTERfVEFHIiwiR0xPQkFMX01JWElOIiwiQVRUUlNfUFJFRklYIiwiUkVGX0RJUkVDVElWRVMiLCJJU19ESVJFQ1RJVkUiLCJDT05ESVRJT05BTF9ESVJFQ1RJVkUiLCJMT09QX0RJUkVDVElWRSIsIkxPT1BfTk9fUkVPUkRFUl9ESVJFQ1RJVkUiLCJTSE9XX0RJUkVDVElWRSIsIkhJREVfRElSRUNUSVZFIiwiS0VZX0RJUkVDVElWRSIsIlJJT1RfRVZFTlRTX0tFWSIsIlRfU1RSSU5HIiwiVF9PQkpFQ1QiLCJUX1VOREVGIiwiVF9GVU5DVElPTiIsIlhMSU5LX05TIiwiU1ZHX05TIiwiWExJTktfUkVHRVgiLCJXSU4iLCJ3aW5kb3ciLCJ1bmRlZmluZWQiLCJSRV9FVkVOVFNfUFJFRklYIiwiUkVfSFRNTF9BVFRSUyIsIkNBU0VfU0VOU0lUSVZFX0FUVFJJQlVURVMiLCJ2aWV3Ym94IiwicHJlc2VydmVhc3BlY3RyYXRpbyIsIlJFX0JPT0xfQVRUUlMiLCJJRV9WRVJTSU9OIiwiZG9jdW1lbnRNb2RlIiwibWFrZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZG9tIiwidmFsIiwieGxpbmsiLCJleGVjIiwic2V0QXR0cmlidXRlTlMiLCJuZXdOb2RlIiwidXNlck5vZGUiLCJieU5hbWUiLCJuZWVkc0luamVjdCIsImlkIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInN0eWxlU2hlZXQiLCJzdHlsZU1hbmFnZXIiLCJhZGQiLCJjc3MiLCJpbmplY3QiLCJzdHlsZSIsImtleXMiLCJtYXAiLCJrIiwiam9pbiIsImNzc1RleHQiLCJpbm5lckhUTUwiLCJyZW1vdmUiLCJza2lwUmVnZXgiLCJiZWZvcmVSZUNoYXJzIiwiYmVmb3JlUmVXb3JkcyIsIndvcmRzTGFzdENoYXIiLCJyZWR1Y2UiLCJ3Iiwic2xpY2UiLCJSRV9SRUdFWCIsIlJFX1ZOX0NIQVIiLCJwcmV2IiwiY29kZSIsInBvcyIsInRlc3QiLCJzdGFydCIsInJlIiwibGFzdEluZGV4IiwibWF0Y2giLCJuZXh0IiwibGVuZ3RoIiwiaW5kZXhPZiIsImVuZCIsImJyYWNrZXRzIiwiVU5ERUYiLCJfcmVnZXgiLCJfc2V0dGluZ3MiLCJSRUdMT0IiLCJSX1NUUklOR1MiLCJTX1FCTE9DS1MiLCJzb3VyY2UiLCJVTlNVUFBPUlRFRCIsIlJlZ0V4cCIsIk5FRURfRVNDQVBFIiwiU19RQkxPQ0syIiwiRklOREJSQUNFUyIsIigiLCJbIiwieyIsIkRFRkFVTFQiLCJfcGFpcnMiLCJjYWNoZWRCcmFja2V0cyIsIl9jYWNoZSIsIl9sb29wYmFjayIsIl9yZXdyaXRlIiwiYnAiLCJyZXBsYWNlIiwiZ2xvYmFsIiwiX2NyZWF0ZSIsInBhaXIiLCJhcnIiLCJzcGxpdCIsIkVycm9yIiwiY29uY2F0IiwiX2JyYWNrZXRzIiwicmVPcklkeCIsIl9yZXNldCIsInN0ciIsInRtcGwiLCJfYnAiLCJpc2V4cHIiLCJtYXJrIiwicGFydHMiLCJxYmxvY2tzIiwicHJldlN0ciIsImluZGV4IiwiY2giLCJyZWNoIiwiaXgiLCJwdXNoUUJsb2NrIiwidW5lc2NhcGVTdHIiLCJwdXNoIiwiX3BvcyIsIl9sYXN0SW5kZXgiLCJzbGFzaCIsImhhc0V4cHIiLCJsb29wS2V5cyIsImV4cHIiLCJ0cmltIiwiYXJyYXkiLCJzZXQiLCJiIiwic2V0dGluZ3MiLCJyaW90IiwiUl9NTENPTU1TIiwiX3RtcGwiLCJkYXRhIiwiUkVfRFFVT1RFIiwicXN0ciIsImoiLCJsaXN0IiwiX3BhcnNlRXhwciIsIlJFX1FCTUFSSyIsIl8iLCJfZ2V0VG1wbCIsIkZ1bmN0aW9uIiwiZXJyIiwicmlvdERhdGEiLCJ0YWdOYW1lIiwiX18iLCJfcmlvdF9pZCIsImVycm9ySGFuZGxlciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJsb2ciLCJ0aGlzIiwiY2xlYXJDYWNoZSIsIlJFX0NTTkFNRSIsIlJFX0JSRU5EIiwiYXNUZXh0IiwiY250IiwianNiIiwicmlnaHRDb250ZXh0Iiwic2tpcEJyYWNlcyIsIl93cmFwRXhwciIsIm1tIiwibHYiLCJpciIsIkpTX0NPTlRFWFQiLCJKU19WQVJOQU1FIiwiSlNfTk9QUk9QUyIsInRiIiwibXZhciIsInZlcnNpb24iLCJvYnNlcnZhYmxlIiwiZWwiLCJjYWxsYmFja3MiLCJBcnJheSIsImRlZmluZVByb3BlcnRpZXMiLCJvbiIsImV2ZW50IiwiZm4iLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIm9mZiIsImNiIiwic3BsaWNlIiwib25lIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0cmlnZ2VyIiwiZm5zIiwiYXJndW1lbnRzJDEiLCJhcmdsZW4iLCJhcmdzIiwiZ2V0UHJvcERlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJpc1VuZGVmaW5lZCIsImlzV3JpdGFibGUiLCJvYmoiLCJkZXNjcmlwdG9yIiwiZXh0ZW5kIiwic3JjIiwic2tpcEFub255bW91c1RhZ3MiLCJrZWVwVmFsdWVBdHRyaWJ1dGVzIiwiYXV0b1VwZGF0ZSIsIiQkIiwicXVlcnlTZWxlY3RvckFsbCIsImNyZWF0ZURPTVBsYWNlaG9sZGVyIiwiY3JlYXRlVGV4dE5vZGUiLCJ0b2dnbGVWaXNpYmlsaXR5Iiwic2hvdyIsImRpc3BsYXkiLCJoaWRkZW4iLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRJbm5lckhUTUwiLCJjb250YWluZXIiLCJodG1sIiwiaXNTdmciLCJub2RlIiwib3duZXJEb2N1bWVudCIsImltcG9ydE5vZGUiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJkb2N1bWVudEVsZW1lbnQiLCJ3YWxrQXR0cmlidXRlcyIsInRvTG93ZXJDYXNlIiwiY3JlYXRlRnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50Iiwic2FmZUluc2VydCIsInJvb3QiLCJjdXJyIiwiaW5zZXJ0QmVmb3JlIiwic3R5bGVPYmplY3RUb1N0cmluZyIsImFjYyIsInByb3AiLCJ3YWxrTm9kZXMiLCJjb250ZXh0IiwicmVzIiwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwiZnJlZXplIiwibWtFbCIsInNldEF0dHIiLCJnZXRBdHRyIiwicmVtQXR0ciIsIndhbGtBdHRycyIsImNyZWF0ZUZyYWciLCJpc05pbCIsImlzQmxhbmsiLCJpc0Z1bmN0aW9uIiwiaXNPYmplY3QiLCJvd25lciIsIm93bmVyU1ZHRWxlbWVudCIsImlzQXJyYXkiLCJpc0Jvb2xBdHRyIiwiaXNTdHJpbmciLCJjaGVjayIsImNvbnRhaW5zIiwiaXRlbSIsImVhY2giLCJsZW4iLCJzdGFydHNXaXRoIiwidWlkIiwiZGVmaW5lIiwib3B0aW9ucyIsInRvQ2FtZWwiLCJ0b1VwcGVyQ2FzZSIsIndhcm4iLCJtaXNjIiwib2JqZWN0Q3JlYXRlIiwiYXJyYXlpc2hBZGQiLCJlbnN1cmVBcnJheSIsImRlc3QiLCJpc0FyciIsImhhc0luZGV4Iiwib2xkSW5kZXgiLCJnZXROYW1lIiwic2tpcERhdGFJcyIsImNoaWxkIiwibmFtZWRUYWciLCJpbmhlcml0UGFyZW50UHJvcHMiLCJwYXJlbnQiLCJyZUhhc1lpZWxkIiwicmVZaWVsZEFsbCIsInJlWWllbGRTcmMiLCJyZVlpZWxkRGVzdCIsInJvb3RFbHMiLCJ0ciIsInRoIiwidGQiLCJjb2wiLCJ0YmxUYWdzIiwiR0VORVJJQyIsIlNWRyIsIm1rZG9tIiwicmVmIiwidGV4dCIsImRlZiIsInJlcGxhY2VZaWVsZCIsInNlbGVjdCIsInNlbGVjdGVkSW5kZXgiLCJ0bmFtZSIsImNoaWxkRWxlbWVudENvdW50Iiwic3BlY2lhbFRhZ3MiLCJFVkVOVF9BVFRSX1JFIiwiZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50IiwidGFnIiwicHRhZyIsImlzQW5vbnltb3VzIiwic2V0RXZlbnRIYW5kbGVyIiwiaGFuZGxlciIsImV2ZW50TmFtZSIsImUiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsIndoaWNoIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwicHJldmVudFVwZGF0ZSIsImlzTW91bnRlZCIsInVwZGF0ZSIsImxpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdENoaWxkIiwib3B0cyIsImNyZWF0ZVRhZyIsInRhZ3MiLCJhcnJheWlzaFJlbW92ZSIsIm1ha2VWaXJ0dWFsIiwic2liIiwidGFpbCIsImZyYWciLCJ2aXJ0cyIsIm1ha2VSZXBsYWNlVmlydHVhbCIsInVwZGF0ZUV4cHJlc3Npb24iLCJhdHRyTmFtZSIsIm5vcm1hbGl6ZUF0dHJOYW1lIiwiYXR0ciIsImlzVG9nZ2xlIiwiaXNWaXJ0dWFsIiwiaXNTdHlsZUF0dHIiLCJpc0NsYXNzQXR0ciIsImlzVmFsdWVBdHRyIiwid2FzQ3JlYXRlZCIsIm1vdW50IiwiaGFzVmFsdWUiLCJpc09iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3YXNQYXJzZWRPbmNlIiwiYm9vbCIsImlzUnRhZyIsIl90YWciLCJ1bm1vdW50IiwiaW1wbCIsImF0dHJzIiwiYSIsIm9uVW5tb3VudCIsImRlbE5hbWUiLCJkYXRhSXMiLCJ1cGRhdGVEYXRhSXMiLCJub2RlVmFsdWUiLCJhdHRyaWJ1dGUiLCJleHByZXNzaW9ucyIsInVwZGF0ZU9wdHMiLCJpc0xvb3AiLCJpbnN0QXR0cnMiLCJxdWVyeSIsImZpbHRlciIsIlRhZyIsIm9uQ3JlYXRlIiwiY2xhc3MiLCJjb25zdHJ1Y3RvciIsIm1vdW50JDEiLCJ0YWcyIiwiZWxlbSIsImFsbFRhZ3MiLCJub2RlTGlzdCIsIl9lbCIsInB1c2hUYWdzVG8iLCJyaW90VGFnIiwibWl4aW5zIiwiZ2xvYmFscyIsIm1peGluc19pZCIsIm1peGluIiwibWl4IiwiZyIsInN0b3JlIiwidXBkYXRlJDEiLCJ1bnJlZ2lzdGVyIiwiY29yZSIsIm1vdmVDaGlsZCIsIm5ld1BvcyIsIm1vdmVWaXJ0dWFsIiwibWtpdGVtIiwiX2VhY2giLCJtdXN0UmVvcmRlciIsImtleUF0dHIiLCJoYXNLZXlBdHRyRXhwciIsInBsYWNlaG9sZGVyIiwiaWZFeHByIiwib2xkSXRlbXMiLCJyZW1vdmVDaGlsZCIsIml0ZW1zIiwidG1wSXRlbXMiLCJoYXNLZXlzIiwiZmlsdGVyZWRJdGVtc0NvdW50IiwiX2l0ZW0iLCJpdGVtSWQiLCJvcmlnaW5hbEl0ZW0iLCJrZXllZEl0ZW0iLCJnZXRJdGVtSWQiLCJkb1Jlb3JkZXIiLCJvbGRQb3MiLCJpc05ldyIsIm11c3RBcHBlbmQiLCJtdXN0Q3JlYXRlIiwiY2xvbmVOb2RlIiwibmV4dFRhZyIsInRoaXMkMSIsInVubW91bnRSZWR1bmRhbnQiLCJSZWZFeHByIiwiaW5pdCIsImF0dHJWYWx1ZSIsInJhd1ZhbHVlIiwiaGFzRXhwIiwib2xkIiwiY3VzdG9tUGFyZW50IiwidGFnT3JEb20iLCJfX3JlZiIsInJlZnMiLCJjcmVhdGVSZWZEaXJlY3RpdmUiLCJ1bm1vdW50QWxsIiwiSWZFeHByIiwic3R1YiIsInByaXN0aW5lIiwiY3VycmVudCIsInBhcnNlRXhwcmVzc2lvbnMiLCJjcmVhdGVJZkRpcmVjdGl2ZSIsIm11c3RJbmNsdWRlUm9vdCIsInRhZ0ltcGwiLCJ0eXBlIiwibm9kZVR5cGUiLCJhdHRyaWJ1dGVzIiwicGFyZW50RWxlbWVudCIsIm91dGVySFRNTCIsImhhc0lzRGlyZWN0aXZlIiwicGFyc2VBdHRyaWJ1dGVzIiwic2V0TW91bnRTdGF0ZSIsInNraXBBbm9ueW1vdXMiLCJjb25mIiwiaXNJbmxpbmUiLCJpbXBsQXR0cnMiLCJuZXh0T3B0cyIsImNhblRyaWdnZXIiLCJzaG91bGRVcGRhdGUiLCJjb21wb25lbnRVcGRhdGUiLCJ0YWckJDEiLCJpbnN0YW5jZSIsInByb3BzIiwicHJvcHNCbGFja2xpc3QiLCJwcm90byIsImdldFByb3RvdHlwZU9mIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImhhc0dldHRlclNldHRlciIsImlzUHJvdG90eXBlT2YiLCJ2IiwiZ2xvYmFsTWl4aW4iLCJjb21wb25lbnRNb3VudCIsIm11c3RLZWVwUm9vdCIsInRhZ0luZGV4IiwiZm9yRWFjaCIsInRhZ1VubW91bnQiLCJpbXBsQ2xhc3MiLCJfaW5uZXJIVE1MIiwiZ2V0VGFnTmFtZSIsIm1vdW50VG8iLCJzZWxlY3RUYWdzIiwiZ2V0VGFnIiwiaW5pdENoaWxkVGFnIiwibW92ZUNoaWxkVGFnIiwiZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50VGFnIiwic2V0dGluZ3MkMSIsInV0aWwiLCJ2ZG9tIiwiVGFnJDEiLCJ0YWckMSIsInRhZzIkMSIsIm1vdW50JDIiLCJtaXhpbiQxIiwidXBkYXRlJDIiLCJ1bnJlZ2lzdGVyJDEiLCJvYnNlcnZhYmxlJDEiLCJyaW90JDEiLCJkZWZhdWx0IiwiZmFjdG9yeSIsIl9fd2VicGFja19leHBvcnRzX18iLCJyaW90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJyaW90X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsIm5vblN0YXRlIiwicmVsb2FkIiwiZWxlbXMiLCJvbGRUYWciLCJuZXdPcHRzIiwibmV3VGFnIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMs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U0FDQXBYLEVBQUE4VyxVQUFtQjlXLEVBQUE4VyxRQUFBTSxVQUVuQjdpQixFQUFBNmlCLFNBQ0E3aUIsRUFBQSxRQUFBNmlCLEVBRUFqaUIsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q21CLE9BQUEsSUF4RGVxaEIsQ0FBQXhpQixFQUFvQkYsRUFBUSxxQkNPekZBLEVBQUEsK0pDUkFHLEVBQUFELFFBQWlCRixFQUFBa0MsRUFBdUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3N0YXRpY1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvKiBSaW90IHYzLjEzLjIsIEBsaWNlbnNlIE1JVCAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZmFjdG9yeSgoZ2xvYmFsLnJpb3QgPSB7fSkpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogU2hvcnRlciBhbmQgZmFzdCB3YXkgdG8gc2VsZWN0IGEgc2luZ2xlIG5vZGUgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHNlbGVjdG9yIC0gdW5pcXVlIGRvbSBzZWxlY3RvclxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGN0eCAtIERPTSBub2RlIHdoZXJlIHRoZSB0YXJnZXQgb2Ygb3VyIHNlYXJjaCB3aWxsIGlzIGxvY2F0ZWRcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBkb20gbm9kZSBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gJChzZWxlY3RvciwgY3R4KSB7XG4gICAgcmV0dXJuIChjdHggfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gIH1cblxuICB2YXJcbiAgICAvLyBiZSBhd2FyZSwgaW50ZXJuYWwgdXNhZ2VcbiAgICAvLyBBVFRFTlRJT046IHByZWZpeCB0aGUgZ2xvYmFsIGR5bmFtaWMgdmFyaWFibGVzIHdpdGggYF9fYFxuICAgIC8vIHRhZ3MgaW5zdGFuY2VzIGNhY2hlXG4gICAgX19UQUdTX0NBQ0hFID0gW10sXG4gICAgLy8gdGFncyBpbXBsZW1lbnRhdGlvbiBjYWNoZVxuICAgIF9fVEFHX0lNUEwgPSB7fSxcbiAgICBZSUVMRF9UQUcgPSAneWllbGQnLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RcbiAgICAgKi9cbiAgICBHTE9CQUxfTUlYSU4gPSAnX19nbG9iYWxfbWl4aW4nLFxuXG4gICAgLy8gcmlvdCBzcGVjaWZpYyBwcmVmaXhlcyBvciBhdHRyaWJ1dGVzXG4gICAgQVRUUlNfUFJFRklYID0gJ3Jpb3QtJyxcblxuICAgIC8vIFJpb3QgRGlyZWN0aXZlc1xuICAgIFJFRl9ESVJFQ1RJVkVTID0gWydyZWYnLCAnZGF0YS1yZWYnXSxcbiAgICBJU19ESVJFQ1RJVkUgPSAnZGF0YS1pcycsXG4gICAgQ09ORElUSU9OQUxfRElSRUNUSVZFID0gJ2lmJyxcbiAgICBMT09QX0RJUkVDVElWRSA9ICdlYWNoJyxcbiAgICBMT09QX05PX1JFT1JERVJfRElSRUNUSVZFID0gJ25vLXJlb3JkZXInLFxuICAgIFNIT1dfRElSRUNUSVZFID0gJ3Nob3cnLFxuICAgIEhJREVfRElSRUNUSVZFID0gJ2hpZGUnLFxuICAgIEtFWV9ESVJFQ1RJVkUgPSAna2V5JyxcbiAgICBSSU9UX0VWRU5UU19LRVkgPSAnX19yaW90LWV2ZW50c19fJyxcblxuICAgIC8vIGZvciB0eXBlb2YgPT0gJycgY29tcGFyaXNvbnNcbiAgICBUX1NUUklORyA9ICdzdHJpbmcnLFxuICAgIFRfT0JKRUNUID0gJ29iamVjdCcsXG4gICAgVF9VTkRFRiAgPSAndW5kZWZpbmVkJyxcbiAgICBUX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJyxcblxuICAgIFhMSU5LX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICAgIFNWR19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsXG4gICAgWExJTktfUkVHRVggPSAvXnhsaW5rOihcXHcrKS8sXG5cbiAgICBXSU4gPSB0eXBlb2Ygd2luZG93ID09PSBUX1VOREVGID8gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdW5kZWZpbmVkIDogd2luZG93LFxuXG4gICAgLy8gc3BlY2lhbCBuYXRpdmUgdGFncyB0aGF0IGNhbm5vdCBiZSB0cmVhdGVkIGxpa2UgdGhlIG90aGVyc1xuICAgIFJFX1NQRUNJQUxfVEFHUyA9IC9eKD86dCg/OmJvZHl8aGVhZHxmb290fFtyaGRdKXxjYXB0aW9ufGNvbCg/Omdyb3VwKT98b3B0KD86aW9ufGdyb3VwKSkkLyxcbiAgICBSRV9TUEVDSUFMX1RBR1NfTk9fT1BUSU9OID0gL14oPzp0KD86Ym9keXxoZWFkfGZvb3R8W3JoZF0pfGNhcHRpb258Y29sKD86Z3JvdXApPykkLyxcbiAgICBSRV9FVkVOVFNfUFJFRklYID0gL15vbi8sXG4gICAgUkVfSFRNTF9BVFRSUyA9IC8oWy1cXHddKykgPz0gPyg/OlwiKFteXCJdKil8JyhbXiddKil8KHtbXn1dKn0pKS9nLFxuICAgIC8vIHNvbWUgRE9NIGF0dHJpYnV0ZXMgbXVzdCBiZSBub3JtYWxpemVkXG4gICAgQ0FTRV9TRU5TSVRJVkVfQVRUUklCVVRFUyA9IHtcbiAgICAgICd2aWV3Ym94JzogJ3ZpZXdCb3gnLFxuICAgICAgJ3ByZXNlcnZlYXNwZWN0cmF0aW8nOiAncHJlc2VydmVBc3BlY3RSYXRpbydcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgYm9vbGVhbiBIVE1MIGF0dHJpYnV0ZXMgaW4gdGhlIHJpb3QgdGFnIGRlZmluaXRpb24uXG4gICAgICogV2l0aCBhIGxvbmcgbGlzdCBsaWtlIHRoaXMsIGEgcmVnZXggaXMgZmFzdGVyIHRoYW4gYFtdLmluZGV4T2ZgIGluIG1vc3QgYnJvd3NlcnMuXG4gICAgICogQGNvbnN0IHtSZWdFeHB9XG4gICAgICogQHNlZSBbYXR0cmlidXRlcy5tZF0oaHR0cHM6Ly9naXRodWIuY29tL3Jpb3QvY29tcGlsZXIvYmxvYi9kZXYvZG9jL2F0dHJpYnV0ZXMubWQpXG4gICAgICovXG4gICAgUkVfQk9PTF9BVFRSUyA9IC9eKD86ZGlzYWJsZWR8Y2hlY2tlZHxyZWFkb25seXxyZXF1aXJlZHxhbGxvd2Z1bGxzY3JlZW58YXV0byg/OmZvY3VzfHBsYXkpfGNvbXBhY3R8Y29udHJvbHN8ZGVmYXVsdHxmb3Jtbm92YWxpZGF0ZXxoaWRkZW58aXNtYXB8aXRlbXNjb3BlfGxvb3B8bXVsdGlwbGV8bXV0ZWR8bm8oPzpyZXNpemV8c2hhZGV8dmFsaWRhdGV8d3JhcCk/fG9wZW58cmV2ZXJzZWR8c2VhbWxlc3N8c2VsZWN0ZWR8c29ydGFibGV8dHJ1ZXNwZWVkfHR5cGVtdXN0bWF0Y2gpJC8sXG4gICAgLy8gdmVyc2lvbiMgZm9yIElFIDgtMTEsIDAgZm9yIG90aGVyc1xuICAgIElFX1ZFUlNJT04gPSAoV0lOICYmIFdJTi5kb2N1bWVudCB8fCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7fSkuZG9jdW1lbnRNb2RlIHwgMDtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgZ2VuZXJpYyBET00gbm9kZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IG5hbWUgLSBuYW1lIG9mIHRoZSBET00gbm9kZSB3ZSB3YW50IHRvIGNyZWF0ZVxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IERPTSBub2RlIGp1c3QgY3JlYXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZUVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBuYW1lID09PSAnc3ZnJyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsIG5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbnkgRE9NIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0geyBPYmplY3QgfSBkb20gLSBET00gbm9kZSB3ZSB3YW50IHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSBuYW1lIC0gbmFtZSBvZiB0aGUgcHJvcGVydHkgd2Ugd2FudCB0byBzZXRcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0gdmFsIC0gdmFsdWUgb2YgdGhlIHByb3BlcnR5IHdlIHdhbnQgdG8gc2V0XG4gICAqL1xuICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUoZG9tLCBuYW1lLCB2YWwpIHtcbiAgICB2YXIgeGxpbmsgPSBYTElOS19SRUdFWC5leGVjKG5hbWUpO1xuICAgIGlmICh4bGluayAmJiB4bGlua1sxXSlcbiAgICAgIHsgZG9tLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TLCB4bGlua1sxXSwgdmFsKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWwpOyB9XG4gIH1cblxuICB2YXIgc3R5bGVOb2RlO1xuICAvLyBDcmVhdGUgY2FjaGUgYW5kIHNob3J0Y3V0IHRvIHRoZSBjb3JyZWN0IHByb3BlcnR5XG4gIHZhciBjc3NUZXh0UHJvcDtcbiAgdmFyIGJ5TmFtZSA9IHt9O1xuICB2YXIgbmVlZHNJbmplY3QgPSBmYWxzZTtcblxuICAvLyBza2lwIHRoZSBmb2xsb3dpbmcgY29kZSBvbiB0aGUgc2VydmVyXG4gIGlmIChXSU4pIHtcbiAgICBzdHlsZU5vZGUgPSAoKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBzdHlsZSBlbGVtZW50IHdpdGggdGhlIGNvcnJlY3QgdHlwZVxuICAgICAgdmFyIG5ld05vZGUgPSBtYWtlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIC8vIHJlcGxhY2UgYW55IHVzZXIgbm9kZSBvciBpbnNlcnQgdGhlIG5ldyBvbmUgaW50byB0aGUgaGVhZFxuICAgICAgdmFyIHVzZXJOb2RlID0gJCgnc3R5bGVbdHlwZT1yaW90XScpO1xuXG4gICAgICBzZXRBdHRyaWJ1dGUobmV3Tm9kZSwgJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAodXNlck5vZGUpIHtcbiAgICAgICAgaWYgKHVzZXJOb2RlLmlkKSB7IG5ld05vZGUuaWQgPSB1c2VyTm9kZS5pZDsgfVxuICAgICAgICB1c2VyTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdOb2RlLCB1c2VyTm9kZSk7XG4gICAgICB9IGVsc2UgeyBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld05vZGUpOyB9XG5cbiAgICAgIHJldHVybiBuZXdOb2RlXG4gICAgfSkpKCk7XG4gICAgY3NzVGV4dFByb3AgPSBzdHlsZU5vZGUuc3R5bGVTaGVldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYmplY3QgdGhhdCB3aWxsIGJlIHVzZWQgdG8gaW5qZWN0IGFuZCBtYW5hZ2UgdGhlIGNzcyBvZiBldmVyeSB0YWcgaW5zdGFuY2VcbiAgICovXG4gIHZhciBzdHlsZU1hbmFnZXIgPSB7XG4gICAgc3R5bGVOb2RlOiBzdHlsZU5vZGUsXG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHRhZyBzdHlsZSB0byBiZSBsYXRlciBpbmplY3RlZCBpbnRvIERPTVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNzcyAtIGNzcyBzdHJpbmdcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBuYW1lIC0gaWYgaXQncyBwYXNzZWQgd2Ugd2lsbCBtYXAgdGhlIGNzcyB0byBhIHRhZ25hbWVcbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChjc3MsIG5hbWUpIHtcbiAgICAgIGJ5TmFtZVtuYW1lXSA9IGNzcztcbiAgICAgIG5lZWRzSW5qZWN0ID0gdHJ1ZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEluamVjdCBhbGwgcHJldmlvdXNseSBzYXZlZCB0YWcgc3R5bGVzIGludG8gRE9NXG4gICAgICogaW5uZXJIVE1MIHNlZW1zIHNsb3c6IGh0dHA6Ly9qc3BlcmYuY29tL3Jpb3QtaW5zZXJ0LXN0eWxlXG4gICAgICovXG4gICAgaW5qZWN0OiBmdW5jdGlvbiBpbmplY3QoKSB7XG4gICAgICBpZiAoIVdJTiB8fCAhbmVlZHNJbmplY3QpIHsgcmV0dXJuIH1cbiAgICAgIG5lZWRzSW5qZWN0ID0gZmFsc2U7XG4gICAgICB2YXIgc3R5bGUgPSBPYmplY3Qua2V5cyhieU5hbWUpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGJ5TmFtZVtrXTsgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChjc3NUZXh0UHJvcCkgeyBjc3NUZXh0UHJvcC5jc3NUZXh0ID0gc3R5bGU7IH1cbiAgICAgIGVsc2UgeyBzdHlsZU5vZGUuaW5uZXJIVE1MID0gc3R5bGU7IH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdGFnIHN0eWxlIG9mIGluamVjdGVkIERPTSBsYXRlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBhIHJlZ2lzdGVyZWQgdGFnbmFtZVxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSBieU5hbWVbbmFtZV07XG4gICAgICBuZWVkc0luamVjdCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgcmlvdCB0ZW1wbGF0ZSBlbmdpbmVcbiAgICogQHZlcnNpb24gdjMuMC44XG4gICAqL1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHZhciBza2lwUmVnZXggPSAoZnVuY3Rpb24gKCkgeyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIHZhciBiZWZvcmVSZUNoYXJzID0gJ1t7KCw7Oj89fCYhXn4+JSovJztcblxuICAgIHZhciBiZWZvcmVSZVdvcmRzID0gW1xuICAgICAgJ2Nhc2UnLFxuICAgICAgJ2RlZmF1bHQnLFxuICAgICAgJ2RvJyxcbiAgICAgICdlbHNlJyxcbiAgICAgICdpbicsXG4gICAgICAnaW5zdGFuY2VvZicsXG4gICAgICAncHJlZml4JyxcbiAgICAgICdyZXR1cm4nLFxuICAgICAgJ3R5cGVvZicsXG4gICAgICAndm9pZCcsXG4gICAgICAneWllbGQnXG4gICAgXTtcblxuICAgIHZhciB3b3Jkc0xhc3RDaGFyID0gYmVmb3JlUmVXb3Jkcy5yZWR1Y2UoZnVuY3Rpb24gKHMsIHcpIHtcbiAgICAgIHJldHVybiBzICsgdy5zbGljZSgtMSlcbiAgICB9LCAnJyk7XG5cbiAgICB2YXIgUkVfUkVHRVggPSAvXlxcLyg/PVteKj4vXSlbXlsvXFxcXF0qKD86KD86XFxcXC58XFxbKD86XFxcXC58W15cXF1cXFxcXSopKlxcXSlbXltcXFxcL10qKSo/XFwvW2dpbXV5XSovO1xuICAgIHZhciBSRV9WTl9DSEFSID0gL1skXFx3XS87XG5cbiAgICBmdW5jdGlvbiBwcmV2IChjb2RlLCBwb3MpIHtcbiAgICAgIHdoaWxlICgtLXBvcyA+PSAwICYmIC9cXHMvLnRlc3QoY29kZVtwb3NdKSl7IH1cbiAgICAgIHJldHVybiBwb3NcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc2tpcFJlZ2V4IChjb2RlLCBzdGFydCkge1xuXG4gICAgICB2YXIgcmUgPSAvLiovZztcbiAgICAgIHZhciBwb3MgPSByZS5sYXN0SW5kZXggPSBzdGFydCsrO1xuICAgICAgdmFyIG1hdGNoID0gcmUuZXhlYyhjb2RlKVswXS5tYXRjaChSRV9SRUdFWCk7XG5cbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICB2YXIgbmV4dCA9IHBvcyArIG1hdGNoWzBdLmxlbmd0aDtcblxuICAgICAgICBwb3MgPSBwcmV2KGNvZGUsIHBvcyk7XG4gICAgICAgIHZhciBjID0gY29kZVtwb3NdO1xuXG4gICAgICAgIGlmIChwb3MgPCAwIHx8IH5iZWZvcmVSZUNoYXJzLmluZGV4T2YoYykpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09ICcuJykge1xuXG4gICAgICAgICAgaWYgKGNvZGVbcG9zIC0gMV0gPT09ICcuJykge1xuICAgICAgICAgICAgc3RhcnQgPSBuZXh0O1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICcrJyB8fCBjID09PSAnLScpIHtcblxuICAgICAgICAgIGlmIChjb2RlWy0tcG9zXSAhPT0gYyB8fFxuICAgICAgICAgICAgICAocG9zID0gcHJldihjb2RlLCBwb3MpKSA8IDAgfHxcbiAgICAgICAgICAgICAgIVJFX1ZOX0NIQVIudGVzdChjb2RlW3Bvc10pKSB7XG4gICAgICAgICAgICBzdGFydCA9IG5leHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAofndvcmRzTGFzdENoYXIuaW5kZXhPZihjKSkge1xuXG4gICAgICAgICAgdmFyIGVuZCA9IHBvcyArIDE7XG5cbiAgICAgICAgICB3aGlsZSAoLS1wb3MgPj0gMCAmJiBSRV9WTl9DSEFSLnRlc3QoY29kZVtwb3NdKSl7IH1cbiAgICAgICAgICBpZiAofmJlZm9yZVJlV29yZHMuaW5kZXhPZihjb2RlLnNsaWNlKHBvcyArIDEsIGVuZCkpKSB7XG4gICAgICAgICAgICBzdGFydCA9IG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGFydFxuICAgIH1cblxuICAgIHJldHVybiBfc2tpcFJlZ2V4XG5cbiAgfSkoKTtcblxuICAvKipcbiAgICogcmlvdC51dGlsLmJyYWNrZXRzXG4gICAqXG4gICAqIC0gYGJyYWNrZXRzICAgIGAgLSBSZXR1cm5zIGEgc3RyaW5nIG9yIHJlZ2V4IGJhc2VkIG9uIGl0cyBwYXJhbWV0ZXJcbiAgICogLSBgYnJhY2tldHMuc2V0YCAtIENoYW5nZSB0aGUgY3VycmVudCByaW90IGJyYWNrZXRzXG4gICAqXG4gICAqIEBtb2R1bGVcbiAgICovXG5cbiAgLyogZ2xvYmFsIHJpb3QgKi9cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB2YXIgYnJhY2tldHMgPSAoZnVuY3Rpb24gKFVOREVGKSB7XG5cbiAgICB2YXJcbiAgICAgIFJFR0xPQiA9ICdnJyxcblxuICAgICAgUl9NTENPTU1TID0gL1xcL1xcKlteKl0qXFwqKyg/OlteKlxcL11bXipdKlxcKispKlxcLy9nLFxuXG4gICAgICBSX1NUUklOR1MgPSAvXCJbXlwiXFxcXF0qKD86XFxcXFtcXFNcXHNdW15cIlxcXFxdKikqXCJ8J1teJ1xcXFxdKig/OlxcXFxbXFxTXFxzXVteJ1xcXFxdKikqJ3xgW15gXFxcXF0qKD86XFxcXFtcXFNcXHNdW15gXFxcXF0qKSpgL2csXG5cbiAgICAgIFNfUUJMT0NLUyA9IFJfU1RSSU5HUy5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAvKD86XFxicmV0dXJuXFxzK3woPzpbJFxcd1xcKVxcXV18XFwrXFwrfC0tKVxccyooXFwvKSg/IVsqXFwvXSkpLy5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAvXFwvKD89W14qXFwvXSlbXltcXC9cXFxcXSooPzooPzpcXFsoPzpcXFxcLnxbXlxcXVxcXFxdKikqXFxdfFxcXFwuKVteW1xcL1xcXFxdKikqPyhbXjxdXFwvKVtnaW1dKi8uc291cmNlLFxuXG4gICAgICBVTlNVUFBPUlRFRCA9IFJlZ0V4cCgnW1xcXFwnICsgJ3gwMC1cXFxceDFGPD5hLXpBLVowLTlcXCdcIiw7XFxcXFxcXFxdJyksXG5cbiAgICAgIE5FRURfRVNDQVBFID0gLyg/PVtbXFxdKCkqKz8uXiR8XSkvZyxcblxuICAgICAgU19RQkxPQ0syID0gUl9TVFJJTkdTLnNvdXJjZSArICd8JyArIC8oXFwvKSg/IVsqXFwvXSkvLnNvdXJjZSxcblxuICAgICAgRklOREJSQUNFUyA9IHtcbiAgICAgICAgJygnOiBSZWdFeHAoJyhbKCldKXwnICAgKyBTX1FCTE9DSzIsIFJFR0xPQiksXG4gICAgICAgICdbJzogUmVnRXhwKCcoW1tcXFxcXV0pfCcgKyBTX1FCTE9DSzIsIFJFR0xPQiksXG4gICAgICAgICd7JzogUmVnRXhwKCcoW3t9XSl8JyAgICsgU19RQkxPQ0syLCBSRUdMT0IpXG4gICAgICB9LFxuXG4gICAgICBERUZBVUxUID0gJ3sgfSc7XG5cbiAgICB2YXIgX3BhaXJzID0gW1xuICAgICAgJ3snLCAnfScsXG4gICAgICAneycsICd9JyxcbiAgICAgIC97W159XSp9LyxcbiAgICAgIC9cXFxcKFt7fV0pL2csXG4gICAgICAvXFxcXCh7KXx7L2csXG4gICAgICBSZWdFeHAoJ1xcXFxcXFxcKH0pfChbWyh7XSl8KH0pfCcgKyBTX1FCTE9DSzIsIFJFR0xPQiksXG4gICAgICBERUZBVUxULFxuICAgICAgL15cXHMqe1xcXj9cXHMqKFskXFx3XSspKD86XFxzKixcXHMqKFxcUyspKT9cXHMraW5cXHMrKFxcUy4qKVxccyp9LyxcbiAgICAgIC8oXnxbXlxcXFxdKXs9W1xcU1xcc10qP30vXG4gICAgXTtcblxuICAgIHZhclxuICAgICAgY2FjaGVkQnJhY2tldHMgPSBVTkRFRixcbiAgICAgIF9yZWdleCxcbiAgICAgIF9jYWNoZSA9IFtdLFxuICAgICAgX3NldHRpbmdzO1xuXG4gICAgZnVuY3Rpb24gX2xvb3BiYWNrIChyZSkgeyByZXR1cm4gcmUgfVxuXG4gICAgZnVuY3Rpb24gX3Jld3JpdGUgKHJlLCBicCkge1xuICAgICAgaWYgKCFicCkgeyBicCA9IF9jYWNoZTsgfVxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXG4gICAgICAgIHJlLnNvdXJjZS5yZXBsYWNlKC97L2csIGJwWzJdKS5yZXBsYWNlKC99L2csIGJwWzNdKSwgcmUuZ2xvYmFsID8gUkVHTE9CIDogJydcbiAgICAgIClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY3JlYXRlIChwYWlyKSB7XG4gICAgICBpZiAocGFpciA9PT0gREVGQVVMVCkgeyByZXR1cm4gX3BhaXJzIH1cblxuICAgICAgdmFyIGFyciA9IHBhaXIuc3BsaXQoJyAnKTtcblxuICAgICAgaWYgKGFyci5sZW5ndGggIT09IDIgfHwgVU5TVVBQT1JURUQudGVzdChwYWlyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGJyYWNrZXRzIFwiJyArIHBhaXIgKyAnXCInKVxuICAgICAgfVxuICAgICAgYXJyID0gYXJyLmNvbmNhdChwYWlyLnJlcGxhY2UoTkVFRF9FU0NBUEUsICdcXFxcJykuc3BsaXQoJyAnKSk7XG5cbiAgICAgIGFycls0XSA9IF9yZXdyaXRlKGFyclsxXS5sZW5ndGggPiAxID8gL3tbXFxTXFxzXSo/fS8gOiBfcGFpcnNbNF0sIGFycik7XG4gICAgICBhcnJbNV0gPSBfcmV3cml0ZShwYWlyLmxlbmd0aCA+IDMgPyAvXFxcXCh7fH0pL2cgOiBfcGFpcnNbNV0sIGFycik7XG4gICAgICBhcnJbNl0gPSBfcmV3cml0ZShfcGFpcnNbNl0sIGFycik7XG4gICAgICBhcnJbN10gPSBSZWdFeHAoJ1xcXFxcXFxcKCcgKyBhcnJbM10gKyAnKXwoW1soe10pfCgnICsgYXJyWzNdICsgJyl8JyArIFNfUUJMT0NLMiwgUkVHTE9CKTtcbiAgICAgIGFycls4XSA9IHBhaXI7XG4gICAgICByZXR1cm4gYXJyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2JyYWNrZXRzIChyZU9ySWR4KSB7XG4gICAgICByZXR1cm4gcmVPcklkeCBpbnN0YW5jZW9mIFJlZ0V4cCA/IF9yZWdleChyZU9ySWR4KSA6IF9jYWNoZVtyZU9ySWR4XVxuICAgIH1cblxuICAgIF9icmFja2V0cy5zcGxpdCA9IGZ1bmN0aW9uIHNwbGl0IChzdHIsIHRtcGwsIF9icCkge1xuICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHQ6IF9icCBpcyBmb3IgdGhlIGNvbXBpbGVyXG4gICAgICBpZiAoIV9icCkgeyBfYnAgPSBfY2FjaGU7IH1cblxuICAgICAgdmFyXG4gICAgICAgIHBhcnRzID0gW10sXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBpc2V4cHIsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBwb3MsXG4gICAgICAgIHJlID0gX2JwWzZdO1xuXG4gICAgICB2YXIgcWJsb2NrcyA9IFtdO1xuICAgICAgdmFyIHByZXZTdHIgPSAnJztcbiAgICAgIHZhciBtYXJrLCBsYXN0SW5kZXg7XG5cbiAgICAgIGlzZXhwciA9IHN0YXJ0ID0gcmUubGFzdEluZGV4ID0gMDtcblxuICAgICAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoc3RyKSkpIHtcblxuICAgICAgICBsYXN0SW5kZXggPSByZS5sYXN0SW5kZXg7XG4gICAgICAgIHBvcyA9IG1hdGNoLmluZGV4O1xuXG4gICAgICAgIGlmIChpc2V4cHIpIHtcblxuICAgICAgICAgIGlmIChtYXRjaFsyXSkge1xuXG4gICAgICAgICAgICB2YXIgY2ggPSBtYXRjaFsyXTtcbiAgICAgICAgICAgIHZhciByZWNoID0gRklOREJSQUNFU1tjaF07XG4gICAgICAgICAgICB2YXIgaXggPSAxO1xuXG4gICAgICAgICAgICByZWNoLmxhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWNoLmV4ZWMoc3RyKSkpIHtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzFdID09PSBjaCkgeyArK2l4OyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIS0taXgpIHsgYnJlYWsgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY2gubGFzdEluZGV4ID0gcHVzaFFCbG9jayhtYXRjaC5pbmRleCwgcmVjaC5sYXN0SW5kZXgsIG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmUubGFzdEluZGV4ID0gaXggPyBzdHIubGVuZ3RoIDogcmVjaC5sYXN0SW5kZXg7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghbWF0Y2hbM10pIHtcbiAgICAgICAgICAgIHJlLmxhc3RJbmRleCA9IHB1c2hRQmxvY2socG9zLCBsYXN0SW5kZXgsIG1hdGNoWzRdKTtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtYXRjaFsxXSkge1xuICAgICAgICAgIHVuZXNjYXBlU3RyKHN0ci5zbGljZShzdGFydCwgcG9zKSk7XG4gICAgICAgICAgc3RhcnQgPSByZS5sYXN0SW5kZXg7XG4gICAgICAgICAgcmUgPSBfYnBbNiArIChpc2V4cHIgXj0gMSldO1xuICAgICAgICAgIHJlLmxhc3RJbmRleCA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdHIgJiYgc3RhcnQgPCBzdHIubGVuZ3RoKSB7XG4gICAgICAgIHVuZXNjYXBlU3RyKHN0ci5zbGljZShzdGFydCkpO1xuICAgICAgfVxuXG4gICAgICBwYXJ0cy5xYmxvY2tzID0gcWJsb2NrcztcblxuICAgICAgcmV0dXJuIHBhcnRzXG5cbiAgICAgIGZ1bmN0aW9uIHVuZXNjYXBlU3RyIChzKSB7XG4gICAgICAgIGlmIChwcmV2U3RyKSB7XG4gICAgICAgICAgcyA9IHByZXZTdHIgKyBzO1xuICAgICAgICAgIHByZXZTdHIgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodG1wbCB8fCBpc2V4cHIpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHMgJiYgcy5yZXBsYWNlKF9icFs1XSwgJyQxJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2gocyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcHVzaFFCbG9jayhfcG9zLCBfbGFzdEluZGV4LCBzbGFzaCkgeyAvL2VzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgaWYgKHNsYXNoKSB7XG4gICAgICAgICAgX2xhc3RJbmRleCA9IHNraXBSZWdleChzdHIsIF9wb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRtcGwgJiYgX2xhc3RJbmRleCA+IF9wb3MgKyAyKSB7XG4gICAgICAgICAgbWFyayA9ICdcXHUyMDU3JyArIHFibG9ja3MubGVuZ3RoICsgJ34nO1xuICAgICAgICAgIHFibG9ja3MucHVzaChzdHIuc2xpY2UoX3BvcywgX2xhc3RJbmRleCkpO1xuICAgICAgICAgIHByZXZTdHIgKz0gc3RyLnNsaWNlKHN0YXJ0LCBfcG9zKSArIG1hcms7XG4gICAgICAgICAgc3RhcnQgPSBfbGFzdEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfbGFzdEluZGV4XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9icmFja2V0cy5oYXNFeHByID0gZnVuY3Rpb24gaGFzRXhwciAoc3RyKSB7XG4gICAgICByZXR1cm4gX2NhY2hlWzRdLnRlc3Qoc3RyKVxuICAgIH07XG5cbiAgICBfYnJhY2tldHMubG9vcEtleXMgPSBmdW5jdGlvbiBsb29wS2V5cyAoZXhwcikge1xuICAgICAgdmFyIG0gPSBleHByLm1hdGNoKF9jYWNoZVs5XSk7XG5cbiAgICAgIHJldHVybiBtXG4gICAgICAgID8geyBrZXk6IG1bMV0sIHBvczogbVsyXSwgdmFsOiBfY2FjaGVbMF0gKyBtWzNdLnRyaW0oKSArIF9jYWNoZVsxXSB9XG4gICAgICAgIDogeyB2YWw6IGV4cHIudHJpbSgpIH1cbiAgICB9O1xuXG4gICAgX2JyYWNrZXRzLmFycmF5ID0gZnVuY3Rpb24gYXJyYXkgKHBhaXIpIHtcbiAgICAgIHJldHVybiBwYWlyID8gX2NyZWF0ZShwYWlyKSA6IF9jYWNoZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfcmVzZXQgKHBhaXIpIHtcbiAgICAgIGlmICgocGFpciB8fCAocGFpciA9IERFRkFVTFQpKSAhPT0gX2NhY2hlWzhdKSB7XG4gICAgICAgIF9jYWNoZSA9IF9jcmVhdGUocGFpcik7XG4gICAgICAgIF9yZWdleCA9IHBhaXIgPT09IERFRkFVTFQgPyBfbG9vcGJhY2sgOiBfcmV3cml0ZTtcbiAgICAgICAgX2NhY2hlWzldID0gX3JlZ2V4KF9wYWlyc1s5XSk7XG4gICAgICB9XG4gICAgICBjYWNoZWRCcmFja2V0cyA9IHBhaXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3NldFNldHRpbmdzIChvKSB7XG4gICAgICB2YXIgYjtcblxuICAgICAgbyA9IG8gfHwge307XG4gICAgICBiID0gby5icmFja2V0cztcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAnYnJhY2tldHMnLCB7XG4gICAgICAgIHNldDogX3Jlc2V0LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhY2hlZEJyYWNrZXRzIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgX3NldHRpbmdzID0gbztcbiAgICAgIF9yZXNldChiKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2JyYWNrZXRzLCAnc2V0dGluZ3MnLCB7XG4gICAgICBzZXQ6IF9zZXRTZXR0aW5ncyxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3NldHRpbmdzIH1cbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBpbiB0aGUgYnJvd3NlciByaW90IGlzIGFsd2F5cyBpbiB0aGUgc2NvcGUgKi9cbiAgICBfYnJhY2tldHMuc2V0dGluZ3MgPSB0eXBlb2YgcmlvdCAhPT0gJ3VuZGVmaW5lZCcgJiYgcmlvdC5zZXR0aW5ncyB8fCB7fTtcbiAgICBfYnJhY2tldHMuc2V0ID0gX3Jlc2V0O1xuICAgIF9icmFja2V0cy5za2lwUmVnZXggPSBza2lwUmVnZXg7XG5cbiAgICBfYnJhY2tldHMuUl9TVFJJTkdTID0gUl9TVFJJTkdTO1xuICAgIF9icmFja2V0cy5SX01MQ09NTVMgPSBSX01MQ09NTVM7XG4gICAgX2JyYWNrZXRzLlNfUUJMT0NLUyA9IFNfUUJMT0NLUztcbiAgICBfYnJhY2tldHMuU19RQkxPQ0syID0gU19RQkxPQ0syO1xuXG4gICAgcmV0dXJuIF9icmFja2V0c1xuXG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEBtb2R1bGUgdG1wbFxuICAgKlxuICAgKiB0bXBsICAgICAgICAgIC0gUm9vdCBmdW5jdGlvbiwgcmV0dXJucyB0aGUgdGVtcGxhdGUgdmFsdWUsIHJlbmRlciB3aXRoIGRhdGFcbiAgICogdG1wbC5oYXNFeHByICAtIFRlc3QgdGhlIGV4aXN0ZW5jZSBvZiBhIGV4cHJlc3Npb24gaW5zaWRlIGEgc3RyaW5nXG4gICAqIHRtcGwubG9vcEtleXMgLSBHZXQgdGhlIGtleXMgZm9yIGFuICdlYWNoJyBsb29wICh1c2VkIGJ5IGBfZWFjaGApXG4gICAqL1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHZhciB0bXBsID0gKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBfY2FjaGUgPSB7fTtcblxuICAgIGZ1bmN0aW9uIF90bXBsIChzdHIsIGRhdGEpIHtcbiAgICAgIGlmICghc3RyKSB7IHJldHVybiBzdHIgfVxuXG4gICAgICByZXR1cm4gKF9jYWNoZVtzdHJdIHx8IChfY2FjaGVbc3RyXSA9IF9jcmVhdGUoc3RyKSkpLmNhbGwoXG4gICAgICAgIGRhdGEsIF9sb2dFcnIuYmluZCh7XG4gICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICB0bXBsOiBzdHJcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBfdG1wbC5oYXNFeHByID0gYnJhY2tldHMuaGFzRXhwcjtcblxuICAgIF90bXBsLmxvb3BLZXlzID0gYnJhY2tldHMubG9vcEtleXM7XG5cbiAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgIF90bXBsLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7IF9jYWNoZSA9IHt9OyB9O1xuXG4gICAgX3RtcGwuZXJyb3JIYW5kbGVyID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIF9sb2dFcnIgKGVyciwgY3R4KSB7XG5cbiAgICAgIGVyci5yaW90RGF0YSA9IHtcbiAgICAgICAgdGFnTmFtZTogY3R4ICYmIGN0eC5fXyAmJiBjdHguX18udGFnTmFtZSxcbiAgICAgICAgX3Jpb3RfaWQ6IGN0eCAmJiBjdHguX3Jpb3RfaWQgIC8vZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbiAgICAgIH07XG5cbiAgICAgIGlmIChfdG1wbC5lcnJvckhhbmRsZXIpIHsgX3RtcGwuZXJyb3JIYW5kbGVyKGVycik7IH1cbiAgICAgIGVsc2UgaWYgKFxuICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgY29uc29sZS5sb2coJzwlcz4gJXMnLCBlcnIucmlvdERhdGEudGFnTmFtZSB8fCAnVW5rbm93biB0YWcnLCB0aGlzLnRtcGwpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY3JlYXRlIChzdHIpIHtcbiAgICAgIHZhciBleHByID0gX2dldFRtcGwoc3RyKTtcblxuICAgICAgaWYgKGV4cHIuc2xpY2UoMCwgMTEpICE9PSAndHJ5e3JldHVybiAnKSB7IGV4cHIgPSAncmV0dXJuICcgKyBleHByOyB9XG5cbiAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ0UnLCBleHByICsgJzsnKSAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy1mdW5jXG4gICAgfVxuXG4gICAgdmFyIFJFX0RRVU9URSA9IC9cXHUyMDU3L2c7XG4gICAgdmFyIFJFX1FCTUFSSyA9IC9cXHUyMDU3KFxcZCspfi9nO1xuXG4gICAgZnVuY3Rpb24gX2dldFRtcGwgKHN0cikge1xuICAgICAgdmFyIHBhcnRzID0gYnJhY2tldHMuc3BsaXQoc3RyLnJlcGxhY2UoUkVfRFFVT1RFLCAnXCInKSwgMSk7XG4gICAgICB2YXIgcXN0ciA9IHBhcnRzLnFibG9ja3M7XG4gICAgICB2YXIgZXhwcjtcblxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDIgfHwgcGFydHNbMF0pIHtcbiAgICAgICAgdmFyIGksIGosIGxpc3QgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSBqID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG5cbiAgICAgICAgICBleHByID0gcGFydHNbaV07XG5cbiAgICAgICAgICBpZiAoZXhwciAmJiAoZXhwciA9IGkgJiAxXG5cbiAgICAgICAgICAgICAgPyBfcGFyc2VFeHByKGV4cHIsIDEsIHFzdHIpXG5cbiAgICAgICAgICAgICAgOiAnXCInICsgZXhwclxuICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJylcbiAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHJcXG4/fFxcbi9nLCAnXFxcXG4nKVxuICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKSArXG4gICAgICAgICAgICAgICAgJ1wiJ1xuXG4gICAgICAgICAgICApKSB7IGxpc3RbaisrXSA9IGV4cHI7IH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZXhwciA9IGogPCAyID8gbGlzdFswXVxuICAgICAgICAgICAgIDogJ1snICsgbGlzdC5qb2luKCcsJykgKyAnXS5qb2luKFwiXCIpJztcblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBleHByID0gX3BhcnNlRXhwcihwYXJ0c1sxXSwgMCwgcXN0cik7XG4gICAgICB9XG5cbiAgICAgIGlmIChxc3RyLmxlbmd0aCkge1xuICAgICAgICBleHByID0gZXhwci5yZXBsYWNlKFJFX1FCTUFSSywgZnVuY3Rpb24gKF8sIHBvcykge1xuICAgICAgICAgIHJldHVybiBxc3RyW3Bvc11cbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhwclxuICAgIH1cblxuICAgIHZhciBSRV9DU05BTUUgPSAvXig/OigtP1tfQS1aYS16XFx4QTAtXFx4RkZdWy1cXHdcXHhBMC1cXHhGRl0qKXxcXHUyMDU3KFxcZCspfik6LztcbiAgICB2YXJcbiAgICAgIFJFX0JSRU5EID0ge1xuICAgICAgICAnKCc6IC9bKCldL2csXG4gICAgICAgICdbJzogL1tbXFxdXS9nLFxuICAgICAgICAneyc6IC9be31dL2dcbiAgICAgIH07XG5cbiAgICBmdW5jdGlvbiBfcGFyc2VFeHByIChleHByLCBhc1RleHQsIHFzdHIpIHtcblxuICAgICAgZXhwciA9IGV4cHJcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKClcbiAgICAgICAgLnJlcGxhY2UoL1xcID8oW1tcXCh7fSw/XFwuOl0pXFwgPy9nLCAnJDEnKTtcblxuICAgICAgaWYgKGV4cHIpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgbGlzdCA9IFtdLFxuICAgICAgICAgIGNudCA9IDAsXG4gICAgICAgICAgbWF0Y2g7XG5cbiAgICAgICAgd2hpbGUgKGV4cHIgJiZcbiAgICAgICAgICAgICAgKG1hdGNoID0gZXhwci5tYXRjaChSRV9DU05BTUUpKSAmJlxuICAgICAgICAgICAgICAhbWF0Y2guaW5kZXhcbiAgICAgICAgICApIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGpzYixcbiAgICAgICAgICAgIHJlID0gLyx8KFtbeyhdKXwkL2c7XG5cbiAgICAgICAgICBleHByID0gUmVnRXhwLnJpZ2h0Q29udGV4dDtcbiAgICAgICAgICBrZXkgID0gbWF0Y2hbMl0gPyBxc3RyW21hdGNoWzJdXS5zbGljZSgxLCAtMSkudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKSA6IG1hdGNoWzFdO1xuXG4gICAgICAgICAgd2hpbGUgKGpzYiA9IChtYXRjaCA9IHJlLmV4ZWMoZXhwcikpWzFdKSB7IHNraXBCcmFjZXMoanNiLCByZSk7IH1cblxuICAgICAgICAgIGpzYiAgPSBleHByLnNsaWNlKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgICBleHByID0gUmVnRXhwLnJpZ2h0Q29udGV4dDtcblxuICAgICAgICAgIGxpc3RbY250KytdID0gX3dyYXBFeHByKGpzYiwgMSwga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV4cHIgPSAhY250ID8gX3dyYXBFeHByKGV4cHIsIGFzVGV4dClcbiAgICAgICAgICAgICA6IGNudCA+IDEgPyAnWycgKyBsaXN0LmpvaW4oJywnKSArICddLmpvaW4oXCIgXCIpLnRyaW0oKScgOiBsaXN0WzBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV4cHJcblxuICAgICAgZnVuY3Rpb24gc2tpcEJyYWNlcyAoY2gsIHJlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIG1tLFxuICAgICAgICAgIGx2ID0gMSxcbiAgICAgICAgICBpciA9IFJFX0JSRU5EW2NoXTtcblxuICAgICAgICBpci5sYXN0SW5kZXggPSByZS5sYXN0SW5kZXg7XG4gICAgICAgIHdoaWxlIChtbSA9IGlyLmV4ZWMoZXhwcikpIHtcbiAgICAgICAgICBpZiAobW1bMF0gPT09IGNoKSB7ICsrbHY7IH1cbiAgICAgICAgICBlbHNlIGlmICghLS1sdikgeyBicmVhayB9XG4gICAgICAgIH1cbiAgICAgICAgcmUubGFzdEluZGV4ID0gbHYgPyBleHByLmxlbmd0aCA6IGlyLmxhc3RJbmRleDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogbm90IGJvdGhcbiAgICB2YXIgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgIEpTX0NPTlRFWFQgPSAnXCJpbiB0aGlzP3RoaXM6JyArICh0eXBlb2Ygd2luZG93ICE9PSAnb2JqZWN0JyA/ICdnbG9iYWwnIDogJ3dpbmRvdycpICsgJykuJyxcbiAgICAgIEpTX1ZBUk5BTUUgPSAvWyx7XVtcXCRcXHddKyg/PTopfCheICp8W14kXFx3XFwue10pKD8hKD86dHlwZW9mfHRydWV8ZmFsc2V8bnVsbHx1bmRlZmluZWR8aW58aW5zdGFuY2VvZnxpcyg/OkZpbml0ZXxOYU4pfHZvaWR8TmFOfG5ld3xEYXRlfFJlZ0V4cHxNYXRoKSg/IVskXFx3XSkpKFskX0EtWmEtel1bJFxcd10qKS9nLFxuICAgICAgSlNfTk9QUk9QUyA9IC9eKD89KFxcLlskXFx3XSspKVxcMSg/OlteLlsoXXwkKS87XG5cbiAgICBmdW5jdGlvbiBfd3JhcEV4cHIgKGV4cHIsIGFzVGV4dCwga2V5KSB7XG4gICAgICB2YXIgdGI7XG5cbiAgICAgIGV4cHIgPSBleHByLnJlcGxhY2UoSlNfVkFSTkFNRSwgZnVuY3Rpb24gKG1hdGNoLCBwLCBtdmFyLCBwb3MsIHMpIHtcbiAgICAgICAgaWYgKG12YXIpIHtcbiAgICAgICAgICBwb3MgPSB0YiA/IDAgOiBwb3MgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgICBpZiAobXZhciAhPT0gJ3RoaXMnICYmIG12YXIgIT09ICdnbG9iYWwnICYmIG12YXIgIT09ICd3aW5kb3cnKSB7XG4gICAgICAgICAgICBtYXRjaCA9IHAgKyAnKFwiJyArIG12YXIgKyBKU19DT05URVhUICsgbXZhcjtcbiAgICAgICAgICAgIGlmIChwb3MpIHsgdGIgPSAocyA9IHNbcG9zXSkgPT09ICcuJyB8fCBzID09PSAnKCcgfHwgcyA9PT0gJ1snOyB9XG4gICAgICAgICAgfSBlbHNlIGlmIChwb3MpIHtcbiAgICAgICAgICAgIHRiID0gIUpTX05PUFJPUFMudGVzdChzLnNsaWNlKHBvcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGIpIHtcbiAgICAgICAgZXhwciA9ICd0cnl7cmV0dXJuICcgKyBleHByICsgJ31jYXRjaChlKXtFKGUsdGhpcyl9JztcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSkge1xuXG4gICAgICAgIGV4cHIgPSAodGJcbiAgICAgICAgICAgID8gJ2Z1bmN0aW9uKCl7JyArIGV4cHIgKyAnfS5jYWxsKHRoaXMpJyA6ICcoJyArIGV4cHIgKyAnKSdcbiAgICAgICAgICApICsgJz9cIicgKyBrZXkgKyAnXCI6XCJcIic7XG5cbiAgICAgIH0gZWxzZSBpZiAoYXNUZXh0KSB7XG5cbiAgICAgICAgZXhwciA9ICdmdW5jdGlvbih2KXsnICsgKHRiXG4gICAgICAgICAgICA/IGV4cHIucmVwbGFjZSgncmV0dXJuICcsICd2PScpIDogJ3Y9KCcgKyBleHByICsgJyknXG4gICAgICAgICAgKSArICc7cmV0dXJuIHZ8fHY9PT0wP3Y6XCJcIn0uY2FsbCh0aGlzKSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBleHByXG4gICAgfVxuXG4gICAgX3RtcGwudmVyc2lvbiA9IGJyYWNrZXRzLnZlcnNpb24gPSAndjMuMC44JztcblxuICAgIHJldHVybiBfdG1wbFxuXG4gIH0pKCk7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmFyIG9ic2VydmFibGUgPSBmdW5jdGlvbihlbCkge1xuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSBvcmlnaW5hbCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IGVtcHR5IG9uZVxuICAgICAqIEB0eXBlIHsgT2JqZWN0IH1cbiAgICAgKi9cblxuICAgIGVsID0gZWwgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBQcml2YXRlIHZhcmlhYmxlc1xuICAgICAqL1xuICAgIHZhciBjYWxsYmFja3MgPSB7fSxcbiAgICAgIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4gICAgLyoqXG4gICAgICogUHVibGljIEFwaVxuICAgICAqL1xuXG4gICAgLy8gZXh0ZW5kIHRoZSBlbCBvYmplY3QgYWRkaW5nIHRoZSBvYnNlcnZhYmxlIG1ldGhvZHNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlbCwge1xuICAgICAgLyoqXG4gICAgICAgKiBMaXN0ZW4gdG8gdGhlIGdpdmVuIGBldmVudGAgYW5kc1xuICAgICAgICogZXhlY3V0ZSB0aGUgYGNhbGxiYWNrYCBlYWNoIHRpbWUgYW4gZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAgICogQHBhcmFtICB7IFN0cmluZyB9IGV2ZW50IC0gZXZlbnQgaWRcbiAgICAgICAqIEBwYXJhbSAgeyBGdW5jdGlvbiB9IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZWxcbiAgICAgICAqL1xuICAgICAgb246IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xuICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHsgKGNhbGxiYWNrc1tldmVudF0gPSBjYWxsYmFja3NbZXZlbnRdIHx8IFtdKS5wdXNoKGZuKTsgfVxuICAgICAgICAgIHJldHVybiBlbFxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGBldmVudGAgbGlzdGVuZXJzXG4gICAgICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGV2ZW50IC0gZXZlbnQgaWRcbiAgICAgICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGVsXG4gICAgICAgKi9cbiAgICAgIG9mZjoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZXZlbnQsIGZuKSB7XG4gICAgICAgICAgaWYgKGV2ZW50ID09ICcqJyAmJiAhZm4pIHsgY2FsbGJhY2tzID0ge307IH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICB2YXIgYXJyID0gY2FsbGJhY2tzW2V2ZW50XTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNiOyBjYiA9IGFyciAmJiBhcnJbaV07ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChjYiA9PSBmbikgeyBhcnIuc3BsaWNlKGktLSwgMSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHsgZGVsZXRlIGNhbGxiYWNrc1tldmVudF07IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTGlzdGVuIHRvIHRoZSBnaXZlbiBgZXZlbnRgIGFuZFxuICAgICAgICogZXhlY3V0ZSB0aGUgYGNhbGxiYWNrYCBhdCBtb3N0IG9uY2VcbiAgICAgICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gZXZlbnQgLSBldmVudCBpZFxuICAgICAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAqIEByZXR1cm5zIHsgT2JqZWN0IH0gZWxcbiAgICAgICAqL1xuICAgICAgb25lOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbihldmVudCwgZm4pIHtcbiAgICAgICAgICBmdW5jdGlvbiBvbigpIHtcbiAgICAgICAgICAgIGVsLm9mZihldmVudCwgb24pO1xuICAgICAgICAgICAgZm4uYXBwbHkoZWwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5vbihldmVudCwgb24pXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRXhlY3V0ZSBhbGwgY2FsbGJhY2sgZnVuY3Rpb25zIHRoYXQgbGlzdGVuIHRvXG4gICAgICAgKiB0aGUgZ2l2ZW4gYGV2ZW50YFxuICAgICAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBldmVudCAtIGV2ZW50IGlkXG4gICAgICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGVsXG4gICAgICAgKi9cbiAgICAgIHRyaWdnZXI6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG5cbiAgICAgICAgICAvLyBnZXR0aW5nIHRoZSBhcmd1bWVudHNcbiAgICAgICAgICB2YXIgYXJnbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGFyZ2xlbiksXG4gICAgICAgICAgICBmbnMsXG4gICAgICAgICAgICBmbixcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJnbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHMkMVtpICsgMV07IC8vIHNraXAgZmlyc3QgYXJndW1lbnRcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmbnMgPSBzbGljZS5jYWxsKGNhbGxiYWNrc1tldmVudF0gfHwgW10sIDApO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgZm4gPSBmbnNbaV07ICsraSkge1xuICAgICAgICAgICAgZm4uYXBwbHkoZWwsIGFyZ3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjYWxsYmFja3NbJyonXSAmJiBldmVudCAhPSAnKicpXG4gICAgICAgICAgICB7IGVsLnRyaWdnZXIuYXBwbHkoZWwsIFsnKicsIGV2ZW50XS5jb25jYXQoYXJncykpOyB9XG5cbiAgICAgICAgICByZXR1cm4gZWxcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVsXG5cbiAgfTtcblxuICAvKipcbiAgICogU2hvcnQgYWxpYXMgZm9yIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcbiAgICovXG4gIGZ1bmN0aW9uIGdldFByb3BEZXNjcmlwdG9yIChvLCBrKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobywgaylcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgYXJndW1lbnQgaXMgdW5kZWZpbmVkXG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBUX1VOREVGXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBvYmplY3QncyBwcm9wZXJ0eSBjb3VsZCBiZSBvdmVycmlkZGVuXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gIG9iaiAtIHNvdXJjZSBvYmplY3RcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAga2V5IC0gb2JqZWN0IHByb3BlcnR5XG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IHRydWUgaWYgd3JpdGFibGVcbiAgICovXG4gIGZ1bmN0aW9uIGlzV3JpdGFibGUob2JqLCBrZXkpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IGdldFByb3BEZXNjcmlwdG9yKG9iaiwga2V5KTtcbiAgICByZXR1cm4gaXNVbmRlZmluZWQob2JqW2tleV0pIHx8IGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci53cml0YWJsZVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dGVuZCBhbnkgb2JqZWN0IHdpdGggb3RoZXIgcHJvcGVydGllc1xuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IHNyYyAtIHNvdXJjZSBvYmplY3RcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSB0aGUgcmVzdWx0aW5nIGV4dGVuZGVkIG9iamVjdFxuICAgKlxuICAgKiB2YXIgb2JqID0geyBmb286ICdiYXonIH1cbiAgICogZXh0ZW5kKG9iaiwge2JhcjogJ2JhcicsIGZvbzogJ2Jhcid9KVxuICAgKiBjb25zb2xlLmxvZyhvYmopID0+IHtiYXI6ICdiYXInLCBmb286ICdiYXInfVxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gZXh0ZW5kKHNyYykge1xuICAgIHZhciBvYmo7XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBsID0gYXJncy5sZW5ndGg7XG5cbiAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKG9iaiA9IGFyZ3NbaV0pIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgcHJvcGVydHkgb2YgdGhlIHNvdXJjZSBvYmplY3QgY291bGQgYmUgb3ZlcnJpZGRlblxuICAgICAgICAgIGlmIChpc1dyaXRhYmxlKHNyYywga2V5KSlcbiAgICAgICAgICAgIHsgc3JjW2tleV0gPSBvYmpba2V5XTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzcmNcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgT2JqZWN0LmNyZWF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlKHNyYykge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHNyYylcbiAgfVxuXG4gIHZhciBzZXR0aW5ncyA9IGV4dGVuZChjcmVhdGUoYnJhY2tldHMuc2V0dGluZ3MpLCB7XG4gICAgc2tpcEFub255bW91c1RhZ3M6IHRydWUsXG4gICAgLy8gdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGVzIHdpbGwgYmUgcHJlc2VydmVkXG4gICAga2VlcFZhbHVlQXR0cmlidXRlczogZmFsc2UsXG4gICAgLy8gaGFuZGxlIHRoZSBhdXRvIHVwZGF0ZXMgb24gYW55IERPTSBldmVudFxuICAgIGF1dG9VcGRhdGU6IHRydWVcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFNob3J0ZXIgYW5kIGZhc3Qgd2F5IHRvIHNlbGVjdCBtdWx0aXBsZSBub2RlcyBpbiB0aGUgRE9NXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gc2VsZWN0b3IgLSBET00gc2VsZWN0b3JcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBjdHggLSBET00gbm9kZSB3aGVyZSB0aGUgdGFyZ2V0cyBvZiBvdXIgc2VhcmNoIHdpbGwgaXMgbG9jYXRlZFxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGRvbSBub2RlcyBmb3VuZFxuICAgKi9cbiAgZnVuY3Rpb24gJCQoc2VsZWN0b3IsIGN0eCkge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKChjdHggfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRvY3VtZW50IHRleHQgbm9kZVxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGNyZWF0ZSBhIHRleHQgbm9kZSB0byB1c2UgYXMgcGxhY2Vob2xkZXJcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZURPTVBsYWNlaG9sZGVyKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJylcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGUgdGhlIHZpc2liaWxpdHkgb2YgYW55IERPTSBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gIGRvbSAtIERPTSBub2RlIHdlIHdhbnQgdG8gaGlkZVxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBzaG93IC0gZG8gd2Ugd2FudCB0byBzaG93IGl0P1xuICAgKi9cblxuICBmdW5jdGlvbiB0b2dnbGVWaXNpYmlsaXR5KGRvbSwgc2hvdykge1xuICAgIGRvbS5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/ICcnIDogJ25vbmUnO1xuICAgIGRvbS5oaWRkZW4gPSBzaG93ID8gZmFsc2UgOiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgYW55IERPTSBhdHRyaWJ1dGUgb24gYSBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZG9tIC0gRE9NIG5vZGUgd2Ugd2FudCB0byBwYXJzZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IG5hbWUgLSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgd2Ugd2FudCB0byBnZXRcbiAgICogQHJldHVybnMgeyBTdHJpbmcgfCB1bmRlZmluZWQgfSBuYW1lIG9mIHRoZSBub2RlIGF0dHJpYnV0ZSB3aGV0aGVyIGl0IGV4aXN0c1xuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGRvbSwgbmFtZSkge1xuICAgIHJldHVybiBkb20uZ2V0QXR0cmlidXRlKG5hbWUpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFueSBET00gYXR0cmlidXRlIGZyb20gYSBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZG9tIC0gRE9NIG5vZGUgd2Ugd2FudCB0byB1cGRhdGVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBuYW1lIC0gbmFtZSBvZiB0aGUgcHJvcGVydHkgd2Ugd2FudCB0byByZW1vdmVcbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZUF0dHJpYnV0ZShkb20sIG5hbWUpIHtcbiAgICBkb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW5uZXIgaHRtbCBvZiBhbnkgRE9NIG5vZGUgU1ZHcyBpbmNsdWRlZFxuICAgKiBAcGFyYW0geyBPYmplY3QgfSBjb250YWluZXIgLSBET00gbm9kZSB3aGVyZSB3ZSdsbCBpbmplY3QgbmV3IGh0bWxcbiAgICogQHBhcmFtIHsgU3RyaW5nIH0gaHRtbCAtIGh0bWwgdG8gaW5qZWN0XG4gICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpc1N2ZyAtIHN2ZyB0YWdzIHNob3VsZCBiZSB0cmVhdGVkIGEgYml0IGRpZmZlcmVudGx5XG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBzZXRJbm5lckhUTUwoY29udGFpbmVyLCBodG1sLCBpc1N2Zykge1xuICAgIC8vIGlubmVySFRNTCBpcyBub3Qgc3VwcG9ydGVkIG9uIHN2ZyB0YWdzIHNvIHdlIG5lZXQgdG8gdHJlYXQgdGhlbSBkaWZmZXJlbnRseVxuICAgIGlmIChpc1N2Zykge1xuICAgICAgdmFyIG5vZGUgPSBjb250YWluZXIub3duZXJEb2N1bWVudC5pbXBvcnROb2RlKFxuICAgICAgICBuZXcgRE9NUGFyc2VyKClcbiAgICAgICAgICAucGFyc2VGcm9tU3RyaW5nKChcIjxzdmcgeG1sbnM9XFxcIlwiICsgU1ZHX05TICsgXCJcXFwiPlwiICsgaHRtbCArIFwiPC9zdmc+XCIpLCAnYXBwbGljYXRpb24veG1sJylcbiAgICAgICAgICAuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNaW5pbWl6ZSByaXNrOiBvbmx5IHplcm8gb3Igb25lIF9zcGFjZV8gYmV0d2VlbiBhdHRyICYgdmFsdWVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIGh0bWwgLSBodG1sIHN0cmluZyB3ZSB3YW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGFwcGx5IG9uIGFueSBhdHRyaWJ1dGUgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uIHdhbGtBdHRyaWJ1dGVzKGh0bWwsIGZuKSB7XG4gICAgaWYgKCFodG1sKSB7IHJldHVybiB9XG4gICAgdmFyIG07XG4gICAgd2hpbGUgKG0gPSBSRV9IVE1MX0FUVFJTLmV4ZWMoaHRtbCkpXG4gICAgICB7IGZuKG1bMV0udG9Mb3dlckNhc2UoKSwgbVsyXSB8fCBtWzNdIHx8IG1bNF0pOyB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBkb2N1bWVudCBmcmFnbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnQoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBzYWZlbHkgYSB0YWcgdG8gZml4ICMxOTYyICMxNjQ5XG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSByb290IC0gY2hpbGRyZW4gY29udGFpbmVyXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBjdXJyIC0gbm9kZSB0byBpbnNlcnRcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IG5leHQgLSBub2RlIHRoYXQgc2hvdWxkIHByZWNlZWQgdGhlIGN1cnJlbnQgbm9kZSBpbnNlcnRlZFxuICAgKi9cbiAgZnVuY3Rpb24gc2FmZUluc2VydChyb290LCBjdXJyLCBuZXh0KSB7XG4gICAgcm9vdC5pbnNlcnRCZWZvcmUoY3VyciwgbmV4dC5wYXJlbnROb2RlICYmIG5leHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBzdHlsZSBvYmplY3QgdG8gYSBzdHJpbmdcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBzdHlsZSAtIHN0eWxlIG9iamVjdCB3ZSBuZWVkIHRvIHBhcnNlXG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gcmVzdWx0aW5nIGNzcyBzdHJpbmdcbiAgICogQGV4YW1wbGVcbiAgICogc3R5bGVPYmplY3RUb1N0cmluZyh7IGNvbG9yOiAncmVkJywgaGVpZ2h0OiAnMTBweCd9KSAvLyA9PiAnY29sb3I6IHJlZDsgaGVpZ2h0OiAxMHB4J1xuICAgKi9cbiAgZnVuY3Rpb24gc3R5bGVPYmplY3RUb1N0cmluZyhzdHlsZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHByb3ApIHtcbiAgICAgIHJldHVybiAoYWNjICsgXCIgXCIgKyBwcm9wICsgXCI6IFwiICsgKHN0eWxlW3Byb3BdKSArIFwiO1wiKVxuICAgIH0sICcnKVxuICB9XG5cbiAgLyoqXG4gICAqIFdhbGsgZG93biByZWN1cnNpdmVseSBhbGwgdGhlIGNoaWxkcmVuIHRhZ3Mgc3RhcnRpbmcgZG9tIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAgIGRvbSAtIHN0YXJ0aW5nIG5vZGUgd2hlcmUgd2Ugd2lsbCBzdGFydCB0aGUgcmVjdXJzaW9uXG4gICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBmbiAtIGNhbGxiYWNrIHRvIHRyYW5zZm9ybSB0aGUgY2hpbGQgbm9kZSBqdXN0IGZvdW5kXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gICBjb250ZXh0IC0gZm4gY2FuIG9wdGlvbmFsbHkgcmV0dXJuIGFuIG9iamVjdCwgd2hpY2ggaXMgcGFzc2VkIHRvIGNoaWxkcmVuXG4gICAqL1xuICBmdW5jdGlvbiB3YWxrTm9kZXMoZG9tLCBmbiwgY29udGV4dCkge1xuICAgIGlmIChkb20pIHtcbiAgICAgIHZhciByZXMgPSBmbihkb20sIGNvbnRleHQpO1xuICAgICAgdmFyIG5leHQ7XG4gICAgICAvLyBzdG9wIHRoZSByZWN1cnNpb25cbiAgICAgIGlmIChyZXMgPT09IGZhbHNlKSB7IHJldHVybiB9XG5cbiAgICAgIGRvbSA9IGRvbS5maXJzdENoaWxkO1xuXG4gICAgICB3aGlsZSAoZG9tKSB7XG4gICAgICAgIG5leHQgPSBkb20ubmV4dFNpYmxpbmc7XG4gICAgICAgIHdhbGtOb2Rlcyhkb20sIGZuLCByZXMpO1xuICAgICAgICBkb20gPSBuZXh0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cblxuICB2YXIgZG9tID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgICQkOiAkJCxcbiAgICAkOiAkLFxuICAgIGNyZWF0ZURPTVBsYWNlaG9sZGVyOiBjcmVhdGVET01QbGFjZWhvbGRlcixcbiAgICBta0VsOiBtYWtlRWxlbWVudCxcbiAgICBzZXRBdHRyOiBzZXRBdHRyaWJ1dGUsXG4gICAgdG9nZ2xlVmlzaWJpbGl0eTogdG9nZ2xlVmlzaWJpbGl0eSxcbiAgICBnZXRBdHRyOiBnZXRBdHRyaWJ1dGUsXG4gICAgcmVtQXR0cjogcmVtb3ZlQXR0cmlidXRlLFxuICAgIHNldElubmVySFRNTDogc2V0SW5uZXJIVE1MLFxuICAgIHdhbGtBdHRyczogd2Fsa0F0dHJpYnV0ZXMsXG4gICAgY3JlYXRlRnJhZzogY3JlYXRlRnJhZ21lbnQsXG4gICAgc2FmZUluc2VydDogc2FmZUluc2VydCxcbiAgICBzdHlsZU9iamVjdFRvU3RyaW5nOiBzdHlsZU9iamVjdFRvU3RyaW5nLFxuICAgIHdhbGtOb2Rlczogd2Fsa05vZGVzXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDaGVjayBhZ2FpbnN0IHRoZSBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzXG4gICAqIEBwYXJhbSAgIHsgKiB9ICB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xuICAgIHJldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgYXJndW1lbnQgaXMgZW1wdHkuIERpZmZlcmVudCBmcm9tIGZhbHN5LCBiZWNhdXNlIHdlIGRvbnQgY29uc2lkZXIgMCBvciBmYWxzZSB0byBiZSBibGFua1xuICAgKiBAcGFyYW0geyAqIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc0JsYW5rKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzTmlsKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJydcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgYXJndW1lbnQgaXMgYSBmdW5jdGlvblxuICAgKiBAcGFyYW0gICB7ICogfSB2YWx1ZSAtXG4gICAqIEByZXR1cm5zIHsgQm9vbGVhbiB9IC1cbiAgICovXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBUX0ZVTkNUSU9OXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgZXhjbHVkZSBudWxsXG4gICAqIE5PVEU6IHVzZSBpc09iamVjdCh4KSAmJiAhaXNBcnJheSh4KSB0byBleGNsdWRlcyBhcnJheXMuXG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBUX09CSkVDVCAvLyB0eXBlb2YgbnVsbCBpcyAnb2JqZWN0J1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgRE9NIG5vZGUgaXMgYW4gc3ZnIHRhZyBvciBwYXJ0IG9mIGFuIHN2Z1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gIGVsIC0gbm9kZSB3ZSB3YW50IHRvIHRlc3RcbiAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgaXQncyBhbiBzdmcgbm9kZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNTdmcoZWwpIHtcbiAgICB2YXIgb3duZXIgPSBlbC5vd25lclNWR0VsZW1lbnQ7XG4gICAgcmV0dXJuICEhb3duZXIgfHwgb3duZXIgPT09IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgYXJndW1lbnQgaXMgYSBraW5kIG9mIGFycmF5XG4gICAqIEBwYXJhbSAgIHsgKiB9IHZhbHVlIC1cbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBhcmd1bWVudCBpcyBhIGJvb2xlYW4gYXR0cmlidXRlXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc0Jvb2xBdHRyKHZhbHVlKSB7XG4gICAgcmV0dXJuIFJFX0JPT0xfQVRUUlMudGVzdCh2YWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgYXJndW1lbnQgaXMgYSBzdHJpbmdcbiAgICogQHBhcmFtICAgeyAqIH0gdmFsdWUgLVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFRfU1RSSU5HXG4gIH1cblxuXG5cbiAgdmFyIGNoZWNrID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGlzQmxhbms6IGlzQmxhbmssXG4gICAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgICBpc09iamVjdDogaXNPYmplY3QsXG4gICAgaXNTdmc6IGlzU3ZnLFxuICAgIGlzV3JpdGFibGU6IGlzV3JpdGFibGUsXG4gICAgaXNBcnJheTogaXNBcnJheSxcbiAgICBpc0Jvb2xBdHRyOiBpc0Jvb2xBdHRyLFxuICAgIGlzTmlsOiBpc05pbCxcbiAgICBpc1N0cmluZzogaXNTdHJpbmcsXG4gICAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGFuIGFycmF5IGNvbnRhaW5zIGFuIGl0ZW1cbiAgICogQHBhcmFtICAgeyBBcnJheSB9IGFycmF5IC0gdGFyZ2V0IGFycmF5XG4gICAqIEBwYXJhbSAgIHsgKiB9IGl0ZW0gLSBpdGVtIHRvIHRlc3RcbiAgICogQHJldHVybnMgeyBCb29sZWFuIH0gLVxuICAgKi9cbiAgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIGl0ZW0pIHtcbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKSAhPT0gLTFcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVjaWFsaXplZCBmdW5jdGlvbiBmb3IgbG9vcGluZyBhbiBhcnJheS1saWtlIGNvbGxlY3Rpb24gd2l0aCBgZWFjaD17fWBcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IGxpc3QgLSBjb2xsZWN0aW9uIG9mIGl0ZW1zXG4gICAqIEBwYXJhbSAgIHtGdW5jdGlvbn0gZm4gLSBjYWxsYmFjayBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7IEFycmF5IH0gdGhlIGFycmF5IGxvb3BlZFxuICAgKi9cbiAgZnVuY3Rpb24gZWFjaChsaXN0LCBmbikge1xuICAgIHZhciBsZW4gPSBsaXN0ID8gbGlzdC5sZW5ndGggOiAwO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7IGZuKGxpc3RbaV0sIGkpOyB9XG4gICAgcmV0dXJuIGxpc3RcbiAgfVxuXG4gIC8qKlxuICAgKiBGYXN0ZXIgU3RyaW5nIHN0YXJ0c1dpdGggYWx0ZXJuYXRpdmVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBzdHIgLSBzb3VyY2Ugc3RyaW5nXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gdmFsdWUgLSB0ZXN0IHN0cmluZ1xuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfSAtXG4gICAqL1xuICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0ciwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3RyLnNsaWNlKDAsIHZhbHVlLmxlbmd0aCkgPT09IHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb24gcmV0dXJuaW5nIGFsd2F5cyBhIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIHsgTnVtYmVyIH0gLSBudW1iZXIgZnJvbSAwLi4ublxuICAgKi9cbiAgdmFyIHVpZCA9IChmdW5jdGlvbiB1aWQoKSB7XG4gICAgdmFyIGkgPSAtMTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gKytpOyB9XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byBzZXQgYW4gaW1tdXRhYmxlIHByb3BlcnR5XG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZWwgLSBvYmplY3Qgd2hlcmUgdGhlIG5ldyBwcm9wZXJ0eSB3aWxsIGJlIHNldFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGtleSAtIG9iamVjdCBrZXkgd2hlcmUgdGhlIG5ldyBwcm9wZXJ0eSB3aWxsIGJlIHN0b3JlZFxuICAgKiBAcGFyYW0gICB7ICogfSB2YWx1ZSAtIHZhbHVlIG9mIHRoZSBuZXcgcHJvcGVydHlcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBvcHRpb25zIC0gc2V0IHRoZSBwcm9wZXJ5IG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IC0gdGhlIGluaXRpYWwgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBkZWZpbmUoZWwsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsIGtleSwgZXh0ZW5kKHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSwgb3B0aW9ucykpO1xuICAgIHJldHVybiBlbFxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBzdHJpbmcgY29udGFpbmluZyBkYXNoZXMgdG8gY2FtZWwgY2FzZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHN0ciAtIGlucHV0IHN0cmluZ1xuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IG15LXN0cmluZyAtPiBteVN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gdG9DYW1lbChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLy0oXFx3KS9nLCBmdW5jdGlvbiAoXywgYykgeyByZXR1cm4gYy50b1VwcGVyQ2FzZSgpOyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFdhcm4gYSBtZXNzYWdlIHZpYSBjb25zb2xlXG4gICAqIEBwYXJhbSAgIHtTdHJpbmd9IG1lc3NhZ2UgLSB3YXJuaW5nIG1lc3NhZ2VcbiAgICovXG4gIGZ1bmN0aW9uIHdhcm4obWVzc2FnZSkge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgeyBjb25zb2xlLndhcm4obWVzc2FnZSk7IH1cbiAgfVxuXG5cblxuICB2YXIgbWlzYyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBjb250YWluczogY29udGFpbnMsXG4gICAgZWFjaDogZWFjaCxcbiAgICBnZXRQcm9wRGVzY3JpcHRvcjogZ2V0UHJvcERlc2NyaXB0b3IsXG4gICAgc3RhcnRzV2l0aDogc3RhcnRzV2l0aCxcbiAgICB1aWQ6IHVpZCxcbiAgICBkZWZpbmVQcm9wZXJ0eTogZGVmaW5lLFxuICAgIG9iamVjdENyZWF0ZTogY3JlYXRlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIHRvQ2FtZWw6IHRvQ2FtZWwsXG4gICAgd2Fybjogd2FyblxuICB9KTtcblxuICAvKipcbiAgICogU2V0IHRoZSBwcm9wZXJ0eSBvZiBhbiBvYmplY3QgZm9yIGEgZ2l2ZW4ga2V5LiBJZiBzb21ldGhpbmcgYWxyZWFkeVxuICAgKiBleGlzdHMgdGhlcmUsIHRoZW4gaXQgYmVjb21lcyBhbiBhcnJheSBjb250YWluaW5nIGJvdGggdGhlIG9sZCBhbmQgbmV3IHZhbHVlLlxuICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmogLSBvYmplY3Qgb24gd2hpY2ggdG8gc2V0IHRoZSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0geyBTdHJpbmcgfSBrZXkgLSBwcm9wZXJ0eSBuYW1lXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IHZhbHVlIC0gdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0byBiZSBzZXRcbiAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGVuc3VyZUFycmF5IC0gZW5zdXJlIHRoYXQgdGhlIHByb3BlcnR5IHJlbWFpbnMgYW4gYXJyYXlcbiAgICogQHBhcmFtIHsgTnVtYmVyIH0gaW5kZXggLSBhZGQgdGhlIG5ldyBpdGVtIGluIGEgY2VydGFpbiBhcnJheSBwb3NpdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlpc2hBZGQob2JqLCBrZXksIHZhbHVlLCBlbnN1cmVBcnJheSwgaW5kZXgpIHtcbiAgICB2YXIgZGVzdCA9IG9ialtrZXldO1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkoZGVzdCk7XG4gICAgdmFyIGhhc0luZGV4ID0gIWlzVW5kZWZpbmVkKGluZGV4KTtcblxuICAgIGlmIChkZXN0ICYmIGRlc3QgPT09IHZhbHVlKSB7IHJldHVybiB9XG5cbiAgICAvLyBpZiB0aGUga2V5IHdhcyBuZXZlciBzZXQsIHNldCBpdCBvbmNlXG4gICAgaWYgKCFkZXN0ICYmIGVuc3VyZUFycmF5KSB7IG9ialtrZXldID0gW3ZhbHVlXTsgfVxuICAgIGVsc2UgaWYgKCFkZXN0KSB7IG9ialtrZXldID0gdmFsdWU7IH1cbiAgICAvLyBpZiBpdCB3YXMgYW4gYXJyYXkgYW5kIG5vdCB5ZXQgc2V0XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgdmFyIG9sZEluZGV4ID0gZGVzdC5pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgLy8gdGhpcyBpdGVtIG5ldmVyIGNoYW5nZWQgaXRzIHBvc2l0aW9uXG4gICAgICAgIGlmIChvbGRJbmRleCA9PT0gaW5kZXgpIHsgcmV0dXJuIH1cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBpdGVtIGZyb20gaXRzIG9sZCBwb3NpdGlvblxuICAgICAgICBpZiAob2xkSW5kZXggIT09IC0xKSB7IGRlc3Quc3BsaWNlKG9sZEluZGV4LCAxKTsgfVxuICAgICAgICAvLyBtb3ZlIG9yIGFkZCB0aGUgaXRlbVxuICAgICAgICBpZiAoaGFzSW5kZXgpIHtcbiAgICAgICAgICBkZXN0LnNwbGljZShpbmRleCwgMCwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlc3QucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IG9ialtrZXldID0gW2Rlc3QsIHZhbHVlXTsgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgdGhlIHRhZyBpbXBsZW1lbnRhdGlvbiBieSBhIERPTSBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZG9tIC0gRE9NIG5vZGUgd2UgbmVlZCB0byBwYXJzZSB0byBnZXQgaXRzIHRhZyBpbXBsZW1lbnRhdGlvblxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGl0IHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGltcGxlbWVudGF0aW9uIG9mIGEgY3VzdG9tIHRhZyAodGVtcGxhdGUgYW5kIGJvb3QgZnVuY3Rpb24pXG4gICAqL1xuICBmdW5jdGlvbiBnZXQoZG9tKSB7XG4gICAgcmV0dXJuIGRvbS50YWdOYW1lICYmIF9fVEFHX0lNUExbZ2V0QXR0cmlidXRlKGRvbSwgSVNfRElSRUNUSVZFKSB8fFxuICAgICAgZ2V0QXR0cmlidXRlKGRvbSwgSVNfRElSRUNUSVZFKSB8fCBkb20udGFnTmFtZS50b0xvd2VyQ2FzZSgpXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGFnIG5hbWUgb2YgYW55IERPTSBub2RlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZG9tIC0gRE9NIG5vZGUgd2Ugd2FudCB0byBwYXJzZVxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBza2lwRGF0YUlzIC0gaGFjayB0byBpZ25vcmUgdGhlIGRhdGEtaXMgYXR0cmlidXRlIHdoZW4gYXR0YWNoaW5nIHRvIHBhcmVudFxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IG5hbWUgdG8gaWRlbnRpZnkgdGhpcyBkb20gbm9kZSBpbiByaW90XG4gICAqL1xuICBmdW5jdGlvbiBnZXROYW1lKGRvbSwgc2tpcERhdGFJcykge1xuICAgIHZhciBjaGlsZCA9IGdldChkb20pO1xuICAgIHZhciBuYW1lZFRhZyA9ICFza2lwRGF0YUlzICYmIGdldEF0dHJpYnV0ZShkb20sIElTX0RJUkVDVElWRSk7XG4gICAgcmV0dXJuIG5hbWVkVGFnICYmICF0bXBsLmhhc0V4cHIobmFtZWRUYWcpID9cbiAgICAgIG5hbWVkVGFnIDogY2hpbGQgPyBjaGlsZC5uYW1lIDogZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIHRlbXBvcmFyeSBjb250ZXh0IGNvbnRhaW5pbmcgYWxzbyB0aGUgcGFyZW50IHByb3BlcnRpZXNcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IFRhZyB9IC0gdGVtcG9yYXJ5IHRhZyBjb250ZXh0IGNvbnRhaW5pbmcgYWxsIHRoZSBwYXJlbnQgcHJvcGVydGllc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5oZXJpdFBhcmVudFByb3BzKCkge1xuICAgIGlmICh0aGlzLnBhcmVudCkgeyByZXR1cm4gZXh0ZW5kKGNyZWF0ZSh0aGlzKSwgdGhpcy5wYXJlbnQpIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLypcbiAgICBJbmNsdWRlcyBoYWNrcyBuZWVkZWQgZm9yIHRoZSBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDkgYW5kIGJlbG93XG4gICAgU2VlOiBodHRwOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXM1LyNpZThcbiAgICAgICAgIGh0dHA6Ly9jb2RlcGxhbmV0LmlvL2Ryb3BwaW5nLWllOC9cbiAgKi9cblxuICB2YXJcbiAgICByZUhhc1lpZWxkICA9IC88eWllbGRcXGIvaSxcbiAgICByZVlpZWxkQWxsICA9IC88eWllbGRcXHMqKD86XFwvPnw+KFtcXFNcXHNdKj8pPFxcL3lpZWxkXFxzKj58PikvaWcsXG4gICAgcmVZaWVsZFNyYyAgPSAvPHlpZWxkXFxzK3RvPVsnXCJdKFteJ1wiPl0qKVsnXCJdXFxzKj4oW1xcU1xcc10qPyk8XFwveWllbGRcXHMqPi9pZyxcbiAgICByZVlpZWxkRGVzdCA9IC88eWllbGRcXHMrZnJvbT1bJ1wiXT8oWy1cXHddKylbJ1wiXT9cXHMqKD86XFwvPnw+KFtcXFNcXHNdKj8pPFxcL3lpZWxkXFxzKj4pL2lnLFxuICAgIHJvb3RFbHMgPSB7IHRyOiAndGJvZHknLCB0aDogJ3RyJywgdGQ6ICd0cicsIGNvbDogJ2NvbGdyb3VwJyB9LFxuICAgIHRibFRhZ3MgPSBJRV9WRVJTSU9OICYmIElFX1ZFUlNJT04gPCAxMCA/IFJFX1NQRUNJQUxfVEFHUyA6IFJFX1NQRUNJQUxfVEFHU19OT19PUFRJT04sXG4gICAgR0VORVJJQyA9ICdkaXYnLFxuICAgIFNWRyA9ICdzdmcnO1xuXG5cbiAgLypcbiAgICBDcmVhdGVzIHRoZSByb290IGVsZW1lbnQgZm9yIHRhYmxlIG9yIHNlbGVjdCBjaGlsZCBlbGVtZW50czpcbiAgICB0ci90aC90ZC90aGVhZC90Zm9vdC90Ym9keS9jYXB0aW9uL2NvbC9jb2xncm91cC9vcHRpb24vb3B0Z3JvdXBcbiAgKi9cbiAgZnVuY3Rpb24gc3BlY2lhbFRhZ3MoZWwsIHRtcGwsIHRhZ05hbWUpIHtcblxuICAgIHZhclxuICAgICAgc2VsZWN0ID0gdGFnTmFtZVswXSA9PT0gJ28nLFxuICAgICAgcGFyZW50ID0gc2VsZWN0ID8gJ3NlbGVjdD4nIDogJ3RhYmxlPic7XG5cbiAgICAvLyB0cmltKCkgaXMgaW1wb3J0YW50IGhlcmUsIHRoaXMgZW5zdXJlcyB3ZSBkb24ndCBoYXZlIGFydGlmYWN0cyxcbiAgICAvLyBzbyB3ZSBjYW4gY2hlY2sgaWYgd2UgaGF2ZSBvbmx5IG9uZSBlbGVtZW50IGluc2lkZSB0aGUgcGFyZW50XG4gICAgZWwuaW5uZXJIVE1MID0gJzwnICsgcGFyZW50ICsgdG1wbC50cmltKCkgKyAnPC8nICsgcGFyZW50O1xuICAgIHBhcmVudCA9IGVsLmZpcnN0Q2hpbGQ7XG5cbiAgICAvLyByZXR1cm5zIHRoZSBpbW1lZGlhdGUgcGFyZW50IGlmIHRyL3RoL3RkL2NvbCBpcyB0aGUgb25seSBlbGVtZW50LCBpZiBub3RcbiAgICAvLyByZXR1cm5zIHRoZSB3aG9sZSB0cmVlLCBhcyB0aGlzIGNhbiBpbmNsdWRlIGFkZGl0aW9uYWwgZWxlbWVudHNcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChzZWxlY3QpIHtcbiAgICAgIHBhcmVudC5zZWxlY3RlZEluZGV4ID0gLTE7ICAvLyBmb3IgSUU5LCBjb21wYXRpYmxlIHcvY3VycmVudCByaW90IGJlaGF2aW9yXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF2b2lkcyBpbnNlcnRpb24gb2YgY29pbnRhaW5lciBpbnNpZGUgY29udGFpbmVyIChleDogdGJvZHkgaW5zaWRlIHRib2R5KVxuICAgICAgdmFyIHRuYW1lID0gcm9vdEVsc1t0YWdOYW1lXTtcbiAgICAgIGlmICh0bmFtZSAmJiBwYXJlbnQuY2hpbGRFbGVtZW50Q291bnQgPT09IDEpIHsgcGFyZW50ID0gJCh0bmFtZSwgcGFyZW50KTsgfVxuICAgIH1cbiAgICByZXR1cm4gcGFyZW50XG4gIH1cblxuICAvKlxuICAgIFJlcGxhY2UgdGhlIHlpZWxkIHRhZyBmcm9tIGFueSB0YWcgdGVtcGxhdGUgd2l0aCB0aGUgaW5uZXJIVE1MIG9mIHRoZVxuICAgIG9yaWdpbmFsIHRhZyBpbiB0aGUgcGFnZVxuICAqL1xuICBmdW5jdGlvbiByZXBsYWNlWWllbGQodG1wbCwgaHRtbCkge1xuICAgIC8vIGRvIG5vdGhpbmcgaWYgbm8geWllbGRcbiAgICBpZiAoIXJlSGFzWWllbGQudGVzdCh0bXBsKSkgeyByZXR1cm4gdG1wbCB9XG5cbiAgICAvLyBiZSBjYXJlZnVsIHdpdGggIzEzNDMgLSBzdHJpbmcgb24gdGhlIHNvdXJjZSBoYXZpbmcgYCQxYFxuICAgIHZhciBzcmMgPSB7fTtcblxuICAgIGh0bWwgPSBodG1sICYmIGh0bWwucmVwbGFjZShyZVlpZWxkU3JjLCBmdW5jdGlvbiAoXywgcmVmLCB0ZXh0KSB7XG4gICAgICBzcmNbcmVmXSA9IHNyY1tyZWZdIHx8IHRleHQ7ICAgLy8gcHJlc2VydmUgZmlyc3QgZGVmaW5pdGlvblxuICAgICAgcmV0dXJuICcnXG4gICAgfSkudHJpbSgpO1xuXG4gICAgcmV0dXJuIHRtcGxcbiAgICAgIC5yZXBsYWNlKHJlWWllbGREZXN0LCBmdW5jdGlvbiAoXywgcmVmLCBkZWYpIHsgIC8vIHlpZWxkIHdpdGggZnJvbSAtIHRvIGF0dHJzXG4gICAgICAgIHJldHVybiBzcmNbcmVmXSB8fCBkZWYgfHwgJydcbiAgICAgIH0pXG4gICAgICAucmVwbGFjZShyZVlpZWxkQWxsLCBmdW5jdGlvbiAoXywgZGVmKSB7ICAgICAgICAvLyB5aWVsZCB3aXRob3V0IGFueSBcImZyb21cIlxuICAgICAgICByZXR1cm4gaHRtbCB8fCBkZWYgfHwgJydcbiAgICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIERPTSBlbGVtZW50IHRvIHdyYXAgdGhlIGdpdmVuIGNvbnRlbnQuIE5vcm1hbGx5IGFuIGBESVZgLCBidXQgY2FuIGJlXG4gICAqIGFsc28gYSBgVEFCTEVgLCBgU0VMRUNUYCwgYFRCT0RZYCwgYFRSYCwgb3IgYENPTEdST1VQYCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IHRtcGwgIC0gVGhlIHRlbXBsYXRlIGNvbWluZyBmcm9tIHRoZSBjdXN0b20gdGFnIGRlZmluaXRpb25cbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBodG1sIC0gSFRNTCBjb250ZW50IHRoYXQgY29tZXMgZnJvbSB0aGUgRE9NIGVsZW1lbnQgd2hlcmUgeW91XG4gICAqICAgICAgICAgICB3aWxsIG1vdW50IHRoZSB0YWcsIG1vc3RseSB0aGUgb3JpZ2luYWwgdGFnIGluIHRoZSBwYWdlXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IGlzU3ZnIC0gdHJ1ZSBpZiB0aGUgcm9vdCBub2RlIGlzIGFuIHN2Z1xuICAgKiBAcmV0dXJucyB7IEhUTUxFbGVtZW50IH0gRE9NIGVsZW1lbnQgd2l0aCBfdG1wbF8gbWVyZ2VkIHRocm91Z2ggYFlJRUxEYCB3aXRoIHRoZSBfaHRtbF8uXG4gICAqL1xuICBmdW5jdGlvbiBta2RvbSh0bXBsLCBodG1sLCBpc1N2Zykge1xuICAgIHZhciBtYXRjaCAgID0gdG1wbCAmJiB0bXBsLm1hdGNoKC9eXFxzKjwoWy1cXHddKykvKTtcbiAgICB2YXIgIHRhZ05hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBlbCA9IG1ha2VFbGVtZW50KGlzU3ZnID8gU1ZHIDogR0VORVJJQyk7XG5cbiAgICAvLyByZXBsYWNlIGFsbCB0aGUgeWllbGQgdGFncyB3aXRoIHRoZSB0YWcgaW5uZXIgaHRtbFxuICAgIHRtcGwgPSByZXBsYWNlWWllbGQodG1wbCwgaHRtbCk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0YmxUYWdzLnRlc3QodGFnTmFtZSkpXG4gICAgICB7IGVsID0gc3BlY2lhbFRhZ3MoZWwsIHRtcGwsIHRhZ05hbWUpOyB9XG4gICAgZWxzZVxuICAgICAgeyBzZXRJbm5lckhUTUwoZWwsIHRtcGwsIGlzU3ZnKTsgfVxuXG4gICAgcmV0dXJuIGVsXG4gIH1cblxuICB2YXIgRVZFTlRfQVRUUl9SRSA9IC9eb24vO1xuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBldmVudCBhdHRyaWJ1dGUgc3RhcnRzIHdpdGggJ29uJ1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGF0dHJpYnV0ZSAtIGV2ZW50IGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7IEJvb2xlYW4gfVxuICAgKi9cbiAgZnVuY3Rpb24gaXNFdmVudEF0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcbiAgICByZXR1cm4gRVZFTlRfQVRUUl9SRS50ZXN0KGF0dHJpYnV0ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29wIGJhY2t3YXJkIGFsbCB0aGUgcGFyZW50cyB0cmVlIHRvIGRldGVjdCB0aGUgZmlyc3QgY3VzdG9tIHBhcmVudCB0YWdcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSB0YWcgLSBhIFRhZyBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IHRoZSBpbnN0YW5jZSBvZiB0aGUgZmlyc3QgY3VzdG9tIHBhcmVudCB0YWcgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uIGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCh0YWcpIHtcbiAgICB2YXIgcHRhZyA9IHRhZztcbiAgICB3aGlsZSAocHRhZy5fXy5pc0Fub255bW91cykge1xuICAgICAgaWYgKCFwdGFnLnBhcmVudCkgeyBicmVhayB9XG4gICAgICBwdGFnID0gcHRhZy5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBwdGFnXG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciBET00gZXZlbnRzXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBkb20gLSBkb20gZWxlbWVudCB0YXJnZXQgb2YgdGhlIGV2ZW50XG4gICAqIEBwYXJhbSAgIHsgRnVuY3Rpb24gfSBoYW5kbGVyIC0gdXNlciBmdW5jdGlvblxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IGUgLSBldmVudCBvYmplY3RcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGRvbSwgaGFuZGxlciwgZSkge1xuICAgIHZhciBwdGFnID0gdGhpcy5fXy5wYXJlbnQ7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLl9fLml0ZW07XG5cbiAgICBpZiAoIWl0ZW0pXG4gICAgICB7IHdoaWxlIChwdGFnICYmICFpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBwdGFnLl9fLml0ZW07XG4gICAgICAgIHB0YWcgPSBwdGFnLl9fLnBhcmVudDtcbiAgICAgIH0gfVxuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGV2ZW50IHByb3BlcnRpZXNcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChpc1dyaXRhYmxlKGUsICdjdXJyZW50VGFyZ2V0JykpIHsgZS5jdXJyZW50VGFyZ2V0ID0gZG9tOyB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoaXNXcml0YWJsZShlLCAndGFyZ2V0JykpIHsgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQ7IH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChpc1dyaXRhYmxlKGUsICd3aGljaCcpKSB7IGUud2hpY2ggPSBlLmNoYXJDb2RlIHx8IGUua2V5Q29kZTsgfVxuXG4gICAgZS5pdGVtID0gaXRlbTtcblxuICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBlKTtcblxuICAgIC8vIGF2b2lkIGF1dG8gdXBkYXRlc1xuICAgIGlmICghc2V0dGluZ3MuYXV0b1VwZGF0ZSkgeyByZXR1cm4gfVxuXG4gICAgaWYgKCFlLnByZXZlbnRVcGRhdGUpIHtcbiAgICAgIHZhciBwID0gZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KHRoaXMpO1xuICAgICAgLy8gZml4ZXMgIzIwODNcbiAgICAgIGlmIChwLmlzTW91bnRlZCkgeyBwLnVwZGF0ZSgpOyB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaCBhbiBldmVudCB0byBhIERPTSBub2RlXG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IG5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gaGFuZGxlciAtIGV2ZW50IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGRvbSAtIGRvbSBub2RlXG4gICAqIEBwYXJhbSB7IFRhZyB9IHRhZyAtIHRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gc2V0RXZlbnRIYW5kbGVyKG5hbWUsIGhhbmRsZXIsIGRvbSwgdGFnKSB7XG4gICAgdmFyIGV2ZW50TmFtZTtcbiAgICB2YXIgY2IgPSBoYW5kbGVFdmVudC5iaW5kKHRhZywgZG9tLCBoYW5kbGVyKTtcblxuICAgIC8vIGF2b2lkIHRvIGJpbmQgdHdpY2UgdGhlIHNhbWUgZXZlbnRcbiAgICAvLyBwb3NzaWJsZSBmaXggZm9yICMyMzMyXG4gICAgZG9tW25hbWVdID0gbnVsbDtcblxuICAgIC8vIG5vcm1hbGl6ZSBldmVudCBuYW1lXG4gICAgZXZlbnROYW1lID0gbmFtZS5yZXBsYWNlKFJFX0VWRU5UU19QUkVGSVgsICcnKTtcblxuICAgIC8vIGNhY2hlIHRoZSBsaXN0ZW5lciBpbnRvIHRoZSBsaXN0ZW5lcnMgYXJyYXlcbiAgICBpZiAoIWNvbnRhaW5zKHRhZy5fXy5saXN0ZW5lcnMsIGRvbSkpIHsgdGFnLl9fLmxpc3RlbmVycy5wdXNoKGRvbSk7IH1cbiAgICBpZiAoIWRvbVtSSU9UX0VWRU5UU19LRVldKSB7IGRvbVtSSU9UX0VWRU5UU19LRVldID0ge307IH1cbiAgICBpZiAoZG9tW1JJT1RfRVZFTlRTX0tFWV1bbmFtZV0pIHsgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBkb21bUklPVF9FVkVOVFNfS0VZXVtuYW1lXSk7IH1cblxuICAgIGRvbVtSSU9UX0VWRU5UU19LRVldW25hbWVdID0gY2I7XG4gICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYiwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjaGlsZCB0YWcgaW5jbHVkaW5nIGl0IGNvcnJlY3RseSBpbnRvIGl0cyBwYXJlbnRcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBjaGlsZCAtIGNoaWxkIHRhZyBpbXBsZW1lbnRhdGlvblxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9IG9wdHMgLSB0YWcgb3B0aW9ucyBjb250YWluaW5nIHRoZSBET00gbm9kZSB3aGVyZSB0aGUgdGFnIHdpbGwgYmUgbW91bnRlZFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGlubmVySFRNTCAtIGlubmVyIGh0bWwgb2YgdGhlIGNoaWxkIG5vZGVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBwYXJlbnQgLSBpbnN0YW5jZSBvZiB0aGUgcGFyZW50IHRhZyBpbmNsdWRpbmcgdGhlIGNoaWxkIGN1c3RvbSB0YWdcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSBpbnN0YW5jZSBvZiB0aGUgbmV3IGNoaWxkIHRhZyBqdXN0IGNyZWF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIGluaXRDaGlsZChjaGlsZCwgb3B0cywgaW5uZXJIVE1MLCBwYXJlbnQpIHtcbiAgICB2YXIgdGFnID0gY3JlYXRlVGFnKGNoaWxkLCBvcHRzLCBpbm5lckhUTUwpO1xuICAgIHZhciB0YWdOYW1lID0gb3B0cy50YWdOYW1lIHx8IGdldE5hbWUob3B0cy5yb290LCB0cnVlKTtcbiAgICB2YXIgcHRhZyA9IGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudChwYXJlbnQpO1xuICAgIC8vIGZpeCBmb3IgdGhlIHBhcmVudCBhdHRyaWJ1dGUgaW4gdGhlIGxvb3BlZCBlbGVtZW50c1xuICAgIGRlZmluZSh0YWcsICdwYXJlbnQnLCBwdGFnKTtcbiAgICAvLyBzdG9yZSB0aGUgcmVhbCBwYXJlbnQgdGFnXG4gICAgLy8gaW4gc29tZSBjYXNlcyB0aGlzIGNvdWxkIGJlIGRpZmZlcmVudCBmcm9tIHRoZSBjdXN0b20gcGFyZW50IHRhZ1xuICAgIC8vIGZvciBleGFtcGxlIGluIG5lc3RlZCBsb29wc1xuICAgIHRhZy5fXy5wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgICAvLyBhZGQgdGhpcyB0YWcgdG8gdGhlIGN1c3RvbSBwYXJlbnQgdGFnXG4gICAgYXJyYXlpc2hBZGQocHRhZy50YWdzLCB0YWdOYW1lLCB0YWcpO1xuXG4gICAgLy8gYW5kIGFsc28gdG8gdGhlIHJlYWwgcGFyZW50IHRhZ1xuICAgIGlmIChwdGFnICE9PSBwYXJlbnQpXG4gICAgICB7IGFycmF5aXNoQWRkKHBhcmVudC50YWdzLCB0YWdOYW1lLCB0YWcpOyB9XG5cbiAgICByZXR1cm4gdGFnXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gb2JqZWN0IGF0IGEgZ2l2ZW4ga2V5LiBJZiB0aGUga2V5IHBvaW50cyB0byBhbiBhcnJheSxcbiAgICogdGhlbiB0aGUgaXRlbSBpcyBqdXN0IHJlbW92ZWQgZnJvbSB0aGUgYXJyYXkuXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAtIG9iamVjdCBvbiB3aGljaCB0byByZW1vdmUgdGhlIHByb3BlcnR5XG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IGtleSAtIHByb3BlcnR5IG5hbWVcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gdmFsdWUgLSB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IHRvIGJlIHJlbW92ZWRcbiAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGVuc3VyZUFycmF5IC0gZW5zdXJlIHRoYXQgdGhlIHByb3BlcnR5IHJlbWFpbnMgYW4gYXJyYXlcbiAgKi9cbiAgZnVuY3Rpb24gYXJyYXlpc2hSZW1vdmUob2JqLCBrZXksIHZhbHVlLCBlbnN1cmVBcnJheSkge1xuICAgIGlmIChpc0FycmF5KG9ialtrZXldKSkge1xuICAgICAgdmFyIGluZGV4ID0gb2JqW2tleV0uaW5kZXhPZih2YWx1ZSk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7IG9ialtrZXldLnNwbGljZShpbmRleCwgMSk7IH1cbiAgICAgIGlmICghb2JqW2tleV0ubGVuZ3RoKSB7IGRlbGV0ZSBvYmpba2V5XTsgfVxuICAgICAgZWxzZSBpZiAob2JqW2tleV0ubGVuZ3RoID09PSAxICYmICFlbnN1cmVBcnJheSkgeyBvYmpba2V5XSA9IG9ialtrZXldWzBdOyB9XG4gICAgfSBlbHNlIGlmIChvYmpba2V5XSA9PT0gdmFsdWUpXG4gICAgICB7IGRlbGV0ZSBvYmpba2V5XTsgfSAvLyBvdGhlcndpc2UganVzdCBkZWxldGUgdGhlIGtleVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGVsZW1lbnRzIGZvciBhIHZpcnR1YWwgdGFnXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyBOb2RlIH0gc3JjIC0gdGhlIG5vZGUgdGhhdCB3aWxsIGRvIHRoZSBpbnNlcnRpbmcgb3IgYXBwZW5kaW5nXG4gICAqIEBwYXJhbSB7IFRhZyB9IHRhcmdldCAtIG9ubHkgaWYgaW5zZXJ0aW5nLCBpbnNlcnQgYmVmb3JlIHRoaXMgdGFnJ3MgZmlyc3QgY2hpbGRcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VWaXJ0dWFsKHNyYywgdGFyZ2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaGVhZCA9IGNyZWF0ZURPTVBsYWNlaG9sZGVyKCk7XG4gICAgdmFyIHRhaWwgPSBjcmVhdGVET01QbGFjZWhvbGRlcigpO1xuICAgIHZhciBmcmFnID0gY3JlYXRlRnJhZ21lbnQoKTtcbiAgICB2YXIgc2liO1xuICAgIHZhciBlbDtcblxuICAgIHRoaXMucm9vdC5pbnNlcnRCZWZvcmUoaGVhZCwgdGhpcy5yb290LmZpcnN0Q2hpbGQpO1xuICAgIHRoaXMucm9vdC5hcHBlbmRDaGlsZCh0YWlsKTtcblxuICAgIHRoaXMuX18uaGVhZCA9IGVsID0gaGVhZDtcbiAgICB0aGlzLl9fLnRhaWwgPSB0YWlsO1xuXG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBzaWIgPSBlbC5uZXh0U2libGluZztcbiAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgdGhpcyQxLl9fLnZpcnRzLnB1c2goZWwpOyAvLyBob2xkIGZvciB1bm1vdW50aW5nXG4gICAgICBlbCA9IHNpYjtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0KVxuICAgICAgeyBzcmMuaW5zZXJ0QmVmb3JlKGZyYWcsIHRhcmdldC5fXy5oZWFkKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgc3JjLmFwcGVuZENoaWxkKGZyYWcpOyB9XG4gIH1cblxuICAvKipcbiAgICogbWFrZXMgYSB0YWcgdmlydHVhbCBhbmQgcmVwbGFjZXMgYSByZWZlcmVuY2UgaW4gdGhlIGRvbVxuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtIHsgdGFnIH0gdGhlIHRhZyB0byBtYWtlIHZpcnR1YWxcbiAgICogQHBhcmFtIHsgcmVmIH0gdGhlIGRvbSByZWZlcmVuY2UgbG9jYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VSZXBsYWNlVmlydHVhbCh0YWcsIHJlZikge1xuICAgIGlmICghcmVmLnBhcmVudE5vZGUpIHsgcmV0dXJuIH1cbiAgICB2YXIgZnJhZyA9IGNyZWF0ZUZyYWdtZW50KCk7XG4gICAgbWFrZVZpcnR1YWwuY2FsbCh0YWcsIGZyYWcpO1xuICAgIHJlZi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChmcmFnLCByZWYpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBkeW5hbWljYWxseSBjcmVhdGVkIGRhdGEtaXMgdGFncyB3aXRoIGNoYW5naW5nIGV4cHJlc3Npb25zXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGV4cHIgLSBleHByZXNzaW9uIHRhZyBhbmQgZXhwcmVzc2lvbiBpbmZvXG4gICAqIEBwYXJhbSB7IFRhZyB9ICAgIHBhcmVudCAtIHBhcmVudCBmb3IgdGFnIGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IHRhZ05hbWUgLSB0YWcgaW1wbGVtZW50YXRpb24gd2Ugd2FudCB0byB1c2VcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZURhdGFJcyhleHByLCBwYXJlbnQsIHRhZ05hbWUpIHtcbiAgICB2YXIgdGFnID0gZXhwci50YWcgfHwgZXhwci5kb20uX3RhZztcbiAgICB2YXIgcmVmO1xuXG4gICAgdmFyIHJlZiQxID0gdGFnID8gdGFnLl9fIDoge307XG4gICAgdmFyIGhlYWQgPSByZWYkMS5oZWFkO1xuICAgIHZhciBpc1ZpcnR1YWwgPSBleHByLmRvbS50YWdOYW1lID09PSAnVklSVFVBTCc7XG5cbiAgICBpZiAodGFnICYmIGV4cHIudGFnTmFtZSA9PT0gdGFnTmFtZSkge1xuICAgICAgdGFnLnVwZGF0ZSgpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gc3luYyBfcGFyZW50IHRvIGFjY29tbW9kYXRlIGNoYW5naW5nIHRhZ25hbWVzXG4gICAgaWYgKHRhZykge1xuICAgICAgLy8gbmVlZCBwbGFjZWhvbGRlciBiZWZvcmUgdW5tb3VudFxuICAgICAgaWYoaXNWaXJ0dWFsKSB7XG4gICAgICAgIHJlZiA9IGNyZWF0ZURPTVBsYWNlaG9sZGVyKCk7XG4gICAgICAgIGhlYWQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocmVmLCBoZWFkKTtcbiAgICAgIH1cblxuICAgICAgdGFnLnVubW91bnQodHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gdW5hYmxlIHRvIGdldCB0aGUgdGFnIG5hbWVcbiAgICBpZiAoIWlzU3RyaW5nKHRhZ05hbWUpKSB7IHJldHVybiB9XG5cbiAgICBleHByLmltcGwgPSBfX1RBR19JTVBMW3RhZ05hbWVdO1xuXG4gICAgLy8gdW5rbm93biBpbXBsZW1lbnRhdGlvblxuICAgIGlmICghZXhwci5pbXBsKSB7IHJldHVybiB9XG5cbiAgICBleHByLnRhZyA9IHRhZyA9IGluaXRDaGlsZChcbiAgICAgIGV4cHIuaW1wbCwge1xuICAgICAgICByb290OiBleHByLmRvbSxcbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIHRhZ05hbWU6IHRhZ05hbWVcbiAgICAgIH0sXG4gICAgICBleHByLmRvbS5pbm5lckhUTUwsXG4gICAgICBwYXJlbnRcbiAgICApO1xuXG4gICAgZWFjaChleHByLmF0dHJzLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gc2V0QXR0cmlidXRlKHRhZy5yb290LCBhLm5hbWUsIGEudmFsdWUpOyB9KTtcbiAgICBleHByLnRhZ05hbWUgPSB0YWdOYW1lO1xuICAgIHRhZy5tb3VudCgpO1xuXG4gICAgLy8gcm9vdCBleGlzdCBmaXJzdCB0aW1lLCBhZnRlciB1c2UgcGxhY2Vob2xkZXJcbiAgICBpZiAoaXNWaXJ0dWFsKSB7IG1ha2VSZXBsYWNlVmlydHVhbCh0YWcsIHJlZiB8fCB0YWcucm9vdCk7IH1cblxuICAgIC8vIHBhcmVudCBpcyB0aGUgcGxhY2Vob2xkZXIgdGFnLCBub3QgdGhlIGR5bmFtaWMgdGFnIHNvIGNsZWFuIHVwXG4gICAgcGFyZW50Ll9fLm9uVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkZWxOYW1lID0gdGFnLm9wdHMuZGF0YUlzO1xuICAgICAgYXJyYXlpc2hSZW1vdmUodGFnLnBhcmVudC50YWdzLCBkZWxOYW1lLCB0YWcpO1xuICAgICAgYXJyYXlpc2hSZW1vdmUodGFnLl9fLnBhcmVudC50YWdzLCBkZWxOYW1lLCB0YWcpO1xuICAgICAgdGFnLnVubW91bnQoKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vbWFsaXplIGFueSBhdHRyaWJ1dGUgcmVtb3ZpbmcgdGhlIFwicmlvdC1cIiBwcmVmaXhcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBhdHRyTmFtZSAtIG9yaWdpbmFsIGF0dHJpYnV0ZSBuYW1lXG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gdmFsaWQgaHRtbCBhdHRyaWJ1dGUgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gbm9ybWFsaXplQXR0ck5hbWUoYXR0ck5hbWUpIHtcbiAgICBpZiAoIWF0dHJOYW1lKSB7IHJldHVybiBudWxsIH1cbiAgICBhdHRyTmFtZSA9IGF0dHJOYW1lLnJlcGxhY2UoQVRUUlNfUFJFRklYLCAnJyk7XG4gICAgaWYgKENBU0VfU0VOU0lUSVZFX0FUVFJJQlVURVNbYXR0ck5hbWVdKSB7IGF0dHJOYW1lID0gQ0FTRV9TRU5TSVRJVkVfQVRUUklCVVRFU1thdHRyTmFtZV07IH1cbiAgICByZXR1cm4gYXR0ck5hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgb24gc2luZ2xlIHRhZyBleHByZXNzaW9uXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyBPYmplY3QgfSBleHByIC0gZXhwcmVzc2lvbiBsb2dpY1xuICAgKiBAcmV0dXJucyB7IHVuZGVmaW5lZCB9XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVFeHByZXNzaW9uKGV4cHIpIHtcbiAgICBpZiAodGhpcy5yb290ICYmIGdldEF0dHJpYnV0ZSh0aGlzLnJvb3QsJ3ZpcnR1YWxpemVkJykpIHsgcmV0dXJuIH1cblxuICAgIHZhciBkb20gPSBleHByLmRvbTtcbiAgICAvLyByZW1vdmUgdGhlIHJpb3QtIHByZWZpeFxuICAgIHZhciBhdHRyTmFtZSA9IG5vcm1hbGl6ZUF0dHJOYW1lKGV4cHIuYXR0cik7XG4gICAgdmFyIGlzVG9nZ2xlID0gY29udGFpbnMoW1NIT1dfRElSRUNUSVZFLCBISURFX0RJUkVDVElWRV0sIGF0dHJOYW1lKTtcbiAgICB2YXIgaXNWaXJ0dWFsID0gZXhwci5yb290ICYmIGV4cHIucm9vdC50YWdOYW1lID09PSAnVklSVFVBTCc7XG4gICAgdmFyIHJlZiA9IHRoaXMuX187XG4gICAgdmFyIGlzQW5vbnltb3VzID0gcmVmLmlzQW5vbnltb3VzO1xuICAgIHZhciBwYXJlbnQgPSBkb20gJiYgKGV4cHIucGFyZW50IHx8IGRvbS5wYXJlbnROb2RlKTtcbiAgICB2YXIga2VlcFZhbHVlQXR0cmlidXRlcyA9IHNldHRpbmdzLmtlZXBWYWx1ZUF0dHJpYnV0ZXM7XG4gICAgLy8gZGV0ZWN0IHRoZSBzdHlsZSBhdHRyaWJ1dGVzXG4gICAgdmFyIGlzU3R5bGVBdHRyID0gYXR0ck5hbWUgPT09ICdzdHlsZSc7XG4gICAgdmFyIGlzQ2xhc3NBdHRyID0gYXR0ck5hbWUgPT09ICdjbGFzcyc7XG4gICAgdmFyIGlzVmFsdWVBdHRyID0gYXR0ck5hbWUgPT09ICd2YWx1ZSc7XG5cbiAgICB2YXIgdmFsdWU7XG5cbiAgICAvLyBpZiBpdCdzIGEgdGFnIHdlIGNvdWxkIHRvdGFsbHkgc2tpcCB0aGUgcmVzdFxuICAgIGlmIChleHByLl9yaW90X2lkKSB7XG4gICAgICBpZiAoZXhwci5fXy53YXNDcmVhdGVkKSB7XG4gICAgICAgIGV4cHIudXBkYXRlKCk7XG4gICAgICAvLyBpZiBpdCBoYXNuJ3QgYmVlbiBtb3VudGVkIHlldCwgZG8gdGhhdCBub3cuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHByLm1vdW50KCk7XG4gICAgICAgIGlmIChpc1ZpcnR1YWwpIHtcbiAgICAgICAgICBtYWtlUmVwbGFjZVZpcnR1YWwoZXhwciwgZXhwci5yb290KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gaWYgdGhpcyBleHByZXNzaW9uIGhhcyB0aGUgdXBkYXRlIG1ldGhvZCBpdCBtZWFucyBpdCBjYW4gaGFuZGxlIHRoZSBET00gY2hhbmdlcyBieSBpdHNlbGZcbiAgICBpZiAoZXhwci51cGRhdGUpIHsgcmV0dXJuIGV4cHIudXBkYXRlKCkgfVxuXG4gICAgdmFyIGNvbnRleHQgPSBpc1RvZ2dsZSAmJiAhaXNBbm9ueW1vdXMgPyBpbmhlcml0UGFyZW50UHJvcHMuY2FsbCh0aGlzKSA6IHRoaXM7XG5cbiAgICAvLyAuLi5pdCBzZWVtcyB0byBiZSBhIHNpbXBsZSBleHByZXNzaW9uIHNvIHdlIHRyeSB0byBjYWxjdWxhdGUgaXRzIHZhbHVlXG4gICAgdmFsdWUgPSB0bXBsKGV4cHIuZXhwciwgY29udGV4dCk7XG5cbiAgICB2YXIgaGFzVmFsdWUgPSAhaXNCbGFuayh2YWx1ZSk7XG4gICAgdmFyIGlzT2JqID0gaXNPYmplY3QodmFsdWUpO1xuXG4gICAgLy8gY29udmVydCB0aGUgc3R5bGUvY2xhc3Mgb2JqZWN0cyB0byBzdHJpbmdzXG4gICAgaWYgKGlzT2JqKSB7XG4gICAgICBpZiAoaXNDbGFzc0F0dHIpIHtcbiAgICAgICAgdmFsdWUgPSB0bXBsKEpTT04uc3RyaW5naWZ5KHZhbHVlKSwgdGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3R5bGVBdHRyKSB7XG4gICAgICAgIHZhbHVlID0gc3R5bGVPYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIG9yaWdpbmFsIGF0dHJpYnV0ZVxuICAgIGlmIChleHByLmF0dHIgJiZcbiAgICAgICAgKFxuICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBhdHRyaWJ1dGUgY2FuIGJlIHJlbW92ZWQgb25seSBpZiB3ZSBhcmUgcGFyc2luZyB0aGUgb3JpZ2luYWwgZXhwcmVzc2lvblxuICAgICAgICAgICFleHByLndhc1BhcnNlZE9uY2UgfHxcbiAgICAgICAgICAvLyBvciBpdHMgdmFsdWUgaXMgZmFsc2VcbiAgICAgICAgICB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAvLyBvciBpZiBpdHMgdmFsdWUgaXMgY3VycmVudGx5IGZhbHN5Li4uXG4gICAgICAgICAgLy8gV2Ugd2lsbCBrZWVwIHRoZSBcInZhbHVlXCIgYXR0cmlidXRlcyBpZiB0aGUgXCJrZWVwVmFsdWVBdHRyaWJ1dGVzXCJcbiAgICAgICAgICAvLyBpcyBlbmFibGVkIHRob3VnaFxuICAgICAgICAgICghaGFzVmFsdWUgJiYgKCFpc1ZhbHVlQXR0ciB8fCBpc1ZhbHVlQXR0ciAmJiAha2VlcFZhbHVlQXR0cmlidXRlcykpXG4gICAgICAgIClcbiAgICApIHtcbiAgICAgIC8vIHJlbW92ZSBlaXRoZXIgcmlvdC0qIGF0dHJpYnV0ZXMgb3IganVzdCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgIHJlbW92ZUF0dHJpYnV0ZShkb20sIGdldEF0dHJpYnV0ZShkb20sIGV4cHIuYXR0cikgPyBleHByLmF0dHIgOiBhdHRyTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gZm9yIHRoZSBib29sZWFuIGF0dHJpYnV0ZXMgd2UgZG9uJ3QgbmVlZCB0aGUgdmFsdWVcbiAgICAvLyB3ZSBjYW4gY29udmVydCBpdCB0byBjaGVja2VkPXRydWUgdG8gY2hlY2tlZD1jaGVja2VkXG4gICAgaWYgKGV4cHIuYm9vbCkgeyB2YWx1ZSA9IHZhbHVlID8gYXR0ck5hbWUgOiBmYWxzZTsgfVxuICAgIGlmIChleHByLmlzUnRhZykgeyByZXR1cm4gdXBkYXRlRGF0YUlzKGV4cHIsIHRoaXMsIHZhbHVlKSB9XG4gICAgaWYgKGV4cHIud2FzUGFyc2VkT25jZSAmJiBleHByLnZhbHVlID09PSB2YWx1ZSkgeyByZXR1cm4gfVxuXG4gICAgLy8gdXBkYXRlIHRoZSBleHByZXNzaW9uIHZhbHVlXG4gICAgZXhwci52YWx1ZSA9IHZhbHVlO1xuICAgIGV4cHIud2FzUGFyc2VkT25jZSA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYW4gb2JqZWN0IChhbmQgaXQncyBub3QgYSBzdHlsZSBvciBjbGFzcyBhdHRyaWJ1dGUpIHdlIGNhbiBub3QgZG8gbXVjaCBtb3JlIHdpdGggaXRcbiAgICBpZiAoaXNPYmogJiYgIWlzQ2xhc3NBdHRyICYmICFpc1N0eWxlQXR0ciAmJiAhaXNUb2dnbGUpIHsgcmV0dXJuIH1cbiAgICAvLyBhdm9pZCB0byByZW5kZXIgdW5kZWZpbmVkL251bGwgdmFsdWVzXG4gICAgaWYgKCFoYXNWYWx1ZSkgeyB2YWx1ZSA9ICcnOyB9XG5cbiAgICAvLyB0ZXh0YXJlYSBhbmQgdGV4dCBub2RlcyBoYXZlIG5vIGF0dHJpYnV0ZSBuYW1lXG4gICAgaWYgKCFhdHRyTmFtZSkge1xuICAgICAgLy8gYWJvdXQgIzgxNSB3L28gcmVwbGFjZTogdGhlIGJyb3dzZXIgY29udmVydHMgdGhlIHZhbHVlIHRvIGEgc3RyaW5nLFxuICAgICAgLy8gdGhlIGNvbXBhcmlzb24gYnkgXCI9PVwiIGRvZXMgdG9vLCBidXQgbm90IGluIHRoZSBzZXJ2ZXJcbiAgICAgIHZhbHVlICs9ICcnO1xuICAgICAgLy8gdGVzdCBmb3IgcGFyZW50IGF2b2lkcyBlcnJvciB3aXRoIGludmFsaWQgYXNzaWdubWVudCB0byBub2RlVmFsdWVcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgLy8gY2FjaGUgdGhlIHBhcmVudCBub2RlIGJlY2F1c2Ugc29tZWhvdyBpdCB3aWxsIGJlY29tZSBudWxsIG9uIElFXG4gICAgICAgIC8vIG9uIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICBleHByLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudC50YWdOYW1lID09PSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgcGFyZW50LnZhbHVlID0gdmFsdWU7ICAgICAgICAgICAgICAgICAgICAvLyAjMTExM1xuICAgICAgICAgIGlmICghSUVfVkVSU0lPTikgeyBkb20ubm9kZVZhbHVlID0gdmFsdWU7IH0gIC8vICMxNjI1IElFIHRocm93cyBoZXJlLCBub2RlVmFsdWVcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBiZSBhdmFpbGFibGUgb24gJ3VwZGF0ZWQnXG4gICAgICAgIGVsc2UgeyBkb20ubm9kZVZhbHVlID0gdmFsdWU7IH1cbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgIC8vIGhhbmRsZSBldmVudHMgYmluZGluZ1xuICAgIGNhc2UgaXNGdW5jdGlvbih2YWx1ZSk6XG4gICAgICBpZiAoaXNFdmVudEF0dHJpYnV0ZShhdHRyTmFtZSkpIHtcbiAgICAgICAgc2V0RXZlbnRIYW5kbGVyKGF0dHJOYW1lLCB2YWx1ZSwgZG9tLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgLy8gc2hvdyAvIGhpZGVcbiAgICBjYXNlIGlzVG9nZ2xlOlxuICAgICAgdG9nZ2xlVmlzaWJpbGl0eShkb20sIGF0dHJOYW1lID09PSBISURFX0RJUkVDVElWRSA/ICF2YWx1ZSA6IHZhbHVlKTtcbiAgICAgIGJyZWFrXG4gICAgLy8gaGFuZGxlIGF0dHJpYnV0ZXNcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKGV4cHIuYm9vbCkge1xuICAgICAgICBkb21bYXR0ck5hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1ZhbHVlQXR0ciAmJiBkb20udmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChoYXNWYWx1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgc2V0QXR0cmlidXRlKGRvbSwgYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgaW4gY2FzZSBvZiBzdHlsZSBjaGFuZ2VzXG4gICAgICAvLyB0aGUgZWxlbWVudCBzdGF5cyBoaWRkZW5cbiAgICAgIGlmIChpc1N0eWxlQXR0ciAmJiBkb20uaGlkZGVuKSB7IHRvZ2dsZVZpc2liaWxpdHkoZG9tLCBmYWxzZSk7IH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFsbCB0aGUgZXhwcmVzc2lvbnMgaW4gYSBUYWcgaW5zdGFuY2VcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IEFycmF5IH0gZXhwcmVzc2lvbnMgLSBleHByZXNzaW9uIHRoYXQgbXVzdCBiZSByZSBldmFsdWF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZShleHByZXNzaW9ucykge1xuICAgIGVhY2goZXhwcmVzc2lvbnMsIHVwZGF0ZUV4cHJlc3Npb24uYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogV2UgbmVlZCB0byB1cGRhdGUgb3B0cyBmb3IgdGhpcyB0YWcuIFRoYXQgcmVxdWlyZXMgdXBkYXRpbmcgdGhlIGV4cHJlc3Npb25zXG4gICAqIGluIGFueSBhdHRyaWJ1dGVzIG9uIHRoZSB0YWcsIGFuZCB0aGVuIGNvcHlpbmcgdGhlIHJlc3VsdCBvbnRvIG9wdHMuXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7Qm9vbGVhbn0gaXNMb29wIC0gaXMgaXQgYSBsb29wIHRhZz9cbiAgICogQHBhcmFtICAgeyBUYWcgfSAgcGFyZW50IC0gcGFyZW50IHRhZyBub2RlXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9ICBpc0Fub255bW91cyAtIGlzIGl0IGEgdGFnIHdpdGhvdXQgYW55IGltcGw/IChhIHRhZyBub3QgcmVnaXN0ZXJlZClcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAgb3B0cyAtIHRhZyBvcHRpb25zXG4gICAqIEBwYXJhbSAgIHsgQXJyYXkgfSAgaW5zdEF0dHJzIC0gdGFnIGF0dHJpYnV0ZXMgYXJyYXlcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZU9wdHMoaXNMb29wLCBwYXJlbnQsIGlzQW5vbnltb3VzLCBvcHRzLCBpbnN0QXR0cnMpIHtcbiAgICAvLyBpc0Fub255bW91cyBgZWFjaGAgdGFncyB0cmVhdCBgZG9tYCBhbmQgYHJvb3RgIGRpZmZlcmVudGx5LiBJbiB0aGlzIGNhc2VcbiAgICAvLyAoYW5kIG9ubHkgdGhpcyBjYXNlKSB3ZSBkb24ndCBuZWVkIHRvIGRvIHVwZGF0ZU9wdHMsIGJlY2F1c2UgdGhlIHJlZ3VsYXIgcGFyc2VcbiAgICAvLyB3aWxsIHVwZGF0ZSB0aG9zZSBhdHRycy4gUGx1cywgaXNBbm9ueW1vdXMgdGFncyBkb24ndCBuZWVkIG9wdHMgYW55d2F5XG4gICAgaWYgKGlzTG9vcCAmJiBpc0Fub255bW91cykgeyByZXR1cm4gfVxuICAgIHZhciBjdHggPSBpc0xvb3AgPyBpbmhlcml0UGFyZW50UHJvcHMuY2FsbCh0aGlzKSA6IHBhcmVudCB8fCB0aGlzO1xuXG4gICAgZWFjaChpbnN0QXR0cnMsIGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICBpZiAoYXR0ci5leHByKSB7IHVwZGF0ZUV4cHJlc3Npb24uY2FsbChjdHgsIGF0dHIuZXhwcik7IH1cbiAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgYXR0cmlidXRlIG5hbWVzXG4gICAgICBvcHRzW3RvQ2FtZWwoYXR0ci5uYW1lKS5yZXBsYWNlKEFUVFJTX1BSRUZJWCwgJycpXSA9IGF0dHIuZXhwciA/IGF0dHIuZXhwci52YWx1ZSA6IGF0dHIudmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB0YWcgZXhwcmVzc2lvbnMgYW5kIG9wdGlvbnNcbiAgICogQHBhcmFtIHsgVGFnIH0gdGFnIC0gdGFnIG9iamVjdFxuICAgKiBAcGFyYW0geyAqIH0gZGF0YSAtIGRhdGEgd2Ugd2FudCB0byB1c2UgdG8gZXh0ZW5kIHRoZSB0YWcgcHJvcGVydGllc1xuICAgKiBAcGFyYW0geyBBcnJheSB9IGV4cHJlc3Npb25zIC0gY29tcG9uZW50IGV4cHJlc3Npb25zIGFycmF5XG4gICAqIEByZXR1cm5zIHsgVGFnIH0gdGhlIGN1cnJlbnQgdGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGUodGFnLCBkYXRhLCBleHByZXNzaW9ucykge1xuICAgIHZhciBfXyA9IHRhZy5fXztcbiAgICB2YXIgbmV4dE9wdHMgPSB7fTtcbiAgICB2YXIgY2FuVHJpZ2dlciA9IHRhZy5pc01vdW50ZWQgJiYgIV9fLnNraXBBbm9ueW1vdXM7XG5cbiAgICAvLyBpbmhlcml0IHByb3BlcnRpZXMgZnJvbSB0aGUgcGFyZW50IHRhZ1xuICAgIGlmIChfXy5pc0Fub255bW91cyAmJiBfXy5wYXJlbnQpIHsgZXh0ZW5kKHRhZywgX18ucGFyZW50KTsgfVxuICAgIGV4dGVuZCh0YWcsIGRhdGEpO1xuXG4gICAgdXBkYXRlT3B0cy5hcHBseSh0YWcsIFtfXy5pc0xvb3AsIF9fLnBhcmVudCwgX18uaXNBbm9ueW1vdXMsIG5leHRPcHRzLCBfXy5pbnN0QXR0cnNdKTtcblxuICAgIGlmIChcbiAgICAgIGNhblRyaWdnZXIgJiZcbiAgICAgIHRhZy5pc01vdW50ZWQgJiZcbiAgICAgIGlzRnVuY3Rpb24odGFnLnNob3VsZFVwZGF0ZSkgJiYgIXRhZy5zaG91bGRVcGRhdGUoZGF0YSwgbmV4dE9wdHMpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGFnXG4gICAgfVxuXG4gICAgZXh0ZW5kKHRhZy5vcHRzLCBuZXh0T3B0cyk7XG5cbiAgICBpZiAoY2FuVHJpZ2dlcikgeyB0YWcudHJpZ2dlcigndXBkYXRlJywgZGF0YSk7IH1cbiAgICB1cGRhdGUuY2FsbCh0YWcsIGV4cHJlc3Npb25zKTtcbiAgICBpZiAoY2FuVHJpZ2dlcikgeyB0YWcudHJpZ2dlcigndXBkYXRlZCcpOyB9XG5cbiAgICByZXR1cm4gdGFnXG4gIH1cblxuICAvKipcbiAgICogR2V0IHNlbGVjdG9ycyBmb3IgdGFnc1xuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gdGFncyAtIHRhZyBuYW1lcyB0byBzZWxlY3RcbiAgICogQHJldHVybnMgeyBTdHJpbmcgfSBzZWxlY3RvclxuICAgKi9cbiAgZnVuY3Rpb24gcXVlcnkodGFncykge1xuICAgIC8vIHNlbGVjdCBhbGwgdGFnc1xuICAgIGlmICghdGFncykge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhfX1RBR19JTVBMKTtcbiAgICAgIHJldHVybiBrZXlzICsgcXVlcnkoa2V5cylcbiAgICB9XG5cbiAgICByZXR1cm4gdGFnc1xuICAgICAgLmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gIS9bXi1cXHddLy50ZXN0KHQpOyB9KVxuICAgICAgLnJlZHVjZShmdW5jdGlvbiAobGlzdCwgdCkge1xuICAgICAgICB2YXIgbmFtZSA9IHQudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBsaXN0ICsgXCIsW1wiICsgSVNfRElSRUNUSVZFICsgXCI9XFxcIlwiICsgbmFtZSArIFwiXFxcIl1cIlxuICAgICAgfSwgJycpXG4gIH1cblxuICAvKipcbiAgICogQW5vdGhlciB3YXkgdG8gY3JlYXRlIGEgcmlvdCB0YWcgYSBiaXQgbW9yZSBlczYgZnJpZW5kbHlcbiAgICogQHBhcmFtIHsgSFRNTEVsZW1lbnQgfSBlbCAtIHRhZyBET00gc2VsZWN0b3Igb3IgRE9NIG5vZGUvc1xuICAgKiBAcGFyYW0geyBPYmplY3QgfSBvcHRzIC0gdGFnIGxvZ2ljXG4gICAqIEByZXR1cm5zIHsgVGFnIH0gbmV3IHJpb3QgdGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBUYWcoZWwsIG9wdHMpIHtcbiAgICAvLyBnZXQgdGhlIHRhZyBwcm9wZXJ0aWVzIGZyb20gdGhlIGNsYXNzIGNvbnN0cnVjdG9yXG4gICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgdmFyIG5hbWUgPSByZWYubmFtZTtcbiAgICB2YXIgdG1wbCA9IHJlZi50bXBsO1xuICAgIHZhciBjc3MgPSByZWYuY3NzO1xuICAgIHZhciBhdHRycyA9IHJlZi5hdHRycztcbiAgICB2YXIgb25DcmVhdGUgPSByZWYub25DcmVhdGU7XG4gICAgLy8gcmVnaXN0ZXIgYSBuZXcgdGFnIGFuZCBjYWNoZSB0aGUgY2xhc3MgcHJvdG90eXBlXG4gICAgaWYgKCFfX1RBR19JTVBMW25hbWVdKSB7XG4gICAgICB0YWcobmFtZSwgdG1wbCwgY3NzLCBhdHRycywgb25DcmVhdGUpO1xuICAgICAgLy8gY2FjaGUgdGhlIGNsYXNzIGNvbnN0cnVjdG9yXG4gICAgICBfX1RBR19JTVBMW25hbWVdLmNsYXNzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICAvLyBtb3VudCB0aGUgdGFnIHVzaW5nIHRoZSBjbGFzcyBpbnN0YW5jZVxuICAgIG1vdW50JDEoZWwsIG5hbWUsIG9wdHMsIHRoaXMpO1xuICAgIC8vIGluamVjdCB0aGUgY29tcG9uZW50IGNzc1xuICAgIGlmIChjc3MpIHsgc3R5bGVNYW5hZ2VyLmluamVjdCgpOyB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyByaW90IHRhZyBpbXBsZW1lbnRhdGlvblxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgbmFtZSAtIG5hbWUvaWQgb2YgdGhlIG5ldyByaW90IHRhZ1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgdG1wbCAtIHRhZyB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9ICAgY3NzIC0gY3VzdG9tIHRhZyBjc3NcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIGF0dHJzIC0gcm9vdCB0YWcgYXR0cmlidXRlc1xuICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSB1c2VyIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHsgU3RyaW5nIH0gbmFtZS9pZCBvZiB0aGUgdGFnIGp1c3QgY3JlYXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gdGFnKG5hbWUsIHRtcGwsIGNzcywgYXR0cnMsIGZuKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oYXR0cnMpKSB7XG4gICAgICBmbiA9IGF0dHJzO1xuXG4gICAgICBpZiAoL15bXFx3LV0rXFxzPz0vLnRlc3QoY3NzKSkge1xuICAgICAgICBhdHRycyA9IGNzcztcbiAgICAgICAgY3NzID0gJyc7XG4gICAgICB9IGVsc2VcbiAgICAgICAgeyBhdHRycyA9ICcnOyB9XG4gICAgfVxuXG4gICAgaWYgKGNzcykge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oY3NzKSlcbiAgICAgICAgeyBmbiA9IGNzczsgfVxuICAgICAgZWxzZVxuICAgICAgICB7IHN0eWxlTWFuYWdlci5hZGQoY3NzLCBuYW1lKTsgfVxuICAgIH1cblxuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgX19UQUdfSU1QTFtuYW1lXSA9IHsgbmFtZTogbmFtZSwgdG1wbDogdG1wbCwgYXR0cnM6IGF0dHJzLCBmbjogZm4gfTtcblxuICAgIHJldHVybiBuYW1lXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHJpb3QgdGFnIGltcGxlbWVudGF0aW9uIChmb3IgdXNlIGJ5IHRoZSBjb21waWxlcilcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIG5hbWUgLSBuYW1lL2lkIG9mIHRoZSBuZXcgcmlvdCB0YWdcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIHRtcGwgLSB0YWcgdGVtcGxhdGVcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSAgIGNzcyAtIGN1c3RvbSB0YWcgY3NzXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gICBhdHRycyAtIHJvb3QgdGFnIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtICAgeyBGdW5jdGlvbiB9IGZuIC0gdXNlciBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7IFN0cmluZyB9IG5hbWUvaWQgb2YgdGhlIHRhZyBqdXN0IGNyZWF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIHRhZzIobmFtZSwgdG1wbCwgY3NzLCBhdHRycywgZm4pIHtcbiAgICBpZiAoY3NzKSB7IHN0eWxlTWFuYWdlci5hZGQoY3NzLCBuYW1lKTsgfVxuXG4gICAgX19UQUdfSU1QTFtuYW1lXSA9IHsgbmFtZTogbmFtZSwgdG1wbDogdG1wbCwgYXR0cnM6IGF0dHJzLCBmbjogZm4gfTtcblxuICAgIHJldHVybiBuYW1lXG4gIH1cblxuICAvKipcbiAgICogTW91bnQgYSB0YWcgdXNpbmcgYSBzcGVjaWZpYyB0YWcgaW1wbGVtZW50YXRpb25cbiAgICogQHBhcmFtICAgeyAqIH0gc2VsZWN0b3IgLSB0YWcgRE9NIHNlbGVjdG9yIG9yIERPTSBub2RlL3NcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSB0YWdOYW1lIC0gdGFnIGltcGxlbWVudGF0aW9uIG5hbWVcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBvcHRzIC0gdGFnIGxvZ2ljXG4gICAqIEByZXR1cm5zIHsgQXJyYXkgfSBuZXcgdGFncyBpbnN0YW5jZXNcbiAgICovXG4gIGZ1bmN0aW9uIG1vdW50KHNlbGVjdG9yLCB0YWdOYW1lLCBvcHRzKSB7XG4gICAgdmFyIHRhZ3MgPSBbXTtcbiAgICB2YXIgZWxlbSwgYWxsVGFncztcblxuICAgIGZ1bmN0aW9uIHB1c2hUYWdzVG8ocm9vdCkge1xuICAgICAgaWYgKHJvb3QudGFnTmFtZSkge1xuICAgICAgICB2YXIgcmlvdFRhZyA9IGdldEF0dHJpYnV0ZShyb290LCBJU19ESVJFQ1RJVkUpLCB0YWc7XG5cbiAgICAgICAgLy8gaGF2ZSB0YWdOYW1lPyBmb3JjZSByaW90LXRhZyB0byBiZSB0aGUgc2FtZVxuICAgICAgICBpZiAodGFnTmFtZSAmJiByaW90VGFnICE9PSB0YWdOYW1lKSB7XG4gICAgICAgICAgcmlvdFRhZyA9IHRhZ05hbWU7XG4gICAgICAgICAgc2V0QXR0cmlidXRlKHJvb3QsIElTX0RJUkVDVElWRSwgdGFnTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0YWcgPSBtb3VudCQxKFxuICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgcmlvdFRhZyB8fCByb290LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICBpc0Z1bmN0aW9uKG9wdHMpID8gb3B0cygpIDogb3B0c1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0YWcpXG4gICAgICAgICAgeyB0YWdzLnB1c2godGFnKTsgfVxuICAgICAgfSBlbHNlIGlmIChyb290Lmxlbmd0aClcbiAgICAgICAgeyBlYWNoKHJvb3QsIHB1c2hUYWdzVG8pOyB9IC8vIGFzc3VtZSBub2RlTGlzdFxuICAgIH1cblxuICAgIC8vIGluamVjdCBzdHlsZXMgaW50byBET01cbiAgICBzdHlsZU1hbmFnZXIuaW5qZWN0KCk7XG5cbiAgICBpZiAoaXNPYmplY3QodGFnTmFtZSkgfHwgaXNGdW5jdGlvbih0YWdOYW1lKSkge1xuICAgICAgb3B0cyA9IHRhZ05hbWU7XG4gICAgICB0YWdOYW1lID0gMDtcbiAgICB9XG5cbiAgICAvLyBjcmF3bCB0aGUgRE9NIHRvIGZpbmQgdGhlIHRhZ1xuICAgIGlmIChpc1N0cmluZyhzZWxlY3RvcikpIHtcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgPT09ICcqJyA/XG4gICAgICAgIC8vIHNlbGVjdCBhbGwgcmVnaXN0ZXJlZCB0YWdzXG4gICAgICAgIC8vICYgdGFncyBmb3VuZCB3aXRoIHRoZSByaW90LXRhZyBhdHRyaWJ1dGUgc2V0XG4gICAgICAgIGFsbFRhZ3MgPSBxdWVyeSgpIDpcbiAgICAgICAgLy8gb3IganVzdCB0aGUgb25lcyBuYW1lZCBsaWtlIHRoZSBzZWxlY3RvclxuICAgICAgICBzZWxlY3RvciArIHF1ZXJ5KHNlbGVjdG9yLnNwbGl0KC8sICovKSk7XG5cbiAgICAgIC8vIG1ha2Ugc3VyZSB0byBwYXNzIGFsd2F5cyBhIHNlbGVjdG9yXG4gICAgICAvLyB0byB0aGUgcXVlcnlTZWxlY3RvckFsbCBmdW5jdGlvblxuICAgICAgZWxlbSA9IHNlbGVjdG9yID8gJCQoc2VsZWN0b3IpIDogW107XG4gICAgfVxuICAgIGVsc2VcbiAgICAgIC8vIHByb2JhYmx5IHlvdSBoYXZlIHBhc3NlZCBhbHJlYWR5IGEgdGFnIG9yIGEgTm9kZUxpc3RcbiAgICAgIHsgZWxlbSA9IHNlbGVjdG9yOyB9XG5cbiAgICAvLyBzZWxlY3QgYWxsIHRoZSByZWdpc3RlcmVkIGFuZCBtb3VudCB0aGVtIGluc2lkZSB0aGVpciByb290IGVsZW1lbnRzXG4gICAgaWYgKHRhZ05hbWUgPT09ICcqJykge1xuICAgICAgLy8gZ2V0IGFsbCBjdXN0b20gdGFnc1xuICAgICAgdGFnTmFtZSA9IGFsbFRhZ3MgfHwgcXVlcnkoKTtcbiAgICAgIC8vIGlmIHRoZSByb290IGVscyBpdCdzIGp1c3QgYSBzaW5nbGUgdGFnXG4gICAgICBpZiAoZWxlbS50YWdOYW1lKVxuICAgICAgICB7IGVsZW0gPSAkJCh0YWdOYW1lLCBlbGVtKTsgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHNlbGVjdCBhbGwgdGhlIGNoaWxkcmVuIGZvciBhbGwgdGhlIGRpZmZlcmVudCByb290IGVsZW1lbnRzXG4gICAgICAgIHZhciBub2RlTGlzdCA9IFtdO1xuXG4gICAgICAgIGVhY2goZWxlbSwgZnVuY3Rpb24gKF9lbCkgeyByZXR1cm4gbm9kZUxpc3QucHVzaCgkJCh0YWdOYW1lLCBfZWwpKTsgfSk7XG5cbiAgICAgICAgZWxlbSA9IG5vZGVMaXN0O1xuICAgICAgfVxuICAgICAgLy8gZ2V0IHJpZCBvZiB0aGUgdGFnTmFtZVxuICAgICAgdGFnTmFtZSA9IDA7XG4gICAgfVxuXG4gICAgcHVzaFRhZ3NUbyhlbGVtKTtcblxuICAgIHJldHVybiB0YWdzXG4gIH1cblxuICAvLyBDcmVhdGUgYSBtaXhpbiB0aGF0IGNvdWxkIGJlIGdsb2JhbGx5IHNoYXJlZCBhY3Jvc3MgYWxsIHRoZSB0YWdzXG4gIHZhciBtaXhpbnMgPSB7fTtcbiAgdmFyIGdsb2JhbHMgPSBtaXhpbnNbR0xPQkFMX01JWElOXSA9IHt9O1xuICB2YXIgbWl4aW5zX2lkID0gMDtcblxuICAvKipcbiAgICogQ3JlYXRlL1JldHVybiBhIG1peGluIGJ5IGl0cyBuYW1lXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gIG5hbWUgLSBtaXhpbiBuYW1lIChnbG9iYWwgbWl4aW4gaWYgb2JqZWN0KVxuICAgKiBAcGFyYW0gICB7IE9iamVjdCB9ICBtaXggLSBtaXhpbiBsb2dpY1xuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBnIC0gaXMgZ2xvYmFsP1xuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9ICB0aGUgbWl4aW4gbG9naWNcbiAgICovXG4gIGZ1bmN0aW9uIG1peGluKG5hbWUsIG1peCwgZykge1xuICAgIC8vIFVubmFtZWQgZ2xvYmFsXG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICBtaXhpbigoXCJfX1wiICsgKG1peGluc19pZCsrKSArIFwiX19cIiksIG5hbWUsIHRydWUpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHN0b3JlID0gZyA/IGdsb2JhbHMgOiBtaXhpbnM7XG5cbiAgICAvLyBHZXR0ZXJcbiAgICBpZiAoIW1peCkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHN0b3JlW25hbWVdKSlcbiAgICAgICAgeyB0aHJvdyBuZXcgRXJyb3IoKFwiVW5yZWdpc3RlcmVkIG1peGluOiBcIiArIG5hbWUpKSB9XG5cbiAgICAgIHJldHVybiBzdG9yZVtuYW1lXVxuICAgIH1cblxuICAgIC8vIFNldHRlclxuICAgIHN0b3JlW25hbWVdID0gaXNGdW5jdGlvbihtaXgpID9cbiAgICAgIGV4dGVuZChtaXgucHJvdG90eXBlLCBzdG9yZVtuYW1lXSB8fCB7fSkgJiYgbWl4IDpcbiAgICAgIGV4dGVuZChzdG9yZVtuYW1lXSB8fCB7fSwgbWl4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYWxsIHRoZSB0YWdzIGluc3RhbmNlcyBjcmVhdGVkXG4gICAqIEByZXR1cm5zIHsgQXJyYXkgfSBhbGwgdGhlIHRhZ3MgaW5zdGFuY2VzXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGUkMSgpIHtcbiAgICByZXR1cm4gZWFjaChfX1RBR1NfQ0FDSEUsIGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHRhZy51cGRhdGUoKTsgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXIobmFtZSkge1xuICAgIHN0eWxlTWFuYWdlci5yZW1vdmUobmFtZSk7XG4gICAgcmV0dXJuIGRlbGV0ZSBfX1RBR19JTVBMW25hbWVdXG4gIH1cblxuICB2YXIgdmVyc2lvbiA9ICd2My4xMy4yJztcblxuICB2YXIgY29yZSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBUYWc6IFRhZyxcbiAgICB0YWc6IHRhZyxcbiAgICB0YWcyOiB0YWcyLFxuICAgIG1vdW50OiBtb3VudCxcbiAgICBtaXhpbjogbWl4aW4sXG4gICAgdXBkYXRlOiB1cGRhdGUkMSxcbiAgICB1bnJlZ2lzdGVyOiB1bnJlZ2lzdGVyLFxuICAgIHZlcnNpb246IHZlcnNpb25cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEFkZCBhIG1peGluIHRvIHRoaXMgdGFnXG4gICAqIEByZXR1cm5zIHsgVGFnIH0gdGhlIGN1cnJlbnQgdGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBjb21wb25lbnRNaXhpbih0YWckJDEpIHtcbiAgICB2YXIgbWl4aW5zID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgbWl4aW5zWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgZWFjaChtaXhpbnMsIGZ1bmN0aW9uIChtaXgpIHtcbiAgICAgIHZhciBpbnN0YW5jZTtcbiAgICAgIHZhciBvYmo7XG4gICAgICB2YXIgcHJvcHMgPSBbXTtcblxuICAgICAgLy8gcHJvcGVydGllcyBibGFja2xpc3RlZCBhbmQgd2lsbCBub3QgYmUgYm91bmQgdG8gdGhlIHRhZyBpbnN0YW5jZVxuICAgICAgdmFyIHByb3BzQmxhY2tsaXN0ID0gWydpbml0JywgJ19fcHJvdG9fXyddO1xuXG4gICAgICBtaXggPSBpc1N0cmluZyhtaXgpID8gbWl4aW4obWl4KSA6IG1peDtcblxuICAgICAgLy8gY2hlY2sgaWYgdGhlIG1peGluIGlzIGEgZnVuY3Rpb25cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG1peCkpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBuZXcgbWl4aW4gaW5zdGFuY2VcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgbWl4KCk7XG4gICAgICB9IGVsc2UgeyBpbnN0YW5jZSA9IG1peDsgfVxuXG4gICAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5zdGFuY2UpO1xuXG4gICAgICAvLyBidWlsZCBtdWx0aWxldmVsIHByb3RvdHlwZSBpbmhlcml0YW5jZSBjaGFpbiBwcm9wZXJ0eSBsaXN0XG4gICAgICBkbyB7IHByb3BzID0gcHJvcHMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaiB8fCBpbnN0YW5jZSkpOyB9XG4gICAgICB3aGlsZSAob2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaiB8fCBpbnN0YW5jZSkpXG5cbiAgICAgIC8vIGxvb3AgdGhlIGtleXMgaW4gdGhlIGZ1bmN0aW9uIHByb3RvdHlwZSBvciB0aGUgYWxsIG9iamVjdCBrZXlzXG4gICAgICBlYWNoKHByb3BzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIC8vIGJpbmQgbWV0aG9kcyB0byB0YWdcbiAgICAgICAgLy8gYWxsb3cgbWl4aW5zIHRvIG92ZXJyaWRlIG90aGVyIHByb3BlcnRpZXMvcGFyZW50IG1peGluc1xuICAgICAgICBpZiAoIWNvbnRhaW5zKHByb3BzQmxhY2tsaXN0LCBrZXkpKSB7XG4gICAgICAgICAgLy8gY2hlY2sgZm9yIGdldHRlcnMvc2V0dGVyc1xuICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0UHJvcERlc2NyaXB0b3IoaW5zdGFuY2UsIGtleSkgfHwgZ2V0UHJvcERlc2NyaXB0b3IocHJvdG8sIGtleSk7XG4gICAgICAgICAgdmFyIGhhc0dldHRlclNldHRlciA9IGRlc2NyaXB0b3IgJiYgKGRlc2NyaXB0b3IuZ2V0IHx8IGRlc2NyaXB0b3Iuc2V0KTtcblxuICAgICAgICAgIC8vIGFwcGx5IG1ldGhvZCBvbmx5IGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3Qgb24gdGhlIGluc3RhbmNlXG4gICAgICAgICAgaWYgKCF0YWckJDEuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBoYXNHZXR0ZXJTZXR0ZXIpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YWckJDEsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZyQkMVtrZXldID0gaXNGdW5jdGlvbihpbnN0YW5jZVtrZXldKSA/XG4gICAgICAgICAgICAgIGluc3RhbmNlW2tleV0uYmluZCh0YWckJDEpIDpcbiAgICAgICAgICAgICAgaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBpbml0IG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5XG4gICAgICBpZiAoaW5zdGFuY2UuaW5pdClcbiAgICAgICAgeyBpbnN0YW5jZS5pbml0LmJpbmQodGFnJCQxKSh0YWckJDEub3B0cyk7IH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0YWckJDFcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBwb3NpdGlvbiBvZiBhIGN1c3RvbSB0YWcgaW4gaXRzIHBhcmVudCB0YWdcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gdGFnTmFtZSAtIGtleSB3aGVyZSB0aGUgdGFnIHdhcyBzdG9yZWRcbiAgICogQHBhcmFtICAgeyBOdW1iZXIgfSBuZXdQb3MgLSBpbmRleCB3aGVyZSB0aGUgbmV3IHRhZyB3aWxsIGJlIHN0b3JlZFxuICAgKi9cbiAgZnVuY3Rpb24gbW92ZUNoaWxkKHRhZ05hbWUsIG5ld1Bvcykge1xuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICB2YXIgdGFncztcbiAgICAvLyBubyBwYXJlbnQgbm8gbW92ZVxuICAgIGlmICghcGFyZW50KSB7IHJldHVybiB9XG5cbiAgICB0YWdzID0gcGFyZW50LnRhZ3NbdGFnTmFtZV07XG5cbiAgICBpZiAoaXNBcnJheSh0YWdzKSlcbiAgICAgIHsgdGFncy5zcGxpY2UobmV3UG9zLCAwLCB0YWdzLnNwbGljZSh0YWdzLmluZGV4T2YodGhpcyksIDEpWzBdKTsgfVxuICAgIGVsc2UgeyBhcnJheWlzaEFkZChwYXJlbnQudGFncywgdGFnTmFtZSwgdGhpcyk7IH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHZpcnR1YWwgdGFnIGFuZCBhbGwgY2hpbGQgbm9kZXNcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSB7IE5vZGUgfSBzcmMgIC0gdGhlIG5vZGUgdGhhdCB3aWxsIGRvIHRoZSBpbnNlcnRpbmdcbiAgICogQHBhcmFtIHsgVGFnIH0gdGFyZ2V0IC0gaW5zZXJ0IGJlZm9yZSB0aGlzIHRhZydzIGZpcnN0IGNoaWxkXG4gICAqL1xuICBmdW5jdGlvbiBtb3ZlVmlydHVhbChzcmMsIHRhcmdldCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGVsID0gdGhpcy5fXy5oZWFkO1xuICAgIHZhciBzaWI7XG4gICAgdmFyIGZyYWcgPSBjcmVhdGVGcmFnbWVudCgpO1xuXG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBzaWIgPSBlbC5uZXh0U2libGluZztcbiAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgZWwgPSBzaWI7XG4gICAgICBpZiAoZWwgPT09IHRoaXMkMS5fXy50YWlsKSB7XG4gICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICBzcmMuaW5zZXJ0QmVmb3JlKGZyYWcsIHRhcmdldC5fXy5oZWFkKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCB0aGUgaXRlbSBsb29wZWQgaW50byBhbiBvYmplY3QgdXNlZCB0byBleHRlbmQgdGhlIGNoaWxkIHRhZyBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gZXhwciAtIG9iamVjdCBjb250YWluaW5nIHRoZSBrZXlzIHVzZWQgdG8gZXh0ZW5kIHRoZSBjaGlsZHJlbiB0YWdzXG4gICAqIEBwYXJhbSAgIHsgKiB9IGtleSAtIHZhbHVlIHRvIGFzc2lnbiB0byB0aGUgbmV3IG9iamVjdCByZXR1cm5lZFxuICAgKiBAcGFyYW0gICB7ICogfSB2YWwgLSB2YWx1ZSBjb250YWluaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSBpbiB0aGUgYXJyYXlcbiAgICogQHJldHVybnMgeyBPYmplY3QgfSAtIG5ldyBvYmplY3QgY29udGFpbmluZyB0aGUgdmFsdWVzIG9mIHRoZSBvcmlnaW5hbCBpdGVtXG4gICAqXG4gICAqIFRoZSB2YXJpYWJsZXMgJ2tleScgYW5kICd2YWwnIGFyZSBhcmJpdHJhcnkuXG4gICAqIFRoZXkgZGVwZW5kIG9uIHRoZSBjb2xsZWN0aW9uIHR5cGUgbG9vcGVkIChBcnJheSwgT2JqZWN0KVxuICAgKiBhbmQgb24gdGhlIGV4cHJlc3Npb24gdXNlZCBvbiB0aGUgZWFjaCB0YWdcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIG1raXRlbShleHByLCBrZXksIHZhbCkge1xuICAgIHZhciBpdGVtID0ge307XG4gICAgaXRlbVtleHByLmtleV0gPSBrZXk7XG4gICAgaWYgKGV4cHIucG9zKSB7IGl0ZW1bZXhwci5wb3NdID0gdmFsOyB9XG4gICAgcmV0dXJuIGl0ZW1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbm1vdW50IHRoZSByZWR1bmRhbnQgdGFnc1xuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gaXRlbXMgLSBhcnJheSBjb250YWluaW5nIHRoZSBjdXJyZW50IGl0ZW1zIHRvIGxvb3BcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IHRhZ3MgLSBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgY2hpbGRyZW4gdGFnc1xuICAgKi9cbiAgZnVuY3Rpb24gdW5tb3VudFJlZHVuZGFudChpdGVtcywgdGFncywgZmlsdGVyZWRJdGVtc0NvdW50KSB7XG4gICAgdmFyIGkgPSB0YWdzLmxlbmd0aDtcbiAgICB2YXIgaiA9IGl0ZW1zLmxlbmd0aCAtIGZpbHRlcmVkSXRlbXNDb3VudDtcblxuICAgIHdoaWxlIChpID4gaikge1xuICAgICAgaS0tO1xuICAgICAgcmVtb3ZlLmFwcGx5KHRhZ3NbaV0sIFt0YWdzLCBpXSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2hpbGQgdGFnXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gdGFncyAtIHRhZ3MgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gICB7IE51bWJlciB9IGkgLSBpbmRleCBvZiB0aGUgdGFnIHRvIHJlbW92ZVxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlKHRhZ3MsIGkpIHtcbiAgICB0YWdzLnNwbGljZShpLCAxKTtcbiAgICB0aGlzLnVubW91bnQoKTtcbiAgICBhcnJheWlzaFJlbW92ZSh0aGlzLnBhcmVudCwgdGhpcywgdGhpcy5fXy50YWdOYW1lLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBuZXN0ZWQgY3VzdG9tIHRhZ3MgaW4gbm9uIGN1c3RvbSBsb29wIHRhZ3NcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgTnVtYmVyIH0gaSAtIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGxvb3AgdGFnXG4gICAqL1xuICBmdW5jdGlvbiBtb3ZlTmVzdGVkVGFncyhpKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBlYWNoKE9iamVjdC5rZXlzKHRoaXMudGFncyksIGZ1bmN0aW9uICh0YWdOYW1lKSB7XG4gICAgICBtb3ZlQ2hpbGQuYXBwbHkodGhpcyQxLnRhZ3NbdGFnTmFtZV0sIFt0YWdOYW1lLCBpXSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSBhIGNoaWxkIHRhZ1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IHJvb3QgLSBkb20gbm9kZSBjb250YWluaW5nIGFsbCB0aGUgbG9vcCBjaGlsZHJlblxuICAgKiBAcGFyYW0gICB7IFRhZyB9IG5leHRUYWcgLSBpbnN0YW5jZSBvZiB0aGUgbmV4dCB0YWcgcHJlY2VkaW5nIHRoZSBvbmUgd2Ugd2FudCB0byBtb3ZlXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IGlzVmlydHVhbCAtIGlzIGl0IGEgdmlydHVhbCB0YWc/XG4gICAqL1xuICBmdW5jdGlvbiBtb3ZlKHJvb3QsIG5leHRUYWcsIGlzVmlydHVhbCkge1xuICAgIGlmIChpc1ZpcnR1YWwpXG4gICAgICB7IG1vdmVWaXJ0dWFsLmFwcGx5KHRoaXMsIFtyb290LCBuZXh0VGFnXSk7IH1cbiAgICBlbHNlXG4gICAgICB7IHNhZmVJbnNlcnQocm9vdCwgdGhpcy5yb290LCBuZXh0VGFnLnJvb3QpOyB9XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0IGFuZCBtb3VudCBhIGNoaWxkIHRhZ1xuICAgKiBAdGhpcyBUYWdcbiAgICogQHBhcmFtICAgeyBIVE1MRWxlbWVudCB9IHJvb3QgLSBkb20gbm9kZSBjb250YWluaW5nIGFsbCB0aGUgbG9vcCBjaGlsZHJlblxuICAgKiBAcGFyYW0gICB7IFRhZyB9IG5leHRUYWcgLSBpbnN0YW5jZSBvZiB0aGUgbmV4dCB0YWcgcHJlY2VkaW5nIHRoZSBvbmUgd2Ugd2FudCB0byBpbnNlcnRcbiAgICogQHBhcmFtICAgeyBCb29sZWFuIH0gaXNWaXJ0dWFsIC0gaXMgaXQgYSB2aXJ0dWFsIHRhZz9cbiAgICovXG4gIGZ1bmN0aW9uIGluc2VydChyb290LCBuZXh0VGFnLCBpc1ZpcnR1YWwpIHtcbiAgICBpZiAoaXNWaXJ0dWFsKVxuICAgICAgeyBtYWtlVmlydHVhbC5hcHBseSh0aGlzLCBbcm9vdCwgbmV4dFRhZ10pOyB9XG4gICAgZWxzZVxuICAgICAgeyBzYWZlSW5zZXJ0KHJvb3QsIHRoaXMucm9vdCwgbmV4dFRhZy5yb290KTsgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZCBhIG5ldyB0YWcgaW50byB0aGUgRE9NXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gcm9vdCAtIGRvbSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBsb29wIGNoaWxkcmVuXG4gICAqIEBwYXJhbSAgIHsgQm9vbGVhbiB9IGlzVmlydHVhbCAtIGlzIGl0IGEgdmlydHVhbCB0YWc/XG4gICAqL1xuICBmdW5jdGlvbiBhcHBlbmQocm9vdCwgaXNWaXJ0dWFsKSB7XG4gICAgaWYgKGlzVmlydHVhbClcbiAgICAgIHsgbWFrZVZpcnR1YWwuY2FsbCh0aGlzLCByb290KTsgfVxuICAgIGVsc2VcbiAgICAgIHsgcm9vdC5hcHBlbmRDaGlsZCh0aGlzLnJvb3QpOyB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSB3ZSB3YW50IHRvIHVzZSB0byBsb29rdXAgdGhlIHBvc3Rpb24gb2Ygb3VyIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gIGtleUF0dHIgICAgICAgICAtIGxvb2t1cCBzdHJpbmcgb3IgZXhwcmVzc2lvblxuICAgKiBAcGFyYW0gICB7ICogfSAgICAgICBvcmlnaW5hbEl0ZW0gICAgLSBvcmlnaW5hbCBpdGVtIGZyb20gdGhlIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSAga2V5ZWRJdGVtICAgICAgIC0gb2JqZWN0IGNyZWF0ZWQgYnkgcmlvdCB2aWEgeyBpdGVtLCBpIGluIGNvbGxlY3Rpb24gfVxuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBoYXNLZXlBdHRyRXhwciAgLSBmbGFnIHRvIGNoZWNrIHdoZXRoZXIgdGhlIGtleSBpcyBhbiBleHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHsgKiB9IHZhbHVlIHRoYXQgd2Ugd2lsbCB1c2UgdG8gZmlndXJlIG91dCB0aGUgaXRlbSBwb3NpdGlvbiB2aWEgY29sbGVjdGlvbi5pbmRleE9mXG4gICAqL1xuICBmdW5jdGlvbiBnZXRJdGVtSWQoa2V5QXR0ciwgb3JpZ2luYWxJdGVtLCBrZXllZEl0ZW0sIGhhc0tleUF0dHJFeHByKSB7XG4gICAgaWYgKGtleUF0dHIpIHtcbiAgICAgIHJldHVybiBoYXNLZXlBdHRyRXhwciA/ICB0bXBsKGtleUF0dHIsIGtleWVkSXRlbSkgOiAgb3JpZ2luYWxJdGVtW2tleUF0dHJdXG4gICAgfVxuXG4gICAgcmV0dXJuIG9yaWdpbmFsSXRlbVxuICB9XG5cbiAgLyoqXG4gICAqIE1hbmFnZSB0YWdzIGhhdmluZyB0aGUgJ2VhY2gnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBkb20gLSBET00gbm9kZSB3ZSBuZWVkIHRvIGxvb3BcbiAgICogQHBhcmFtICAgeyBUYWcgfSBwYXJlbnQgLSBwYXJlbnQgdGFnIGluc3RhbmNlIHdoZXJlIHRoZSBkb20gbm9kZSBpcyBjb250YWluZWRcbiAgICogQHBhcmFtICAgeyBTdHJpbmcgfSBleHByIC0gc3RyaW5nIGNvbnRhaW5lZCBpbiB0aGUgJ2VhY2gnIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyB7IE9iamVjdCB9IGV4cHJlc3Npb24gb2JqZWN0IGZvciB0aGlzIGVhY2ggbG9vcFxuICAgKi9cbiAgZnVuY3Rpb24gX2VhY2goZG9tLCBwYXJlbnQsIGV4cHIpIHtcbiAgICB2YXIgbXVzdFJlb3JkZXIgPSB0eXBlb2YgZ2V0QXR0cmlidXRlKGRvbSwgTE9PUF9OT19SRU9SREVSX0RJUkVDVElWRSkgIT09IFRfU1RSSU5HIHx8IHJlbW92ZUF0dHJpYnV0ZShkb20sIExPT1BfTk9fUkVPUkRFUl9ESVJFQ1RJVkUpO1xuICAgIHZhciBrZXlBdHRyID0gZ2V0QXR0cmlidXRlKGRvbSwgS0VZX0RJUkVDVElWRSk7XG4gICAgdmFyIGhhc0tleUF0dHJFeHByID0ga2V5QXR0ciA/IHRtcGwuaGFzRXhwcihrZXlBdHRyKSA6IGZhbHNlO1xuICAgIHZhciB0YWdOYW1lID0gZ2V0TmFtZShkb20pO1xuICAgIHZhciBpbXBsID0gX19UQUdfSU1QTFt0YWdOYW1lXTtcbiAgICB2YXIgcGFyZW50Tm9kZSA9IGRvbS5wYXJlbnROb2RlO1xuICAgIHZhciBwbGFjZWhvbGRlciA9IGNyZWF0ZURPTVBsYWNlaG9sZGVyKCk7XG4gICAgdmFyIGNoaWxkID0gZ2V0KGRvbSk7XG4gICAgdmFyIGlmRXhwciA9IGdldEF0dHJpYnV0ZShkb20sIENPTkRJVElPTkFMX0RJUkVDVElWRSk7XG4gICAgdmFyIHRhZ3MgPSBbXTtcbiAgICB2YXIgaXNMb29wID0gdHJ1ZTtcbiAgICB2YXIgaW5uZXJIVE1MID0gZG9tLmlubmVySFRNTDtcbiAgICB2YXIgaXNBbm9ueW1vdXMgPSAhX19UQUdfSU1QTFt0YWdOYW1lXTtcbiAgICB2YXIgaXNWaXJ0dWFsID0gZG9tLnRhZ05hbWUgPT09ICdWSVJUVUFMJztcbiAgICB2YXIgb2xkSXRlbXMgPSBbXTtcblxuICAgIC8vIHJlbW92ZSB0aGUgZWFjaCBwcm9wZXJ0eSBmcm9tIHRoZSBvcmlnaW5hbCB0YWdcbiAgICByZW1vdmVBdHRyaWJ1dGUoZG9tLCBMT09QX0RJUkVDVElWRSk7XG4gICAgcmVtb3ZlQXR0cmlidXRlKGRvbSwgS0VZX0RJUkVDVElWRSk7XG5cbiAgICAvLyBwYXJzZSB0aGUgZWFjaCBleHByZXNzaW9uXG4gICAgZXhwciA9IHRtcGwubG9vcEtleXMoZXhwcik7XG4gICAgZXhwci5pc0xvb3AgPSB0cnVlO1xuXG4gICAgaWYgKGlmRXhwcikgeyByZW1vdmVBdHRyaWJ1dGUoZG9tLCBDT05ESVRJT05BTF9ESVJFQ1RJVkUpOyB9XG5cbiAgICAvLyBpbnNlcnQgYSBtYXJrZWQgd2hlcmUgdGhlIGxvb3AgdGFncyB3aWxsIGJlIGluamVjdGVkXG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGxhY2Vob2xkZXIsIGRvbSk7XG4gICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pO1xuXG4gICAgZXhwci51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGVFYWNoKCkge1xuICAgICAgLy8gZ2V0IHRoZSBuZXcgaXRlbXMgY29sbGVjdGlvblxuICAgICAgZXhwci52YWx1ZSA9IHRtcGwoZXhwci52YWwsIHBhcmVudCk7XG5cbiAgICAgIHZhciBpdGVtcyA9IGV4cHIudmFsdWU7XG4gICAgICB2YXIgZnJhZyA9IGNyZWF0ZUZyYWdtZW50KCk7XG4gICAgICB2YXIgaXNPYmplY3QgPSAhaXNBcnJheShpdGVtcykgJiYgIWlzU3RyaW5nKGl0ZW1zKTtcbiAgICAgIHZhciByb290ID0gcGxhY2Vob2xkZXIucGFyZW50Tm9kZTtcbiAgICAgIHZhciB0bXBJdGVtcyA9IFtdO1xuICAgICAgdmFyIGhhc0tleXMgPSBpc09iamVjdCAmJiAhIWl0ZW1zO1xuXG4gICAgICAvLyBpZiB0aGlzIERPTSB3YXMgcmVtb3ZlZCB0aGUgdXBkYXRlIGhlcmUgaXMgdXNlbGVzc1xuICAgICAgLy8gdGhpcyBjb25kaXRpb24gZml4ZXMgYWxzbyBhIHdlaXJkIGFzeW5jIGlzc3VlIG9uIElFIGluIG91ciB1bml0IHRlc3RcbiAgICAgIGlmICghcm9vdCkgeyByZXR1cm4gfVxuXG4gICAgICAvLyBvYmplY3QgbG9vcC4gYW55IGNoYW5nZXMgY2F1c2UgZnVsbCByZWRyYXdcbiAgICAgIGlmIChpc09iamVjdCkge1xuICAgICAgICBpdGVtcyA9IGl0ZW1zID8gT2JqZWN0LmtleXMoaXRlbXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBta2l0ZW0oZXhwciwgaXRlbXNba2V5XSwga2V5KTsgfSkgOiBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gc3RvcmUgdGhlIGFtb3VudCBvZiBmaWx0ZXJlZCBpdGVtc1xuICAgICAgdmFyIGZpbHRlcmVkSXRlbXNDb3VudCA9IDA7XG5cbiAgICAgIC8vIGxvb3AgYWxsIHRoZSBuZXcgaXRlbXNcbiAgICAgIGVhY2goaXRlbXMsIGZ1bmN0aW9uIChfaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGkgPSBpbmRleCAtIGZpbHRlcmVkSXRlbXNDb3VudDtcbiAgICAgICAgdmFyIGl0ZW0gPSAhaGFzS2V5cyAmJiBleHByLmtleSA/IG1raXRlbShleHByLCBfaXRlbSwgaW5kZXgpIDogX2l0ZW07XG5cbiAgICAgICAgLy8gc2tpcCB0aGlzIGl0ZW0gYmVjYXVzZSBpdCBtdXN0IGJlIGZpbHRlcmVkXG4gICAgICAgIGlmIChpZkV4cHIgJiYgIXRtcGwoaWZFeHByLCBleHRlbmQoY3JlYXRlKHBhcmVudCksIGl0ZW0pKSkge1xuICAgICAgICAgIGZpbHRlcmVkSXRlbXNDb3VudCArKztcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVtSWQgPSBnZXRJdGVtSWQoa2V5QXR0ciwgX2l0ZW0sIGl0ZW0sIGhhc0tleUF0dHJFeHByKTtcbiAgICAgICAgLy8gcmVvcmRlciBvbmx5IGlmIHRoZSBpdGVtcyBhcmUgbm90IG9iamVjdHNcbiAgICAgICAgLy8gb3IgYSBrZXkgYXR0cmlidXRlIGhhcyBiZWVuIHByb3ZpZGVkXG4gICAgICAgIHZhciBkb1Jlb3JkZXIgPSAhaXNPYmplY3QgJiYgbXVzdFJlb3JkZXIgJiYgdHlwZW9mIF9pdGVtID09PSBUX09CSkVDVCB8fCBrZXlBdHRyO1xuICAgICAgICB2YXIgb2xkUG9zID0gb2xkSXRlbXMuaW5kZXhPZihpdGVtSWQpO1xuICAgICAgICB2YXIgaXNOZXcgPSBvbGRQb3MgPT09IC0xO1xuICAgICAgICB2YXIgcG9zID0gIWlzTmV3ICYmIGRvUmVvcmRlciA/IG9sZFBvcyA6IGk7XG4gICAgICAgIC8vIGRvZXMgYSB0YWcgZXhpc3QgaW4gdGhpcyBwb3NpdGlvbj9cbiAgICAgICAgdmFyIHRhZyA9IHRhZ3NbcG9zXTtcbiAgICAgICAgdmFyIG11c3RBcHBlbmQgPSBpID49IG9sZEl0ZW1zLmxlbmd0aDtcbiAgICAgICAgdmFyIG11c3RDcmVhdGUgPSBkb1Jlb3JkZXIgJiYgaXNOZXcgfHwgIWRvUmVvcmRlciAmJiAhdGFnIHx8ICF0YWdzW2ldO1xuXG4gICAgICAgIC8vIG5ldyB0YWdcbiAgICAgICAgaWYgKG11c3RDcmVhdGUpIHtcbiAgICAgICAgICB0YWcgPSBjcmVhdGVUYWcoaW1wbCwge1xuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICBpc0xvb3A6IGlzTG9vcCxcbiAgICAgICAgICAgIGlzQW5vbnltb3VzOiBpc0Fub255bW91cyxcbiAgICAgICAgICAgIHRhZ05hbWU6IHRhZ05hbWUsXG4gICAgICAgICAgICByb290OiBkb20uY2xvbmVOb2RlKGlzQW5vbnltb3VzKSxcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICB9LCBpbm5lckhUTUwpO1xuXG4gICAgICAgICAgLy8gbW91bnQgdGhlIHRhZ1xuICAgICAgICAgIHRhZy5tb3VudCgpO1xuXG4gICAgICAgICAgaWYgKG11c3RBcHBlbmQpXG4gICAgICAgICAgICB7IGFwcGVuZC5hcHBseSh0YWcsIFtmcmFnIHx8IHJvb3QsIGlzVmlydHVhbF0pOyB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgeyBpbnNlcnQuYXBwbHkodGFnLCBbcm9vdCwgdGFnc1tpXSwgaXNWaXJ0dWFsXSk7IH1cblxuICAgICAgICAgIGlmICghbXVzdEFwcGVuZCkgeyBvbGRJdGVtcy5zcGxpY2UoaSwgMCwgaXRlbSk7IH1cbiAgICAgICAgICB0YWdzLnNwbGljZShpLCAwLCB0YWcpO1xuICAgICAgICAgIGlmIChjaGlsZCkgeyBhcnJheWlzaEFkZChwYXJlbnQudGFncywgdGFnTmFtZSwgdGFnLCB0cnVlKTsgfVxuICAgICAgICB9IGVsc2UgaWYgKHBvcyAhPT0gaSAmJiBkb1Jlb3JkZXIpIHtcbiAgICAgICAgICAvLyBtb3ZlXG4gICAgICAgICAgaWYgKGtleUF0dHIgfHwgY29udGFpbnMoaXRlbXMsIG9sZEl0ZW1zW3Bvc10pKSB7XG4gICAgICAgICAgICBtb3ZlLmFwcGx5KHRhZywgW3Jvb3QsIHRhZ3NbaV0sIGlzVmlydHVhbF0pO1xuICAgICAgICAgICAgLy8gbW92ZSB0aGUgb2xkIHRhZyBpbnN0YW5jZVxuICAgICAgICAgICAgdGFncy5zcGxpY2UoaSwgMCwgdGFncy5zcGxpY2UocG9zLCAxKVswXSk7XG4gICAgICAgICAgICAvLyBtb3ZlIHRoZSBvbGQgaXRlbVxuICAgICAgICAgICAgb2xkSXRlbXMuc3BsaWNlKGksIDAsIG9sZEl0ZW1zLnNwbGljZShwb3MsIDEpWzBdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIHBvc2l0aW9uIGF0dHJpYnV0ZSBpZiBpdCBleGlzdHNcbiAgICAgICAgICBpZiAoZXhwci5wb3MpIHsgdGFnW2V4cHIucG9zXSA9IGk7IH1cblxuICAgICAgICAgIC8vIGlmIHRoZSBsb29wIHRhZ3MgYXJlIG5vdCBjdXN0b21cbiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIG1vdmUgYWxsIHRoZWlyIGN1c3RvbSB0YWdzIGludG8gdGhlIHJpZ2h0IHBvc2l0aW9uXG4gICAgICAgICAgaWYgKCFjaGlsZCAmJiB0YWcudGFncykgeyBtb3ZlTmVzdGVkVGFncy5jYWxsKHRhZywgaSk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhY2hlIHRoZSBvcmlnaW5hbCBpdGVtIHRvIHVzZSBpdCBpbiB0aGUgZXZlbnRzIGJvdW5kIHRvIHRoaXMgbm9kZVxuICAgICAgICAvLyBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICAgIGV4dGVuZCh0YWcuX18sIHtcbiAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgIHBhcmVudDogcGFyZW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRtcEl0ZW1zW2ldID0gaXRlbUlkO1xuXG4gICAgICAgIGlmICghbXVzdENyZWF0ZSkgeyB0YWcudXBkYXRlKGl0ZW0pOyB9XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVtb3ZlIHRoZSByZWR1bmRhbnQgdGFnc1xuICAgICAgdW5tb3VudFJlZHVuZGFudChpdGVtcywgdGFncywgZmlsdGVyZWRJdGVtc0NvdW50KTtcblxuICAgICAgLy8gY2xvbmUgdGhlIGl0ZW1zIGFycmF5XG4gICAgICBvbGRJdGVtcyA9IHRtcEl0ZW1zLnNsaWNlKCk7XG5cbiAgICAgIHJvb3QuaW5zZXJ0QmVmb3JlKGZyYWcsIHBsYWNlaG9sZGVyKTtcbiAgICB9O1xuXG4gICAgZXhwci51bm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZWFjaCh0YWdzLCBmdW5jdGlvbiAodCkgeyB0LnVubW91bnQoKTsgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBleHByXG4gIH1cblxuICB2YXIgUmVmRXhwciA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGRvbSwgcGFyZW50LCBhdHRyTmFtZSwgYXR0clZhbHVlKSB7XG4gICAgICB0aGlzLmRvbSA9IGRvbTtcbiAgICAgIHRoaXMuYXR0ciA9IGF0dHJOYW1lO1xuICAgICAgdGhpcy5yYXdWYWx1ZSA9IGF0dHJWYWx1ZTtcbiAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgdGhpcy5oYXNFeHAgPSB0bXBsLmhhc0V4cHIoYXR0clZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHZhciBvbGQgPSB0aGlzLnZhbHVlO1xuICAgICAgdmFyIGN1c3RvbVBhcmVudCA9IHRoaXMucGFyZW50ICYmIGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCh0aGlzLnBhcmVudCk7XG4gICAgICAvLyBpZiB0aGUgcmVmZXJlbmNlZCBlbGVtZW50IGlzIGEgY3VzdG9tIHRhZywgdGhlbiB3ZSBzZXQgdGhlIHRhZyBpdHNlbGYsIHJhdGhlciB0aGFuIERPTVxuICAgICAgdmFyIHRhZ09yRG9tID0gdGhpcy5kb20uX19yZWYgfHwgdGhpcy50YWcgfHwgdGhpcy5kb207XG5cbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmhhc0V4cCA/IHRtcGwodGhpcy5yYXdWYWx1ZSwgdGhpcy5wYXJlbnQpIDogdGhpcy5yYXdWYWx1ZTtcblxuICAgICAgLy8gdGhlIG5hbWUgY2hhbmdlZCwgc28gd2UgbmVlZCB0byByZW1vdmUgaXQgZnJvbSB0aGUgb2xkIGtleSAoaWYgcHJlc2VudClcbiAgICAgIGlmICghaXNCbGFuayhvbGQpICYmIGN1c3RvbVBhcmVudCkgeyBhcnJheWlzaFJlbW92ZShjdXN0b21QYXJlbnQucmVmcywgb2xkLCB0YWdPckRvbSk7IH1cbiAgICAgIGlmICghaXNCbGFuayh0aGlzLnZhbHVlKSAmJiBpc1N0cmluZyh0aGlzLnZhbHVlKSkge1xuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIHJlZnMgb2YgcGFyZW50IHRhZyAodGhpcyBiZWhhdmlvciB3YXMgY2hhbmdlZCA+PTMuMClcbiAgICAgICAgaWYgKGN1c3RvbVBhcmVudCkgeyBhcnJheWlzaEFkZChcbiAgICAgICAgICBjdXN0b21QYXJlbnQucmVmcyxcbiAgICAgICAgICB0aGlzLnZhbHVlLFxuICAgICAgICAgIHRhZ09yRG9tLFxuICAgICAgICAgIC8vIHVzZSBhbiBhcnJheSBpZiBpdCdzIGEgbG9vcGVkIG5vZGUgYW5kIHRoZSByZWYgaXMgbm90IGFuIGV4cHJlc3Npb25cbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHRoaXMucGFyZW50Ll9fLmluZGV4XG4gICAgICAgICk7IH1cblxuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gb2xkKSB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlKHRoaXMuZG9tLCB0aGlzLmF0dHIsIHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVBdHRyaWJ1dGUodGhpcy5kb20sIHRoaXMuYXR0cik7XG4gICAgICB9XG5cbiAgICAgIC8vIGNhY2hlIHRoZSByZWYgYm91bmQgdG8gdGhpcyBkb20gbm9kZVxuICAgICAgLy8gdG8gcmV1c2UgaXQgaW4gZnV0dXJlIChzZWUgYWxzbyAjMjMyOSlcbiAgICAgIGlmICghdGhpcy5kb20uX19yZWYpIHsgdGhpcy5kb20uX19yZWYgPSB0YWdPckRvbTsgfVxuICAgIH0sXG4gICAgdW5tb3VudDogZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIHZhciB0YWdPckRvbSA9IHRoaXMudGFnIHx8IHRoaXMuZG9tO1xuICAgICAgdmFyIGN1c3RvbVBhcmVudCA9IHRoaXMucGFyZW50ICYmIGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudCh0aGlzLnBhcmVudCk7XG4gICAgICBpZiAoIWlzQmxhbmsodGhpcy52YWx1ZSkgJiYgY3VzdG9tUGFyZW50KVxuICAgICAgICB7IGFycmF5aXNoUmVtb3ZlKGN1c3RvbVBhcmVudC5yZWZzLCB0aGlzLnZhbHVlLCB0YWdPckRvbSk7IH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyByZWYgZGlyZWN0aXZlXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBkb20gLSBkb20gbm9kZSBoYXZpbmcgdGhlIHJlZiBhdHRyaWJ1dGVcbiAgICogQHBhcmFtICAgeyBUYWcgfSBjb250ZXh0IC0gdGFnIGluc3RhbmNlIHdoZXJlIHRoZSBET00gbm9kZSBpcyBsb2NhdGVkXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gYXR0ck5hbWUgLSBlaXRoZXIgJ3JlZicgb3IgJ2RhdGEtcmVmJ1xuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGF0dHJWYWx1ZSAtIHZhbHVlIG9mIHRoZSByZWYgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHsgUmVmRXhwciB9IGEgbmV3IFJlZkV4cHIgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVSZWZEaXJlY3RpdmUoZG9tLCB0YWcsIGF0dHJOYW1lLCBhdHRyVmFsdWUpIHtcbiAgICByZXR1cm4gY3JlYXRlKFJlZkV4cHIpLmluaXQoZG9tLCB0YWcsIGF0dHJOYW1lLCBhdHRyVmFsdWUpXG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciB0aGUgdW5tb3VudCBtZXRob2Qgb24gYWxsIHRoZSBleHByZXNzaW9uc1xuICAgKiBAcGFyYW0gICB7IEFycmF5IH0gZXhwcmVzc2lvbnMgLSBET00gZXhwcmVzc2lvbnNcbiAgICovXG4gIGZ1bmN0aW9uIHVubW91bnRBbGwoZXhwcmVzc2lvbnMpIHtcbiAgICBlYWNoKGV4cHJlc3Npb25zLCBmdW5jdGlvbiAoZXhwcikge1xuICAgICAgaWYgKGV4cHIudW5tb3VudCkgeyBleHByLnVubW91bnQodHJ1ZSk7IH1cbiAgICAgIGVsc2UgaWYgKGV4cHIudGFnTmFtZSkgeyBleHByLnRhZy51bm1vdW50KHRydWUpOyB9XG4gICAgICBlbHNlIGlmIChleHByLnVubW91bnQpIHsgZXhwci51bm1vdW50KCk7IH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBJZkV4cHIgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gaW5pdChkb20sIHRhZywgZXhwcikge1xuICAgICAgcmVtb3ZlQXR0cmlidXRlKGRvbSwgQ09ORElUSU9OQUxfRElSRUNUSVZFKTtcbiAgICAgIGV4dGVuZCh0aGlzLCB7IHRhZzogdGFnLCBleHByOiBleHByLCBzdHViOiBjcmVhdGVET01QbGFjZWhvbGRlcigpLCBwcmlzdGluZTogZG9tIH0pO1xuICAgICAgdmFyIHAgPSBkb20ucGFyZW50Tm9kZTtcbiAgICAgIHAuaW5zZXJ0QmVmb3JlKHRoaXMuc3R1YiwgZG9tKTtcbiAgICAgIHAucmVtb3ZlQ2hpbGQoZG9tKTtcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlJCQxKCkge1xuICAgICAgdGhpcy52YWx1ZSA9IHRtcGwodGhpcy5leHByLCB0aGlzLnRhZyk7XG5cbiAgICAgIGlmICghdGhpcy5zdHViLnBhcmVudE5vZGUpIHsgcmV0dXJuIH1cblxuICAgICAgaWYgKHRoaXMudmFsdWUgJiYgIXRoaXMuY3VycmVudCkgeyAvLyBpbnNlcnRcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmlzdGluZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc3R1Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmN1cnJlbnQsIHRoaXMuc3R1Yik7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbnMgPSBwYXJzZUV4cHJlc3Npb25zLmFwcGx5KHRoaXMudGFnLCBbdGhpcy5jdXJyZW50LCB0cnVlXSk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnZhbHVlICYmIHRoaXMuY3VycmVudCkgeyAvLyByZW1vdmVcbiAgICAgICAgdGhpcy51bm1vdW50KCk7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmFsdWUpIHsgdXBkYXRlLmNhbGwodGhpcy50YWcsIHRoaXMuZXhwcmVzc2lvbnMpOyB9XG4gICAgfSxcbiAgICB1bm1vdW50OiBmdW5jdGlvbiB1bm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Ll90YWcpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnQuX3RhZy51bm1vdW50KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHVubW91bnRBbGwodGhpcy5leHByZXNzaW9ucyB8fCBbXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgaWYgZGlyZWN0aXZlXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSBkb20gLSBpZiByb290IGRvbSBub2RlXG4gICAqIEBwYXJhbSAgIHsgVGFnIH0gY29udGV4dCAtIHRhZyBpbnN0YW5jZSB3aGVyZSB0aGUgRE9NIG5vZGUgaXMgbG9jYXRlZFxuICAgKiBAcGFyYW0gICB7IFN0cmluZyB9IGF0dHIgLSBpZiBleHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHsgSUZFeHByIH0gYSBuZXcgSWZFeHByIG9iamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlSWZEaXJlY3RpdmUoZG9tLCB0YWcsIGF0dHIpIHtcbiAgICByZXR1cm4gY3JlYXRlKElmRXhwcikuaW5pdChkb20sIHRhZywgYXR0cilcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWxrIHRoZSB0YWcgRE9NIHRvIGRldGVjdCB0aGUgZXhwcmVzc2lvbnMgdG8gZXZhbHVhdGVcbiAgICogQHRoaXMgVGFnXG4gICAqIEBwYXJhbSAgIHsgSFRNTEVsZW1lbnQgfSByb290IC0gcm9vdCB0YWcgd2hlcmUgd2Ugd2lsbCBzdGFydCBkaWdnaW5nIHRoZSBleHByZXNzaW9uc1xuICAgKiBAcGFyYW0gICB7IEJvb2xlYW4gfSBtdXN0SW5jbHVkZVJvb3QgLSBmbGFnIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSByb290IG11c3QgYmUgcGFyc2VkIGFzIHdlbGxcbiAgICogQHJldHVybnMgeyBBcnJheSB9IGFsbCB0aGUgZXhwcmVzc2lvbnMgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlRXhwcmVzc2lvbnMocm9vdCwgbXVzdEluY2x1ZGVSb290KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXTtcblxuICAgIHdhbGtOb2Rlcyhyb290LCBmdW5jdGlvbiAoZG9tKSB7XG4gICAgICB2YXIgdHlwZSA9IGRvbS5ub2RlVHlwZTtcbiAgICAgIHZhciBhdHRyO1xuICAgICAgdmFyIHRhZ0ltcGw7XG5cbiAgICAgIGlmICghbXVzdEluY2x1ZGVSb290ICYmIGRvbSA9PT0gcm9vdCkgeyByZXR1cm4gfVxuXG4gICAgICAvLyB0ZXh0IG5vZGVcbiAgICAgIGlmICh0eXBlID09PSAzICYmIGRvbS5wYXJlbnROb2RlLnRhZ05hbWUgIT09ICdTVFlMRScgJiYgdG1wbC5oYXNFeHByKGRvbS5ub2RlVmFsdWUpKVxuICAgICAgICB7IGV4cHJlc3Npb25zLnB1c2goe2RvbTogZG9tLCBleHByOiBkb20ubm9kZVZhbHVlfSk7IH1cblxuICAgICAgaWYgKHR5cGUgIT09IDEpIHsgcmV0dXJuIH1cblxuICAgICAgdmFyIGlzVmlydHVhbCA9IGRvbS50YWdOYW1lID09PSAnVklSVFVBTCc7XG5cbiAgICAgIC8vIGxvb3AuIGVhY2ggZG9lcyBpdCdzIG93biB0aGluZyAoZm9yIG5vdylcbiAgICAgIGlmIChhdHRyID0gZ2V0QXR0cmlidXRlKGRvbSwgTE9PUF9ESVJFQ1RJVkUpKSB7XG4gICAgICAgIGlmKGlzVmlydHVhbCkgeyBzZXRBdHRyaWJ1dGUoZG9tLCAnbG9vcFZpcnR1YWwnLCB0cnVlKTsgfSAvLyBpZ25vcmUgaGVyZSwgaGFuZGxlZCBpbiBfZWFjaFxuICAgICAgICBleHByZXNzaW9ucy5wdXNoKF9lYWNoKGRvbSwgdGhpcyQxLCBhdHRyKSk7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICAvLyBpZi1hdHRycyBiZWNvbWUgdGhlIG5ldyBwYXJlbnQuIEFueSBmb2xsb3dpbmcgZXhwcmVzc2lvbnMgKGVpdGhlciBvbiB0aGUgY3VycmVudFxuICAgICAgLy8gZWxlbWVudCwgb3IgYmVsb3cgaXQpIGJlY29tZSBjaGlsZHJlbiBvZiB0aGlzIGV4cHJlc3Npb24uXG4gICAgICBpZiAoYXR0ciA9IGdldEF0dHJpYnV0ZShkb20sIENPTkRJVElPTkFMX0RJUkVDVElWRSkpIHtcbiAgICAgICAgZXhwcmVzc2lvbnMucHVzaChjcmVhdGVJZkRpcmVjdGl2ZShkb20sIHRoaXMkMSwgYXR0cikpO1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHIgPSBnZXRBdHRyaWJ1dGUoZG9tLCBJU19ESVJFQ1RJVkUpKSB7XG4gICAgICAgIGlmICh0bXBsLmhhc0V4cHIoYXR0cikpIHtcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKHtcbiAgICAgICAgICAgIGlzUnRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGV4cHI6IGF0dHIsXG4gICAgICAgICAgICBkb206IGRvbSxcbiAgICAgICAgICAgIGF0dHJzOiBbXS5zbGljZS5jYWxsKGRvbS5hdHRyaWJ1dGVzKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhpcyBpcyBhIHRhZywgc3RvcCB0cmF2ZXJzaW5nIGhlcmUuXG4gICAgICAvLyB3ZSBpZ25vcmUgdGhlIHJvb3QsIHNpbmNlIHBhcnNlRXhwcmVzc2lvbnMgaXMgY2FsbGVkIHdoaWxlIHdlJ3JlIG1vdW50aW5nIHRoYXQgcm9vdFxuICAgICAgdGFnSW1wbCA9IGdldChkb20pO1xuXG4gICAgICBpZihpc1ZpcnR1YWwpIHtcbiAgICAgICAgaWYoZ2V0QXR0cmlidXRlKGRvbSwgJ3ZpcnR1YWxpemVkJykpIHtkb20ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChkb20pOyB9IC8vIHRhZyBjcmVhdGVkLCByZW1vdmUgZnJvbSBkb21cbiAgICAgICAgaWYoIXRhZ0ltcGwgJiYgIWdldEF0dHJpYnV0ZShkb20sICd2aXJ0dWFsaXplZCcpICYmICFnZXRBdHRyaWJ1dGUoZG9tLCAnbG9vcFZpcnR1YWwnKSkgIC8vIG9rIHRvIGNyZWF0ZSB2aXJ0dWFsIHRhZ1xuICAgICAgICAgIHsgdGFnSW1wbCA9IHsgdG1wbDogZG9tLm91dGVySFRNTCB9OyB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0YWdJbXBsICYmIChkb20gIT09IHJvb3QgfHwgbXVzdEluY2x1ZGVSb290KSkge1xuICAgICAgICB2YXIgaGFzSXNEaXJlY3RpdmUgPSBnZXRBdHRyaWJ1dGUoZG9tLCBJU19ESVJFQ1RJVkUpO1xuICAgICAgICBpZihpc1ZpcnR1YWwgJiYgIWhhc0lzRGlyZWN0aXZlKSB7IC8vIGhhbmRsZWQgaW4gdXBkYXRlXG4gICAgICAgICAgLy8gY2FuIG5vdCByZW1vdmUgYXR0cmlidXRlIGxpa2UgZGlyZWN0aXZlc1xuICAgICAgICAgIC8vIHNvIGZsYWcgZm9yIHJlbW92YWwgYWZ0ZXIgY3JlYXRpb24gdG8gcHJldmVudCBtYXhpbXVtIHN0YWNrIGVycm9yXG4gICAgICAgICAgc2V0QXR0cmlidXRlKGRvbSwgJ3ZpcnR1YWxpemVkJywgdHJ1ZSk7XG4gICAgICAgICAgdmFyIHRhZyA9IGNyZWF0ZVRhZyhcbiAgICAgICAgICAgIHt0bXBsOiBkb20ub3V0ZXJIVE1MfSxcbiAgICAgICAgICAgIHtyb290OiBkb20sIHBhcmVudDogdGhpcyQxfSxcbiAgICAgICAgICAgIGRvbS5pbm5lckhUTUxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaCh0YWcpOyAvLyBubyByZXR1cm4sIGFub255bW91cyB0YWcsIGtlZXAgcGFyc2luZ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChoYXNJc0RpcmVjdGl2ZSAmJiBpc1ZpcnR1YWwpXG4gICAgICAgICAgICB7IHdhcm4oKFwiVmlydHVhbCB0YWdzIHNob3VsZG4ndCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggdGhlIFxcXCJcIiArIElTX0RJUkVDVElWRSArIFwiXFxcIiBhdHRyaWJ1dGUgLSBodHRwczovL2dpdGh1Yi5jb20vcmlvdC9yaW90L2lzc3Vlcy8yNTExXCIpKTsgfVxuXG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChcbiAgICAgICAgICAgIGluaXRDaGlsZChcbiAgICAgICAgICAgICAgdGFnSW1wbCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJvb3Q6IGRvbSxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMkMVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkb20uaW5uZXJIVE1MLFxuICAgICAgICAgICAgICB0aGlzJDFcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGF0dHJpYnV0ZSBleHByZXNzaW9uc1xuICAgICAgcGFyc2VBdHRyaWJ1dGVzLmFwcGx5KHRoaXMkMSwgW2RvbSwgZG9tLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChhdHRyLCBleHByKSB7XG4gICAgICAgIGlmICghZXhwcikgeyByZXR1cm4gfVxuICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cHIpO1xuICAgICAgfV0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGV4cHJlc3Npb25zXG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgYGZuYCBmb3IgZXZlcnkgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQuIElmIHRoYXQgYXR0ciBoYXMgYW4gZXhwcmVzc2lvbixcbiAgICogaXQgaXMgYWxzbyBwYXNzZWQgdG8gZm4uXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0gICB7IEhUTUxFbGVtZW50IH0gZG9tIC0gZG9tIG5vZGUgdG8gcGFyc2VcbiAgICogQHBhcmFtICAgeyBBcnJheSB9IGF0dHJzIC0gYXJyYXkgb2YgYXR0cmlidXRlc1xuICAgKiBAcGFyYW0gICB7IEZ1bmN0aW9uIH0gZm4gLSBjYWxsYmFjayB0byBleGVjIG9uIGFueSBpdGVyYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlQXR0cmlidXRlcyhkb20sIGF0dHJzLCBmbikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZWFjaChhdHRycywgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgIGlmICghYXR0cikgeyByZXR1cm4gZmFsc2UgfVxuXG4gICAgICB2YXIgbmFtZSA9IGF0dHIubmFtZTtcbiAgICAgIHZhciBib29sID0gaXNCb29sQXR0cihuYW1lKTtcbiAgICAgIHZhciBleHByO1xuXG4gICAgICBpZiAoY29udGFpbnMoUkVGX0RJUkVDVElWRVMsIG5hbWUpICYmIGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFlJRUxEX1RBRykge1xuICAgICAgICBleHByID0gIGNyZWF0ZVJlZkRpcmVjdGl2ZShkb20sIHRoaXMkMSwgbmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRtcGwuaGFzRXhwcihhdHRyLnZhbHVlKSkge1xuICAgICAgICBleHByID0ge2RvbTogZG9tLCBleHByOiBhdHRyLnZhbHVlLCBhdHRyOiBuYW1lLCBib29sOiBib29sfTtcbiAgICAgIH1cblxuICAgICAgZm4oYXR0ciwgZXhwcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTWFuYWdlIHRoZSBtb3VudCBzdGF0ZSBvZiBhIHRhZyB0cmlnZ2VyaW5nIGFsc28gdGhlIG9ic2VydmFibGUgZXZlbnRzXG4gICAqIEB0aGlzIFRhZ1xuICAgKiBAcGFyYW0geyBCb29sZWFuIH0gdmFsdWUgLSAuLm9mIHRoZSBpc01vdW50ZWQgZmxhZ1xuICAgKi9cbiAgZnVuY3Rpb24gc2V0TW91bnRTdGF0ZSh2YWx1ZSkge1xuICAgIHZhciByZWYgPSB0aGlzLl9fO1xuICAgIHZhciBpc0Fub255bW91cyA9IHJlZi5pc0Fub255bW91cztcbiAgICB2YXIgc2tpcEFub255bW91cyA9IHJlZi5za2lwQW5vbnltb3VzO1xuXG4gICAgZGVmaW5lKHRoaXMsICdpc01vdW50ZWQnLCB2YWx1ZSk7XG5cbiAgICBpZiAoIWlzQW5vbnltb3VzIHx8ICFza2lwQW5vbnltb3VzKSB7XG4gICAgICBpZiAodmFsdWUpIHsgdGhpcy50cmlnZ2VyKCdtb3VudCcpOyB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCd1bm1vdW50Jyk7XG4gICAgICAgIHRoaXMub2ZmKCcqJyk7XG4gICAgICAgIHRoaXMuX18ud2FzQ3JlYXRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3VudCB0aGUgY3VycmVudCB0YWcgaW5zdGFuY2VcbiAgICogQHJldHVybnMgeyBUYWcgfSB0aGUgY3VycmVudCB0YWcgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBvbmVudE1vdW50KHRhZyQkMSwgZG9tLCBleHByZXNzaW9ucywgb3B0cykge1xuICAgIHZhciBfXyA9IHRhZyQkMS5fXztcbiAgICB2YXIgcm9vdCA9IF9fLnJvb3Q7XG4gICAgcm9vdC5fdGFnID0gdGFnJCQxOyAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSB0YWcganVzdCBjcmVhdGVkXG5cbiAgICAvLyBSZWFkIGFsbCB0aGUgYXR0cnMgb24gdGhpcyBpbnN0YW5jZS4gVGhpcyBnaXZlIHVzIHRoZSBpbmZvIHdlIG5lZWQgZm9yIHVwZGF0ZU9wdHNcbiAgICBwYXJzZUF0dHJpYnV0ZXMuYXBwbHkoX18ucGFyZW50LCBbcm9vdCwgcm9vdC5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoYXR0ciwgZXhwcikge1xuICAgICAgaWYgKCFfXy5pc0Fub255bW91cyAmJiBSZWZFeHByLmlzUHJvdG90eXBlT2YoZXhwcikpIHsgZXhwci50YWcgPSB0YWckJDE7IH1cbiAgICAgIGF0dHIuZXhwciA9IGV4cHI7XG4gICAgICBfXy5pbnN0QXR0cnMucHVzaChhdHRyKTtcbiAgICB9XSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIHJvb3QgYWRkaW5nIGN1c3RvbSBhdHRyaWJ1dGVzIGNvbWluZyBmcm9tIHRoZSBjb21waWxlclxuICAgIHdhbGtBdHRyaWJ1dGVzKF9fLmltcGwuYXR0cnMsIGZ1bmN0aW9uIChrLCB2KSB7IF9fLmltcGxBdHRycy5wdXNoKHtuYW1lOiBrLCB2YWx1ZTogdn0pOyB9KTtcbiAgICBwYXJzZUF0dHJpYnV0ZXMuYXBwbHkodGFnJCQxLCBbcm9vdCwgX18uaW1wbEF0dHJzLCBmdW5jdGlvbiAoYXR0ciwgZXhwcikge1xuICAgICAgaWYgKGV4cHIpIHsgZXhwcmVzc2lvbnMucHVzaChleHByKTsgfVxuICAgICAgZWxzZSB7IHNldEF0dHJpYnV0ZShyb290LCBhdHRyLm5hbWUsIGF0dHIudmFsdWUpOyB9XG4gICAgfV0pO1xuXG4gICAgLy8gaW5pdGlhbGlhdGlvblxuICAgIHVwZGF0ZU9wdHMuYXBwbHkodGFnJCQxLCBbX18uaXNMb29wLCBfXy5wYXJlbnQsIF9fLmlzQW5vbnltb3VzLCBvcHRzLCBfXy5pbnN0QXR0cnNdKTtcblxuICAgIC8vIGFkZCBnbG9iYWwgbWl4aW5zXG4gICAgdmFyIGdsb2JhbE1peGluID0gbWl4aW4oR0xPQkFMX01JWElOKTtcblxuICAgIGlmIChnbG9iYWxNaXhpbiAmJiAhX18uc2tpcEFub255bW91cykge1xuICAgICAgZm9yICh2YXIgaSBpbiBnbG9iYWxNaXhpbikge1xuICAgICAgICBpZiAoZ2xvYmFsTWl4aW4uaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICB0YWckJDEubWl4aW4oZ2xvYmFsTWl4aW5baV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKF9fLmltcGwuZm4pIHsgX18uaW1wbC5mbi5jYWxsKHRhZyQkMSwgb3B0cyk7IH1cblxuICAgIGlmICghX18uc2tpcEFub255bW91cykgeyB0YWckJDEudHJpZ2dlcignYmVmb3JlLW1vdW50Jyk7IH1cblxuICAgIC8vIHBhcnNlIGxheW91dCBhZnRlciBpbml0LiBmbiBtYXkgY2FsY3VsYXRlIGFyZ3MgZm9yIG5lc3RlZCBjdXN0b20gdGFnc1xuICAgIGVhY2gocGFyc2VFeHByZXNzaW9ucy5hcHBseSh0YWckJDEsIFtkb20sIF9fLmlzQW5vbnltb3VzXSksIGZ1bmN0aW9uIChlKSB7IHJldHVybiBleHByZXNzaW9ucy5wdXNoKGUpOyB9KTtcblxuICAgIHRhZyQkMS51cGRhdGUoX18uaXRlbSk7XG5cbiAgICBpZiAoIV9fLmlzQW5vbnltb3VzICYmICFfXy5pc0lubGluZSkge1xuICAgICAgd2hpbGUgKGRvbS5maXJzdENoaWxkKSB7IHJvb3QuYXBwZW5kQ2hpbGQoZG9tLmZpcnN0Q2hpbGQpOyB9XG4gICAgfVxuXG4gICAgZGVmaW5lKHRhZyQkMSwgJ3Jvb3QnLCByb290KTtcblxuICAgIC8vIGlmIHdlIG5lZWQgdG8gd2FpdCB0aGF0IHRoZSBwYXJlbnQgXCJtb3VudFwiIG9yIFwidXBkYXRlZFwiIGV2ZW50IGdldHMgdHJpZ2dlcmVkXG4gICAgaWYgKCFfXy5za2lwQW5vbnltb3VzICYmIHRhZyQkMS5wYXJlbnQpIHtcbiAgICAgIHZhciBwID0gZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50KHRhZyQkMS5wYXJlbnQpO1xuICAgICAgcC5vbmUoIXAuaXNNb3VudGVkID8gJ21vdW50JyA6ICd1cGRhdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRNb3VudFN0YXRlLmNhbGwodGFnJCQxLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2UgaXQncyBub3QgYSBjaGlsZCB0YWcgd2UgY2FuIHRyaWdnZXIgaXRzIG1vdW50IGV2ZW50XG4gICAgICBzZXRNb3VudFN0YXRlLmNhbGwodGFnJCQxLCB0cnVlKTtcbiAgICB9XG5cbiAgICB0YWckJDEuX18ud2FzQ3JlYXRlZCA9IHRydWU7XG5cbiAgICByZXR1cm4gdGFnJCQxXG4gIH1cblxuICAvKipcbiAgICogVW5tb3VudCB0aGUgdGFnIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBtdXN0S2VlcFJvb3QgLSBpZiBpdCdzIHRydWUgdGhlIHJvb3Qgbm9kZSB3aWxsIG5vdCBiZSByZW1vdmVkXG4gICAqIEByZXR1cm5zIHsgVGFnIH0gdGhlIGN1cnJlbnQgdGFnIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiB0YWdVbm1vdW50KHRhZywgbXVzdEtlZXBSb290LCBleHByZXNzaW9ucykge1xuICAgIHZhciBfXyA9IHRhZy5fXztcbiAgICB2YXIgcm9vdCA9IF9fLnJvb3Q7XG4gICAgdmFyIHRhZ0luZGV4ID0gX19UQUdTX0NBQ0hFLmluZGV4T2YodGFnKTtcbiAgICB2YXIgcCA9IHJvb3QucGFyZW50Tm9kZTtcblxuICAgIGlmICghX18uc2tpcEFub255bW91cykgeyB0YWcudHJpZ2dlcignYmVmb3JlLXVubW91bnQnKTsgfVxuXG4gICAgLy8gY2xlYXIgYWxsIGF0dHJpYnV0ZXMgY29taW5nIGZyb20gdGhlIG1vdW50ZWQgdGFnXG4gICAgd2Fsa0F0dHJpYnV0ZXMoX18uaW1wbC5hdHRycywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIGlmIChzdGFydHNXaXRoKG5hbWUsIEFUVFJTX1BSRUZJWCkpXG4gICAgICAgIHsgbmFtZSA9IG5hbWUuc2xpY2UoQVRUUlNfUFJFRklYLmxlbmd0aCk7IH1cblxuICAgICAgcmVtb3ZlQXR0cmlidXRlKHJvb3QsIG5hbWUpO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgdGFnLl9fLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChkb20pIHtcbiAgICAgIE9iamVjdC5rZXlzKGRvbVtSSU9UX0VWRU5UU19LRVldKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBkb21bUklPVF9FVkVOVFNfS0VZXVtldmVudE5hbWVdKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIHRhZyBpbnN0YW5jZSBmcm9tIHRoZSBnbG9iYWwgdGFncyBjYWNoZSBjb2xsZWN0aW9uXG4gICAgaWYgKHRhZ0luZGV4ICE9PSAtMSkgeyBfX1RBR1NfQ0FDSEUuc3BsaWNlKHRhZ0luZGV4LCAxKTsgfVxuXG4gICAgLy8gY2xlYW4gdXAgdGhlIHBhcmVudCB0YWdzIG9iamVjdFxuICAgIGlmIChfXy5wYXJlbnQgJiYgIV9fLmlzQW5vbnltb3VzKSB7XG4gICAgICB2YXIgcHRhZyA9IGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudChfXy5wYXJlbnQpO1xuXG4gICAgICBpZiAoX18uaXNWaXJ0dWFsKSB7XG4gICAgICAgIE9iamVjdFxuICAgICAgICAgIC5rZXlzKHRhZy50YWdzKVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uICh0YWdOYW1lKSB7IHJldHVybiBhcnJheWlzaFJlbW92ZShwdGFnLnRhZ3MsIHRhZ05hbWUsIHRhZy50YWdzW3RhZ05hbWVdKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheWlzaFJlbW92ZShwdGFnLnRhZ3MsIF9fLnRhZ05hbWUsIHRhZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdW5tb3VudCBhbGwgdGhlIHZpcnR1YWwgZGlyZWN0aXZlc1xuICAgIGlmICh0YWcuX18udmlydHMpIHtcbiAgICAgIGVhY2godGFnLl9fLnZpcnRzLCBmdW5jdGlvbiAodikge1xuICAgICAgICBpZiAodi5wYXJlbnROb2RlKSB7IHYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2KTsgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYWxsb3cgZXhwcmVzc2lvbnMgdG8gdW5tb3VudCB0aGVtc2VsdmVzXG4gICAgdW5tb3VudEFsbChleHByZXNzaW9ucyk7XG4gICAgZWFjaChfXy5pbnN0QXR0cnMsIGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV4cHIgJiYgYS5leHByLnVubW91bnQgJiYgYS5leHByLnVubW91bnQoKTsgfSk7XG5cbiAgICAvLyBjbGVhciB0aGUgdGFnIGh0bWwgaWYgaXQncyBuZWNlc3NhcnlcbiAgICBpZiAobXVzdEtlZXBSb290KSB7IHNldElubmVySFRNTChyb290LCAnJyk7IH1cbiAgICAvLyBvdGhlcndpc2UgZGV0YWNoIHRoZSByb290IHRhZyBmcm9tIHRoZSBET01cbiAgICBlbHNlIGlmIChwKSB7IHAucmVtb3ZlQ2hpbGQocm9vdCk7IH1cblxuICAgIC8vIGN1c3RvbSBpbnRlcm5hbCB1bm1vdW50IGZ1bmN0aW9uIHRvIGF2b2lkIHJlbHlpbmcgb24gdGhlIG9ic2VydmFibGVcbiAgICBpZiAoX18ub25Vbm1vdW50KSB7IF9fLm9uVW5tb3VudCgpOyB9XG5cbiAgICAvLyB3ZWlyZCBmaXggZm9yIGEgd2VpcmQgZWRnZSBjYXNlICMyNDA5IGFuZCAjMjQzNlxuICAgIC8vIHNvbWUgdXNlcnMgbWlnaHQgdXNlIHlvdXIgc29mdHdhcmUgbm90IGFzIHlvdSd2ZSBleHBlY3RlZFxuICAgIC8vIHNvIEkgbmVlZCB0byBhZGQgdGhlc2UgZGlydHkgaGFja3MgdG8gbWl0aWdhdGUgdW5leHBlY3RlZCBpc3N1ZXNcbiAgICBpZiAoIXRhZy5pc01vdW50ZWQpIHsgc2V0TW91bnRTdGF0ZS5jYWxsKHRhZywgdHJ1ZSk7IH1cblxuICAgIHNldE1vdW50U3RhdGUuY2FsbCh0YWcsIGZhbHNlKTtcblxuICAgIGRlbGV0ZSByb290Ll90YWc7XG5cbiAgICByZXR1cm4gdGFnXG4gIH1cblxuICAvKipcbiAgICogVGFnIGNyZWF0aW9uIGZhY3RvcnkgZnVuY3Rpb25cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7IE9iamVjdCB9IGltcGwgLSBpdCBjb250YWlucyB0aGUgdGFnIHRlbXBsYXRlLCBhbmQgbG9naWNcbiAgICogQHBhcmFtIHsgT2JqZWN0IH0gY29uZiAtIHRhZyBvcHRpb25zXG4gICAqIEBwYXJhbSB7IFN0cmluZyB9IGlubmVySFRNTCAtIGh0bWwgdGhhdCBldmVudHVhbGx5IHdlIG5lZWQgdG8gaW5qZWN0IGluIHRoZSB0YWdcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZVRhZyhpbXBsLCBjb25mLCBpbm5lckhUTUwpIHtcbiAgICBpZiAoIGltcGwgPT09IHZvaWQgMCApIGltcGwgPSB7fTtcbiAgICBpZiAoIGNvbmYgPT09IHZvaWQgMCApIGNvbmYgPSB7fTtcblxuICAgIHZhciB0YWcgPSBjb25mLmNvbnRleHQgfHwge307XG4gICAgdmFyIG9wdHMgPSBjb25mLm9wdHMgfHwge307XG4gICAgdmFyIHBhcmVudCA9IGNvbmYucGFyZW50O1xuICAgIHZhciBpc0xvb3AgPSBjb25mLmlzTG9vcDtcbiAgICB2YXIgaXNBbm9ueW1vdXMgPSAhIWNvbmYuaXNBbm9ueW1vdXM7XG4gICAgdmFyIHNraXBBbm9ueW1vdXMgPSBzZXR0aW5ncy5za2lwQW5vbnltb3VzVGFncyAmJiBpc0Fub255bW91cztcbiAgICB2YXIgaXRlbSA9IGNvbmYuaXRlbTtcbiAgICAvLyBhdmFpbGFibGUgb25seSBmb3IgdGhlIGxvb3BlZCBub2Rlc1xuICAgIHZhciBpbmRleCA9IGNvbmYuaW5kZXg7XG4gICAgLy8gQWxsIGF0dHJpYnV0ZXMgb24gdGhlIFRhZyB3aGVuIGl0J3MgZmlyc3QgcGFyc2VkXG4gICAgdmFyIGluc3RBdHRycyA9IFtdO1xuICAgIC8vIGV4cHJlc3Npb25zIG9uIHRoaXMgdHlwZSBvZiBUYWdcbiAgICB2YXIgaW1wbEF0dHJzID0gW107XG4gICAgdmFyIHRtcGwgPSBpbXBsLnRtcGw7XG4gICAgdmFyIGV4cHJlc3Npb25zID0gW107XG4gICAgdmFyIHJvb3QgPSBjb25mLnJvb3Q7XG4gICAgdmFyIHRhZ05hbWUgPSBjb25mLnRhZ05hbWUgfHwgZ2V0TmFtZShyb290KTtcbiAgICB2YXIgaXNWaXJ0dWFsID0gdGFnTmFtZSA9PT0gJ3ZpcnR1YWwnO1xuICAgIHZhciBpc0lubGluZSA9ICFpc1ZpcnR1YWwgJiYgIXRtcGw7XG4gICAgdmFyIGRvbTtcblxuICAgIGlmIChpc0lubGluZSB8fCBpc0xvb3AgJiYgaXNBbm9ueW1vdXMpIHtcbiAgICAgIGRvbSA9IHJvb3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaXNWaXJ0dWFsKSB7IHJvb3QuaW5uZXJIVE1MID0gJyc7IH1cbiAgICAgIGRvbSA9IG1rZG9tKHRtcGwsIGlubmVySFRNTCwgaXNTdmcocm9vdCkpO1xuICAgIH1cblxuICAgIC8vIG1ha2UgdGhpcyB0YWcgb2JzZXJ2YWJsZVxuICAgIGlmICghc2tpcEFub255bW91cykgeyBvYnNlcnZhYmxlKHRhZyk7IH1cblxuICAgIC8vIG9ubHkgY2FsbCB1bm1vdW50IGlmIHdlIGhhdmUgYSB2YWxpZCBfX1RBR19JTVBMIChoYXMgbmFtZSBwcm9wZXJ0eSlcbiAgICBpZiAoaW1wbC5uYW1lICYmIHJvb3QuX3RhZykgeyByb290Ll90YWcudW5tb3VudCh0cnVlKTsgfVxuXG4gICAgZGVmaW5lKHRhZywgJ19fJywge1xuICAgICAgaW1wbDogaW1wbCxcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBza2lwQW5vbnltb3VzOiBza2lwQW5vbnltb3VzLFxuICAgICAgaW1wbEF0dHJzOiBpbXBsQXR0cnMsXG4gICAgICBpc0Fub255bW91czogaXNBbm9ueW1vdXMsXG4gICAgICBpbnN0QXR0cnM6IGluc3RBdHRycyxcbiAgICAgIGlubmVySFRNTDogaW5uZXJIVE1MLFxuICAgICAgdGFnTmFtZTogdGFnTmFtZSxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGlzTG9vcDogaXNMb29wLFxuICAgICAgaXNJbmxpbmU6IGlzSW5saW5lLFxuICAgICAgaXRlbTogaXRlbSxcbiAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgLy8gdGFncyBoYXZpbmcgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAvLyBpdCB3b3VsZCBiZSBiZXR0ZXIgdG8gdXNlIHdlYWsgbWFwcyBoZXJlIGJ1dCB3ZSBjYW4gbm90IGludHJvZHVjZSBicmVha2luZyBjaGFuZ2VzIG5vd1xuICAgICAgbGlzdGVuZXJzOiBbXSxcbiAgICAgIC8vIHRoZXNlIHZhcnMgd2lsbCBiZSBuZWVkZWQgb25seSBmb3IgdGhlIHZpcnR1YWwgdGFnc1xuICAgICAgdmlydHM6IFtdLFxuICAgICAgd2FzQ3JlYXRlZDogZmFsc2UsXG4gICAgICB0YWlsOiBudWxsLFxuICAgICAgaGVhZDogbnVsbFxuICAgIH0pO1xuXG4gICAgLy8gdGFnIHByb3RlY3RlZCBwcm9wZXJ0aWVzXG4gICAgcmV0dXJuIFtcbiAgICAgIFsnaXNNb3VudGVkJywgZmFsc2VdLFxuICAgICAgLy8gY3JlYXRlIGEgdW5pcXVlIGlkIHRvIHRoaXMgdGFnXG4gICAgICAvLyBpdCBjb3VsZCBiZSBoYW5keSB0byB1c2UgaXQgYWxzbyB0byBpbXByb3ZlIHRoZSB2aXJ0dWFsIGRvbSByZW5kZXJpbmcgc3BlZWRcbiAgICAgIFsnX3Jpb3RfaWQnLCB1aWQoKV0sXG4gICAgICBbJ3Jvb3QnLCByb290XSxcbiAgICAgIFsnb3B0cycsIG9wdHMsIHsgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUgfV0sXG4gICAgICBbJ3BhcmVudCcsIHBhcmVudCB8fCBudWxsXSxcbiAgICAgIC8vIHByb3RlY3QgdGhlIFwidGFnc1wiIGFuZCBcInJlZnNcIiBwcm9wZXJ0eSBmcm9tIGJlaW5nIG92ZXJyaWRkZW5cbiAgICAgIFsndGFncycsIHt9XSxcbiAgICAgIFsncmVmcycsIHt9XSxcbiAgICAgIFsndXBkYXRlJywgZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGNvbXBvbmVudFVwZGF0ZSh0YWcsIGRhdGEsIGV4cHJlc3Npb25zKTsgfV0sXG4gICAgICBbJ21peGluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWl4aW5zID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBtaXhpbnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gY29tcG9uZW50TWl4aW4uYXBwbHkodm9pZCAwLCBbIHRhZyBdLmNvbmNhdCggbWl4aW5zICkpO1xuICAgIH1dLFxuICAgICAgWydtb3VudCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXBvbmVudE1vdW50KHRhZywgZG9tLCBleHByZXNzaW9ucywgb3B0cyk7IH1dLFxuICAgICAgWyd1bm1vdW50JywgZnVuY3Rpb24gKG11c3RLZWVwUm9vdCkgeyByZXR1cm4gdGFnVW5tb3VudCh0YWcsIG11c3RLZWVwUm9vdCwgZXhwcmVzc2lvbnMpOyB9XVxuICAgIF0ucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHJlZikge1xuICAgICAgdmFyIGtleSA9IHJlZlswXTtcbiAgICAgIHZhciB2YWx1ZSA9IHJlZlsxXTtcbiAgICAgIHZhciBvcHRzID0gcmVmWzJdO1xuXG4gICAgICBkZWZpbmUodGFnLCBrZXksIHZhbHVlLCBvcHRzKTtcbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCBleHRlbmQodGFnLCBpdGVtKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3VudCBhIHRhZyBjcmVhdGluZyBuZXcgVGFnIGluc3RhbmNlXG4gICAqIEBwYXJhbSAgIHsgT2JqZWN0IH0gcm9vdCAtIGRvbSBub2RlIHdoZXJlIHRoZSB0YWcgd2lsbCBiZSBtb3VudGVkXG4gICAqIEBwYXJhbSAgIHsgU3RyaW5nIH0gdGFnTmFtZSAtIG5hbWUgb2YgdGhlIHJpb3QgdGFnIHdlIHdhbnQgdG8gbW91bnRcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBvcHRzIC0gb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBUYWcgaW5zdGFuY2VcbiAgICogQHBhcmFtICAgeyBPYmplY3QgfSBjdHggLSBvcHRpb25hbCBjb250ZXh0IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGV4dGVuZCBhbiBleGlzdGluZyBjbGFzcyAoIHVzZWQgaW4gcmlvdC5UYWcgKVxuICAgKiBAcmV0dXJucyB7IFRhZyB9IGEgbmV3IFRhZyBpbnN0YW5jZVxuICAgKi9cbiAgZnVuY3Rpb24gbW91bnQkMShyb290LCB0YWdOYW1lLCBvcHRzLCBjdHgpIHtcbiAgICB2YXIgaW1wbCA9IF9fVEFHX0lNUExbdGFnTmFtZV07XG4gICAgdmFyIGltcGxDbGFzcyA9IF9fVEFHX0lNUExbdGFnTmFtZV0uY2xhc3M7XG4gICAgdmFyIGNvbnRleHQgPSBjdHggfHwgKGltcGxDbGFzcyA/IGNyZWF0ZShpbXBsQ2xhc3MucHJvdG90eXBlKSA6IHt9KTtcbiAgICAvLyBjYWNoZSB0aGUgaW5uZXIgSFRNTCB0byBmaXggIzg1NVxuICAgIHZhciBpbm5lckhUTUwgPSByb290Ll9pbm5lckhUTUwgPSByb290Ll9pbm5lckhUTUwgfHwgcm9vdC5pbm5lckhUTUw7XG4gICAgdmFyIGNvbmYgPSBleHRlbmQoeyByb290OiByb290LCBvcHRzOiBvcHRzLCBjb250ZXh0OiBjb250ZXh0IH0sIHsgcGFyZW50OiBvcHRzID8gb3B0cy5wYXJlbnQgOiBudWxsIH0pO1xuICAgIHZhciB0YWc7XG5cbiAgICBpZiAoaW1wbCAmJiByb290KSB7IHRhZyA9IGNyZWF0ZVRhZyhpbXBsLCBjb25mLCBpbm5lckhUTUwpOyB9XG5cbiAgICBpZiAodGFnICYmIHRhZy5tb3VudCkge1xuICAgICAgdGFnLm1vdW50KHRydWUpO1xuICAgICAgLy8gYWRkIHRoaXMgdGFnIHRvIHRoZSB2aXJ0dWFsRG9tIHZhcmlhYmxlXG4gICAgICBpZiAoIWNvbnRhaW5zKF9fVEFHU19DQUNIRSwgdGFnKSkgeyBfX1RBR1NfQ0FDSEUucHVzaCh0YWcpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhZ1xuICB9XG5cblxuXG4gIHZhciB0YWdzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIGFycmF5aXNoQWRkOiBhcnJheWlzaEFkZCxcbiAgICBnZXRUYWdOYW1lOiBnZXROYW1lLFxuICAgIGluaGVyaXRQYXJlbnRQcm9wczogaW5oZXJpdFBhcmVudFByb3BzLFxuICAgIG1vdW50VG86IG1vdW50JDEsXG4gICAgc2VsZWN0VGFnczogcXVlcnksXG4gICAgYXJyYXlpc2hSZW1vdmU6IGFycmF5aXNoUmVtb3ZlLFxuICAgIGdldFRhZzogZ2V0LFxuICAgIGluaXRDaGlsZFRhZzogaW5pdENoaWxkLFxuICAgIG1vdmVDaGlsZFRhZzogbW92ZUNoaWxkLFxuICAgIG1ha2VSZXBsYWNlVmlydHVhbDogbWFrZVJlcGxhY2VWaXJ0dWFsLFxuICAgIGdldEltbWVkaWF0ZUN1c3RvbVBhcmVudFRhZzogZ2V0SW1tZWRpYXRlQ3VzdG9tUGFyZW50LFxuICAgIG1ha2VWaXJ0dWFsOiBtYWtlVmlydHVhbCxcbiAgICBtb3ZlVmlydHVhbDogbW92ZVZpcnR1YWwsXG4gICAgdW5tb3VudEFsbDogdW5tb3VudEFsbCxcbiAgICBjcmVhdGVJZkRpcmVjdGl2ZTogY3JlYXRlSWZEaXJlY3RpdmUsXG4gICAgY3JlYXRlUmVmRGlyZWN0aXZlOiBjcmVhdGVSZWZEaXJlY3RpdmVcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJpb3QgcHVibGljIGFwaVxuICAgKi9cbiAgdmFyIHNldHRpbmdzJDEgPSBzZXR0aW5ncztcbiAgdmFyIHV0aWwgPSB7XG4gICAgdG1wbDogdG1wbCxcbiAgICBicmFja2V0czogYnJhY2tldHMsXG4gICAgc3R5bGVNYW5hZ2VyOiBzdHlsZU1hbmFnZXIsXG4gICAgdmRvbTogX19UQUdTX0NBQ0hFLFxuICAgIHN0eWxlTm9kZTogc3R5bGVNYW5hZ2VyLnN0eWxlTm9kZSxcbiAgICAvLyBleHBvcnQgdGhlIHJpb3QgaW50ZXJuYWwgdXRpbHMgYXMgd2VsbFxuICAgIGRvbTogZG9tLFxuICAgIGNoZWNrOiBjaGVjayxcbiAgICBtaXNjOiBtaXNjLFxuICAgIHRhZ3M6IHRhZ3NcbiAgfTtcblxuICAvLyBleHBvcnQgdGhlIGNvcmUgcHJvcHMvbWV0aG9kc1xuICB2YXIgVGFnJDEgPSBUYWc7XG4gIHZhciB0YWckMSA9IHRhZztcbiAgdmFyIHRhZzIkMSA9IHRhZzI7XG4gIHZhciBtb3VudCQyID0gbW91bnQ7XG4gIHZhciBtaXhpbiQxID0gbWl4aW47XG4gIHZhciB1cGRhdGUkMiA9IHVwZGF0ZSQxO1xuICB2YXIgdW5yZWdpc3RlciQxID0gdW5yZWdpc3RlcjtcbiAgdmFyIHZlcnNpb24kMSA9IHZlcnNpb247XG4gIHZhciBvYnNlcnZhYmxlJDEgPSBvYnNlcnZhYmxlO1xuXG4gIHZhciByaW90JDEgPSBleHRlbmQoe30sIGNvcmUsIHtcbiAgICBvYnNlcnZhYmxlOiBvYnNlcnZhYmxlLFxuICAgIHNldHRpbmdzOiBzZXR0aW5ncyQxLFxuICAgIHV0aWw6IHV0aWwsXG4gIH0pO1xuXG4gIGV4cG9ydHMuc2V0dGluZ3MgPSBzZXR0aW5ncyQxO1xuICBleHBvcnRzLnV0aWwgPSB1dGlsO1xuICBleHBvcnRzLlRhZyA9IFRhZyQxO1xuICBleHBvcnRzLnRhZyA9IHRhZyQxO1xuICBleHBvcnRzLnRhZzIgPSB0YWcyJDE7XG4gIGV4cG9ydHMubW91bnQgPSBtb3VudCQyO1xuICBleHBvcnRzLm1peGluID0gbWl4aW4kMTtcbiAgZXhwb3J0cy51cGRhdGUgPSB1cGRhdGUkMjtcbiAgZXhwb3J0cy51bnJlZ2lzdGVyID0gdW5yZWdpc3RlciQxO1xuICBleHBvcnRzLnZlcnNpb24gPSB2ZXJzaW9uJDE7XG4gIGV4cG9ydHMub2JzZXJ2YWJsZSA9IG9ic2VydmFibGUkMTtcbiAgZXhwb3J0cy5kZWZhdWx0ID0gcmlvdCQxO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4iLCJpbXBvcnQgcmlvdCBmcm9tIFwicmlvdFwiO1xuaW1wb3J0ICdyaW90LWhvdC1yZWxvYWQnO1xuaW1wb3J0ICcuL3RhZ3MvaGVsbG8td29ybGQudGFnJztcblxucmlvdC5tb3VudCgnaGVsbG8td29ybGQnKTsiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ3Jpb3QnKSkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ3Jpb3QnXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLnJpb3RIb3RSZWxvYWQgPSBnbG9iYWwucmlvdEhvdFJlbG9hZCB8fCB7fSksZ2xvYmFsLnJpb3QpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLHJpb3QpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgbm9uU3RhdGUgPSAnaXNNb3VudGVkIG9wdHMnLnNwbGl0KCcgJyk7XG5cbmZ1bmN0aW9uIHJlbG9hZChuYW1lKSB7XG4gIHJpb3QudXRpbC5zdHlsZU1hbmFnZXIuaW5qZWN0KCk7XG5cbiAgdmFyIGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgobmFtZSArIFwiLCBbZGF0YS1pcz1cIiArIG5hbWUgKyBcIl1cIikpO1xuICB2YXIgdGFncyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWwgPSBlbGVtc1tpXSwgb2xkVGFnID0gZWwuX3RhZywgdjtcbiAgICByZWxvYWQudHJpZ2dlcignYmVmb3JlLXVubW91bnQnLCBvbGRUYWcpO1xuICAgIG9sZFRhZy51bm1vdW50KHRydWUpOyAvLyBkZXRhY2ggdGhlIG9sZCB0YWdcblxuICAgIC8vIHJlc2V0IHRoZSBpbm5lckhUTUwgYW5kIGF0dHJpYnV0ZXMgdG8gaG93IHRoZXkgd2VyZSBiZWZvcmUgbW91bnRcbiAgICBlbC5pbm5lckhUTUwgPSBvbGRUYWcuX18uaW5uZXJIVE1MO1xuICAgIChvbGRUYWcuX18uaW5zdEF0dHJzIHx8IFtdKS5tYXAoZnVuY3Rpb24oYXR0cikge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBjb3B5IG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBuZXcgdGFnXG4gICAgdmFyIG5ld09wdHMgPSB7fTtcbiAgICBmb3Ioa2V5IGluIG9sZFRhZy5vcHRzKSB7XG4gICAgICBuZXdPcHRzW2tleV0gPSBvbGRUYWcub3B0c1trZXldO1xuICAgIH1cbiAgICBuZXdPcHRzLnBhcmVudCA9IG9sZFRhZy5wYXJlbnQ7XG5cbiAgICAvLyBjcmVhdGUgdGhlIG5ldyB0YWdcbiAgICByZWxvYWQudHJpZ2dlcignYmVmb3JlLW1vdW50JywgbmV3T3B0cywgb2xkVGFnKTtcbiAgICB2YXIgbmV3VGFnID0gcmlvdC5tb3VudChlbCwgbmV3T3B0cylbMF07XG5cbiAgICAvLyBjb3B5IHN0YXRlIGZyb20gdGhlIG9sZCB0byBuZXcgdGFnXG4gICAgZm9yKHZhciBrZXkgaW4gb2xkVGFnKSB7XG4gICAgICB2ID0gb2xkVGFnW2tleV07XG4gICAgICBpZiAofm5vblN0YXRlLmluZGV4T2Yoa2V5KSkgeyBjb250aW51ZSB9XG4gICAgICBuZXdUYWdba2V5XSA9IHY7XG4gICAgfVxuICAgIG5ld1RhZy51cGRhdGUoKTtcbiAgICB0YWdzLnB1c2gobmV3VGFnKTtcbiAgICByZWxvYWQudHJpZ2dlcignYWZ0ZXItbW91bnQnLCBuZXdUYWcsIG9sZFRhZyk7XG4gIH1cblxuICByZXR1cm4gdGFnc1xufVxuXG5yaW90Lm9ic2VydmFibGUocmVsb2FkKTtcbnJpb3QucmVsb2FkID0gcmVsb2FkO1xuaWYgKHJpb3QuZGVmYXVsdCkgeyByaW90LmRlZmF1bHQucmVsb2FkID0gcmVsb2FkOyB9XG5cbmV4cG9ydHMucmVsb2FkID0gcmVsb2FkO1xuZXhwb3J0c1snZGVmYXVsdCddID0gcmVsb2FkO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuIiwiPGhlbGxvLXdvcmxkPlxuICA8IS0tIEhUTUwgLS0+XG5cbiAgPGgzPkhlbGxvIGZyb20gdGhlIEhlbGxvIFdvcmxkIFJpb3QgVGFnISE8L2gzPlxuXG48c2NyaXB0PlxuICAgIGNvbnNvbGUubG9nKFwiSGVsbG8gZnJvbSB0aGUgSGVsbG8gV29ybGQgUmlvdCBUYWdcIik7XG4gIDwvc2NyaXB0PlxuPC9oZWxsby13b3JsZD5cblxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwibWFpbi5jc3NcIjsiXSwic291cmNlUm9vdCI6IiJ9